import{j as e,u as g,a as y,b as h,R as p,c as u,d as j,r as m,l as b}from"./index-BQCe3qtq.js";const N=({analysisResult:a})=>!a||!a.gearAnalysis||a.gearAnalysis.length===0?e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No gear improvements suggested."}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 dark:text-gray-100",children:"Gear Improvements"}),a.gearAnalysis.length>0?e.jsx("div",{className:"space-y-4",children:a.gearAnalysis.map((t,n)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.itemName}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Slot: ",t.slot]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Implicit Mods: ",t.implicitMods.map(l=>l.text).join(", ")]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Explicit Mods: ",t.explicitMods.map(l=>l.text).join(", ")]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Suggestions: ",t.suggestions.map(l=>l.summary).join(", ")]}),t.suggestedItem&&e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Suggested Item: ",t.suggestedItem.name]})]},n))}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No gear improvements suggested."})]}),k=({analysisResult:a})=>!a||!a.passiveTreeAnalysis||!a.passiveTreeAnalysis.nodesToAllocate||a.passiveTreeAnalysis.nodesToAllocate.length===0?e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No tree improvements suggested."}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 dark:text-gray-100",children:"Passive Tree Improvements"}),a.passiveTreeAnalysis.nodesToAllocate.length>0?e.jsx("div",{className:"space-y-4",children:a.passiveTreeAnalysis.nodesToAllocate.map((t,n)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.summary})," ",e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Details: ",t.details]})]},n))}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No tree improvements suggested."})]}),v=()=>{const{pobInput:a,pobUrl:t,leagueContext:n}=g(),{handleRunSimulation:l,state:{simulationResult:r,isSimulating:c,simulationError:d}}=y(),{showError:o}=h(),x=()=>{l(a,t,n)};return p.useEffect(()=>{d&&o(d,"error")},[d,o]),c?e.jsx("div",{className:"flex justify-center items-center h-full",children:"Loading Simulation..."}):r?e.jsxs("div",{className:"flex-col gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex-row justify-between items-center",children:[e.jsx("p",{className:"opacity-80",children:"AI has analyzed complex upgrade paths."}),e.jsx("button",{onClick:x,className:"button button-secondary",children:"Re-run"})]})}),d&&e.jsxs("p",{className:"text-red-500 mb-4",children:["Error: ",d]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 dark:text-gray-100",children:"Simulation Results"}),r.timelessJewel&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Timeless Jewel"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Location: ",r.timelessJewel.socketLocation]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Name: ",r.timelessJewel.jewelName]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Summary: ",r.timelessJewel.summary]}),e.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Notable Stats:"}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300",children:r.timelessJewel.notableStats.map((s,i)=>e.jsx("li",{children:s},i))})]}),r.clusterJewels&&r.clusterJewels.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Cluster Jewels"}),e.jsx("div",{className:"space-y-2",children:r.clusterJewels.map((s,i)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:["Type: ",s.type]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Base Type: ",s.baseType]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Notables: ",s.notablePassives.join(", ")]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Summary: ",s.summary]})]},i))})]}),r.treeOptimizations&&r.treeOptimizations.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tree Optimizations"}),e.jsx("div",{className:"space-y-2",children:r.treeOptimizations.map((s,i)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:["Title: ",s.title]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Summary: ",s.summary]}),e.jsxs("p",{className:"text-green-500",children:["Pros: ",s.pros.join(", ")]}),e.jsxs("p",{className:"text-red-500",children:["Cons: ",s.cons.join(", ")]})]},i))})]}),e.jsx("button",{onClick:()=>l(a,t,n),disabled:c,className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Simulating...":"Run Simulation"})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl",children:"Unlock Deeper Insights"}),e.jsx("p",{className:"mt-2 opacity-70 max-w-md mx-auto",children:"Run advanced AI simulations to discover optimal Timeless Jewels, Cluster Jewel setups, and alternative passive tree pathing."}),e.jsx("button",{onClick:x,className:"button button-primary mt-6",children:e.jsx("span",{children:"Run Advanced Simulations"})})]})},w=()=>{const{analysisResult:a,checkedImprovements:t,handleToggleImprovement:n,error:l,isAnalyzing:r}=g();u(),j();const[c,d]=m.useState("improvements");if(m.useEffect(()=>{l&&b.error("AnalysisDashboard - Error",l)},[l]),r)return e.jsx("div",{className:"flex-col items-center justify-center h-full text-center",children:e.jsx("p",{className:"text-yellow mt-4",children:"Analyzing build..."})});if(!a)return null;const o=[{id:"improvements",label:"Improvements"},{id:"synergy",label:"Synergy"},{id:"gear",label:"Gear"},{id:"tree",label:"Tree"},{id:"simulation",label:"Simulation"}],x=()=>{switch(c){case"improvements":return e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 dark:text-gray-100",children:"Prioritized Improvements"}),e.jsx("div",{className:"space-y-4",children:a.prioritizedImprovements.map(s=>{const i=t.has(s.id);return e.jsxs("div",{className:"flex items-start p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:()=>n(s.id),className:"form-checkbox h-5 w-5 text-blue-600 rounded mt-1 mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:s.description}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["ROI: ",s.roi]}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Priority: ",s.priority]})]})]})]},s.id)})})]});case"synergy":return e.jsx("div",{children:a.synergyAnalysis&&a.synergyAnalysis.insights.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 dark:text-gray-100",children:"Synergy & Interactions"}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2",children:a.synergyAnalysis.insights.map((s,i)=>e.jsx("li",{children:s.description},i))})]}):e.jsx("p",{className:"opacity-50 text-center",children:"No synergy insights available for this build."})});case"gear":return e.jsx(N,{analysisResult:a});case"tree":return e.jsx(k,{analysisResult:a});case"simulation":return e.jsx(v,{});default:return null}};return e.jsxs("div",{className:"analysis-dashboard p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-lg min-h-screen-content",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"flex space-x-1 bg-gray-200 dark:bg-gray-800 p-1 rounded-lg",children:o.map(s=>e.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${c===s.id?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,onClick:()=>d(s.id),children:s.label},s.id))})}),x()]})};export{w as AnalysisDashboard,w as default};
