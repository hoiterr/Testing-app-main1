var Ng=Object.defineProperty;var Dg=(e,t,n)=>t in e?Ng(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pe=(e,t,n)=>Dg(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Lg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},ji={},Ud={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),Fg=Symbol.for("react.portal"),Ug=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),$g=Symbol.for("react.suspense"),Hg=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),Lu=Symbol.iterator;function bg(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,Od={};function pr(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Vd}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bd(){}Bd.prototype=pr.prototype;function Aa(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Vd}var ka=Aa.prototype=new Bd;ka.constructor=Aa;zd(ka,pr.prototype);ka.isPureReactComponent=!0;var Fu=Array.isArray,Gd=Object.prototype.hasOwnProperty,Pa={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Hd(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Gd.call(t,r)&&!$d.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var f=Array(s),c=0;c<s;c++)f[c]=arguments[c+2];o.children=f}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:To,type:e,key:i,ref:l,props:o,_owner:Pa.current}}function Wg(e,t){return{$$typeof:To,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ra(e){return typeof e=="object"&&e!==null&&e.$$typeof===To}function Yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uu=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yg(""+e.key):t.toString(36)}function ai(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case To:case Fg:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Pl(l,0):r,Fu(o)?(n="",e!=null&&(n=e.replace(Uu,"$&/")+"/"),ai(o,t,n,"",function(c){return c})):o!=null&&(Ra(o)&&(o=Wg(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Uu,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Fu(e))for(var s=0;s<e.length;s++){i=e[s];var f=r+Pl(i,s);l+=ai(i,t,n,f,o)}else if(f=bg(e),typeof f=="function")for(e=f.call(e),s=0;!(i=e.next()).done;)i=i.value,f=r+Pl(i,s++),l+=ai(i,t,n,f,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Vo(e,t,n){if(e==null)return e;var r=[],o=0;return ai(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Kg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ui={transition:null},Jg={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ui,ReactCurrentOwner:Pa};function qd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Vo,forEach:function(e,t,n){Vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vo(e,function(){t++}),t},toArray:function(e){return Vo(e,function(t){return t})||[]},only:function(e){if(!Ra(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=pr;B.Fragment=Ug;B.Profiler=zg;B.PureComponent=Aa;B.StrictMode=Vg;B.Suspense=$g;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg;B.act=qd;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zd({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Pa.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(f in t)Gd.call(t,f)&&!$d.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&s!==void 0?s[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){s=Array(f);for(var c=0;c<f;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:To,type:e.type,key:o,ref:i,props:r,_owner:l}};B.createContext=function(e){return e={$$typeof:Bg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Og,_context:e},e.Consumer=e};B.createElement=Hd;B.createFactory=function(e){var t=Hd.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Gg,render:e}};B.isValidElement=Ra;B.lazy=function(e){return{$$typeof:qg,_payload:{_status:-1,_result:e},_init:Kg}};B.memo=function(e,t){return{$$typeof:Hg,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=ui.transition;ui.transition={};try{e()}finally{ui.transition=t}};B.unstable_act=qd;B.useCallback=function(e,t){return Ae.current.useCallback(e,t)};B.useContext=function(e){return Ae.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ae.current.useEffect(e,t)};B.useId=function(){return Ae.current.useId()};B.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ae.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};B.useRef=function(e){return Ae.current.useRef(e)};B.useState=function(e){return Ae.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Ae.current.useTransition()};B.version="18.3.1";Ud.exports=B;var I=Ud.exports;const bd=Lg(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=I,Qg=Symbol.for("react.element"),Xg=Symbol.for("react.fragment"),jg=Object.prototype.hasOwnProperty,ey=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ty={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)jg.call(t,r)&&!ty.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Qg,type:e,key:i,ref:l,props:o,_owner:ey.current}}ji.Fragment=Xg;ji.jsx=Wd;ji.jsxs=Wd;Fd.exports=ji;var U=Fd.exports,ys={},Yd={exports:{}},qe={},Kd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,V){var z=R.length;R.push(V);e:for(;0<z;){var j=z-1>>>1,re=R[j];if(0<o(re,V))R[j]=V,R[z]=re,z=j;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var V=R[0],z=R.pop();if(z!==V){R[0]=z;e:for(var j=0,re=R.length,Ln=re>>>1;j<Ln;){var ft=2*(j+1)-1,Er=R[ft],rt=ft+1,Fn=R[rt];if(0>o(Er,z))rt<re&&0>o(Fn,Er)?(R[j]=Fn,R[rt]=z,j=rt):(R[j]=Er,R[ft]=z,j=ft);else if(rt<re&&0>o(Fn,z))R[j]=Fn,R[rt]=z,j=rt;else break e}}return V}function o(R,V){var z=R.sortIndex-V.sortIndex;return z!==0?z:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var f=[],c=[],d=1,p=null,h=3,m=!1,E=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=R)r(c),V.sortIndex=V.expirationTime,t(f,V);else break;V=n(c)}}function v(R){if(S=!1,g(R),!E)if(n(f)!==null)E=!0,nt(T);else{var V=n(c);V!==null&&Dn(v,V.startTime-R)}}function T(R,V){E=!1,S&&(S=!1,_(P),P=-1),m=!0;var z=h;try{for(g(V),p=n(f);p!==null&&(!(p.expirationTime>V)||R&&!L());){var j=p.callback;if(typeof j=="function"){p.callback=null,h=p.priorityLevel;var re=j(p.expirationTime<=V);V=e.unstable_now(),typeof re=="function"?p.callback=re:p===n(f)&&r(f),g(V)}else r(f);p=n(f)}if(p!==null)var Ln=!0;else{var ft=n(c);ft!==null&&Dn(v,ft.startTime-V),Ln=!1}return Ln}finally{p=null,h=z,m=!1}}var x=!1,C=null,P=-1,N=5,A=-1;function L(){return!(e.unstable_now()-A<N)}function J(){if(C!==null){var R=e.unstable_now();A=R;var V=!0;try{V=C(!0,R)}finally{V?Ve():(x=!1,C=null)}}else x=!1}var Ve;if(typeof y=="function")Ve=function(){y(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,We=X.port2;X.port1.onmessage=J,Ve=function(){We.postMessage(null)}}else Ve=function(){w(J,0)};function nt(R){C=R,x||(x=!0,Ve())}function Dn(R,V){P=w(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){E||m||(E=!0,nt(T))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var z=h;h=V;try{return R()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=h;h=R;try{return V()}finally{h=z}},e.unstable_scheduleCallback=function(R,V,z){var j=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?j+z:j):z=j,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,R={id:d++,callback:V,priorityLevel:R,startTime:z,expirationTime:re,sortIndex:-1},z>j?(R.sortIndex=z,t(c,R),n(f)===null&&R===n(c)&&(S?(_(P),P=-1):S=!0,Dn(v,z-j))):(R.sortIndex=re,t(f,R),E||m||(E=!0,nt(T))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var V=h;return function(){var z=h;h=V;try{return R.apply(this,arguments)}finally{h=z}}}})(Jd);Kd.exports=Jd;var ny=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=I,He=ny;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zd=new Set,Jr={};function Rn(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(Jr[e]=t,e=0;e<t.length;e++)Zd.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=Object.prototype.hasOwnProperty,oy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vu={},zu={};function iy(e){return vs.call(zu,e)?!0:vs.call(Vu,e)?!1:oy.test(e)?zu[e]=!0:(Vu[e]=!0,!1)}function ly(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sy(e,t,n,r){if(t===null||typeof t>"u"||ly(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ma=/[\-:]([a-z])/g;function Na(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ma,Na);ye[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ma,Na);ye[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ma,Na);ye[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Da(e,t,n,r){var o=ye.hasOwnProperty(t)?ye[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sy(t,n,o,r)&&(n=null),r||o===null?iy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),On=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),La=Symbol.for("react.strict_mode"),_s=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),Fa=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),Ss=Symbol.for("react.suspense_list"),Ua=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),Ou=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=Ou&&e[Ou]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Rl;function Rr(e){if(Rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Ml=!1;function Nl(e,t){if(!e||Ml)return"";Ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,s=i.length-1;1<=l&&0<=s&&o[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==i[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==i[s]){var f=`
`+o[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=s);break}}}finally{Ml=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function ay(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function Cs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bn:return"Fragment";case On:return"Portal";case _s:return"Profiler";case La:return"StrictMode";case Es:return"Suspense";case Ss:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xd:return(e.displayName||"Context")+".Consumer";case Qd:return(e._context.displayName||"Context")+".Provider";case Fa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ua:return t=e.displayName||null,t!==null?t:Cs(e.type)||"Memo";case zt:t=e._payload,e=e._init;try{return Cs(e(t))}catch{}}return null}function uy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cs(t);case 8:return t===La?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cy(e){var t=ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oo(e){e._valueTracker||(e._valueTracker=cy(e))}function tp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ep(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ts(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function np(e,t){t=t.checked,t!=null&&Da(e,"checked",t,!1)}function ws(e,t){np(e,t);var n=rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xs(e,t.type,n):t.hasOwnProperty("defaultValue")&&xs(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xs(e,t,n){(t!=="number"||Ti(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Is(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $u(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Mr(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rn(n)}}function rp(e,t){var n=rn(t.value),r=rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function As(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bo,ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fy=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(e){fy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vr[t]=Vr[e]})});function lp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vr.hasOwnProperty(e)&&Vr[e]?(""+t).trim():t+"px"}function sp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=lp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var dy=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ks(e,t){if(t){if(dy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function Ps(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ms=null,Xn=null,jn=null;function qu(e){if(e=Io(e)){if(typeof Ms!="function")throw Error(k(280));var t=e.stateNode;t&&(t=ol(t),Ms(e.stateNode,e.type,t))}}function ap(e){Xn?jn?jn.push(e):jn=[e]:Xn=e}function up(){if(Xn){var e=Xn,t=jn;if(jn=Xn=null,qu(e),t)for(e=0;e<t.length;e++)qu(t[e])}}function cp(e,t){return e(t)}function fp(){}var Dl=!1;function dp(e,t,n){if(Dl)return e(t,n);Dl=!0;try{return cp(e,t,n)}finally{Dl=!1,(Xn!==null||jn!==null)&&(fp(),up())}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Ns=!1;if(Pt)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Ns=!1}function py(e,t,n,r,o,i,l,s,f){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var zr=!1,wi=null,xi=!1,Ds=null,hy={onError:function(e){zr=!0,wi=e}};function my(e,t,n,r,o,i,l,s,f){zr=!1,wi=null,py.apply(hy,arguments)}function gy(e,t,n,r,o,i,l,s,f){if(my.apply(this,arguments),zr){if(zr){var c=wi;zr=!1,wi=null}else throw Error(k(198));xi||(xi=!0,Ds=c)}}function Mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bu(e){if(Mn(e)!==e)throw Error(k(188))}function yy(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return bu(o),e;if(i===r)return bu(o),t;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function hp(e){return e=yy(e),e!==null?mp(e):null}function mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mp(e);if(t!==null)return t;e=e.sibling}return null}var gp=He.unstable_scheduleCallback,Wu=He.unstable_cancelCallback,vy=He.unstable_shouldYield,_y=He.unstable_requestPaint,le=He.unstable_now,Ey=He.unstable_getCurrentPriorityLevel,za=He.unstable_ImmediatePriority,yp=He.unstable_UserBlockingPriority,Ii=He.unstable_NormalPriority,Sy=He.unstable_LowPriority,vp=He.unstable_IdlePriority,el=null,yt=null;function Cy(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:xy,Ty=Math.log,wy=Math.LN2;function xy(e){return e>>>=0,e===0?32:31-(Ty(e)/wy|0)|0}var Go=64,$o=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=Nr(s):(i&=l,i!==0&&(r=Nr(i)))}else l=n&~o,l!==0?r=Nr(l):i!==0&&(r=Nr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),o=1<<n,r|=e[n],t&=~o;return r}function Iy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ay(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-at(i),s=1<<l,f=o[l];f===-1?(!(s&n)||s&r)&&(o[l]=Iy(s,t)):f<=t&&(e.expiredLanes|=s),i&=~s}}function Ls(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _p(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function ky(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Oa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var b=0;function Ep(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sp,Ba,Cp,Tp,wp,Fs=!1,Ho=[],Wt=null,Yt=null,Kt=null,Xr=new Map,jr=new Map,Bt=[],Py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yu(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Tr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Io(t),t!==null&&Ba(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ry(e,t,n,r,o){switch(t){case"focusin":return Wt=Tr(Wt,e,t,n,r,o),!0;case"dragenter":return Yt=Tr(Yt,e,t,n,r,o),!0;case"mouseover":return Kt=Tr(Kt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Xr.set(i,Tr(Xr.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,jr.set(i,Tr(jr.get(i)||null,e,t,n,r,o)),!0}return!1}function xp(e){var t=hn(e.target);if(t!==null){var n=Mn(t);if(n!==null){if(t=n.tag,t===13){if(t=pp(n),t!==null){e.blockedOn=t,wp(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Us(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rs=r,n.target.dispatchEvent(r),Rs=null}else return t=Io(n),t!==null&&Ba(t),e.blockedOn=n,!1;t.shift()}return!0}function Ku(e,t,n){ci(e)&&n.delete(t)}function My(){Fs=!1,Wt!==null&&ci(Wt)&&(Wt=null),Yt!==null&&ci(Yt)&&(Yt=null),Kt!==null&&ci(Kt)&&(Kt=null),Xr.forEach(Ku),jr.forEach(Ku)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Fs||(Fs=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,My)))}function eo(e){function t(o){return wr(o,e)}if(0<Ho.length){wr(Ho[0],e);for(var n=1;n<Ho.length;n++){var r=Ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&wr(Wt,e),Yt!==null&&wr(Yt,e),Kt!==null&&wr(Kt,e),Xr.forEach(t),jr.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)xp(n),n.blockedOn===null&&Bt.shift()}var er=Dt.ReactCurrentBatchConfig,ki=!0;function Ny(e,t,n,r){var o=b,i=er.transition;er.transition=null;try{b=1,Ga(e,t,n,r)}finally{b=o,er.transition=i}}function Dy(e,t,n,r){var o=b,i=er.transition;er.transition=null;try{b=4,Ga(e,t,n,r)}finally{b=o,er.transition=i}}function Ga(e,t,n,r){if(ki){var o=Us(e,t,n,r);if(o===null)ql(e,t,r,Pi,n),Yu(e,r);else if(Ry(o,e,t,n,r))r.stopPropagation();else if(Yu(e,r),t&4&&-1<Py.indexOf(e)){for(;o!==null;){var i=Io(o);if(i!==null&&Sp(i),i=Us(e,t,n,r),i===null&&ql(e,t,r,Pi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Pi=null;function Us(e,t,n,r){if(Pi=null,e=Va(r),e=hn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function Ip(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ey()){case za:return 1;case yp:return 4;case Ii:case Sy:return 16;case vp:return 536870912;default:return 16}default:return 16}}var Ht=null,$a=null,fi=null;function Ap(){if(fi)return fi;var e,t=$a,n=t.length,r,o="value"in Ht?Ht.value:Ht.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return fi=o.slice(e,1<r?1-r:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function Ju(){return!1}function be(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qo:Ju,this.isPropagationStopped=Ju,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=be(hr),xo=ne({},hr,{view:0,detail:0}),Ly=be(xo),Fl,Ul,xr,tl=ne({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Fl=e.screenX-xr.screenX,Ul=e.screenY-xr.screenY):Ul=Fl=0,xr=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),Zu=be(tl),Fy=ne({},tl,{dataTransfer:0}),Uy=be(Fy),Vy=ne({},xo,{relatedTarget:0}),Vl=be(Vy),zy=ne({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=be(zy),By=ne({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gy=be(By),$y=ne({},hr,{data:0}),Qu=be($y),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},by={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=by[e])?!!t[e]:!1}function qa(){return Wy}var Yy=ne({},xo,{key:function(e){if(e.key){var t=Hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ky=be(Yy),Jy=ne({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=be(Jy),Zy=ne({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Qy=be(Zy),Xy=ne({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jy=be(Xy),ev=ne({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=be(ev),nv=[9,13,27,32],ba=Pt&&"CompositionEvent"in window,Or=null;Pt&&"documentMode"in document&&(Or=document.documentMode);var rv=Pt&&"TextEvent"in window&&!Or,kp=Pt&&(!ba||Or&&8<Or&&11>=Or),ju=" ",ec=!1;function Pp(e,t){switch(e){case"keyup":return nv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function ov(e,t){switch(e){case"compositionend":return Rp(t);case"keypress":return t.which!==32?null:(ec=!0,ju);case"textInput":return e=t.data,e===ju&&ec?null:e;default:return null}}function iv(e,t){if(Gn)return e==="compositionend"||!ba&&Pp(e,t)?(e=Ap(),fi=$a=Ht=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kp&&t.locale!=="ko"?null:t.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lv[e.type]:t==="textarea"}function Mp(e,t,n,r){ap(r),t=Ri(t,"onChange"),0<t.length&&(n=new Ha("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Br=null,to=null;function sv(e){$p(e,0)}function nl(e){var t=qn(e);if(tp(t))return e}function av(e,t){if(e==="change")return t}var Np=!1;if(Pt){var zl;if(Pt){var Ol="oninput"in document;if(!Ol){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),Ol=typeof nc.oninput=="function"}zl=Ol}else zl=!1;Np=zl&&(!document.documentMode||9<document.documentMode)}function rc(){Br&&(Br.detachEvent("onpropertychange",Dp),to=Br=null)}function Dp(e){if(e.propertyName==="value"&&nl(to)){var t=[];Mp(t,to,e,Va(e)),dp(sv,t)}}function uv(e,t,n){e==="focusin"?(rc(),Br=t,to=n,Br.attachEvent("onpropertychange",Dp)):e==="focusout"&&rc()}function cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(to)}function fv(e,t){if(e==="click")return nl(t)}function dv(e,t){if(e==="input"||e==="change")return nl(t)}function pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:pv;function no(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!vs.call(t,o)||!ct(e[o],t[o]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ic(e,t){var n=oc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oc(n)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fp(){for(var e=window,t=Ti();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ti(e.document)}return t}function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hv(e){var t=Fp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&Wa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ic(n,i);var l=ic(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mv=Pt&&"documentMode"in document&&11>=document.documentMode,$n=null,Vs=null,Gr=null,zs=!1;function lc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zs||$n==null||$n!==Ti(r)||(r=$n,"selectionStart"in r&&Wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&no(Gr,r)||(Gr=r,r=Ri(Vs,"onSelect"),0<r.length&&(t=new Ha("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$n)))}function bo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},Bl={},Up={};Pt&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function rl(e){if(Bl[e])return Bl[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Up)return Bl[e]=t[n];return e}var Vp=rl("animationend"),zp=rl("animationiteration"),Op=rl("animationstart"),Bp=rl("transitionend"),Gp=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){Gp.set(e,t),Rn(t,[e])}for(var Gl=0;Gl<sc.length;Gl++){var $l=sc[Gl],gv=$l.toLowerCase(),yv=$l[0].toUpperCase()+$l.slice(1);ln(gv,"on"+yv)}ln(Vp,"onAnimationEnd");ln(zp,"onAnimationIteration");ln(Op,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(Bp,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function ac(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gy(r,t,void 0,e),e.currentTarget=null}function $p(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],f=s.instance,c=s.currentTarget;if(s=s.listener,f!==i&&o.isPropagationStopped())break e;ac(o,s,c),i=f}else for(l=0;l<r.length;l++){if(s=r[l],f=s.instance,c=s.currentTarget,s=s.listener,f!==i&&o.isPropagationStopped())break e;ac(o,s,c),i=f}}}if(xi)throw e=Ds,xi=!1,Ds=null,e}function Y(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var r=e+"__bubble";n.has(r)||(Hp(t,e,2,!1),n.add(r))}function Hl(e,t,n){var r=0;t&&(r|=4),Hp(n,e,r,t)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function ro(e){if(!e[Wo]){e[Wo]=!0,Zd.forEach(function(n){n!=="selectionchange"&&(vv.has(n)||Hl(n,!1,e),Hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wo]||(t[Wo]=!0,Hl("selectionchange",!1,t))}}function Hp(e,t,n,r){switch(Ip(t)){case 1:var o=Ny;break;case 4:o=Dy;break;default:o=Ga}n=o.bind(null,t,n,e),o=void 0,!Ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;l=l.return}for(;s!==null;){if(l=hn(s),l===null)return;if(f=l.tag,f===5||f===6){r=i=l;continue e}s=s.parentNode}}r=r.return}dp(function(){var c=i,d=Va(n),p=[];e:{var h=Gp.get(e);if(h!==void 0){var m=Ha,E=e;switch(e){case"keypress":if(di(n)===0)break e;case"keydown":case"keyup":m=Ky;break;case"focusin":E="focus",m=Vl;break;case"focusout":E="blur",m=Vl;break;case"beforeblur":case"afterblur":m=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Qy;break;case Vp:case zp:case Op:m=Oy;break;case Bp:m=jy;break;case"scroll":m=Ly;break;case"wheel":m=tv;break;case"copy":case"cut":case"paste":m=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xu}var S=(t&4)!==0,w=!S&&e==="scroll",_=S?h!==null?h+"Capture":null:h;S=[];for(var y=c,g;y!==null;){g=y;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,_!==null&&(v=Qr(y,_),v!=null&&S.push(oo(y,v,g)))),w)break;y=y.return}0<S.length&&(h=new m(h,E,null,n,d),p.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Rs&&(E=n.relatedTarget||n.fromElement)&&(hn(E)||E[Rt]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=c,E=E?hn(E):null,E!==null&&(w=Mn(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(S=Zu,v="onMouseLeave",_="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(S=Xu,v="onPointerLeave",_="onPointerEnter",y="pointer"),w=m==null?h:qn(m),g=E==null?h:qn(E),h=new S(v,y+"leave",m,n,d),h.target=w,h.relatedTarget=g,v=null,hn(d)===c&&(S=new S(_,y+"enter",E,n,d),S.target=g,S.relatedTarget=w,v=S),w=v,m&&E)t:{for(S=m,_=E,y=0,g=S;g;g=Un(g))y++;for(g=0,v=_;v;v=Un(v))g++;for(;0<y-g;)S=Un(S),y--;for(;0<g-y;)_=Un(_),g--;for(;y--;){if(S===_||_!==null&&S===_.alternate)break t;S=Un(S),_=Un(_)}S=null}else S=null;m!==null&&uc(p,h,m,S,!1),E!==null&&w!==null&&uc(p,w,E,S,!0)}}e:{if(h=c?qn(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=av;else if(tc(h))if(Np)T=dv;else{T=cv;var x=uv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=fv);if(T&&(T=T(e,c))){Mp(p,T,n,d);break e}x&&x(e,h,c),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&xs(h,"number",h.value)}switch(x=c?qn(c):window,e){case"focusin":(tc(x)||x.contentEditable==="true")&&($n=x,Vs=c,Gr=null);break;case"focusout":Gr=Vs=$n=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,lc(p,n,d);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":lc(p,n,d)}var C;if(ba)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Gn?Pp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(kp&&n.locale!=="ko"&&(Gn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Gn&&(C=Ap()):(Ht=d,$a="value"in Ht?Ht.value:Ht.textContent,Gn=!0)),x=Ri(c,P),0<x.length&&(P=new Qu(P,e,null,n,d),p.push({event:P,listeners:x}),C?P.data=C:(C=Rp(n),C!==null&&(P.data=C)))),(C=rv?ov(e,n):iv(e,n))&&(c=Ri(c,"onBeforeInput"),0<c.length&&(d=new Qu("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=C))}$p(p,t)})}function oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ri(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Qr(e,n),i!=null&&r.unshift(oo(e,i,o)),i=Qr(e,t),i!=null&&r.push(oo(e,i,o))),e=e.return}return r}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uc(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var s=n,f=s.alternate,c=s.stateNode;if(f!==null&&f===r)break;s.tag===5&&c!==null&&(s=c,o?(f=Qr(n,i),f!=null&&l.unshift(oo(n,f,s))):o||(f=Qr(n,i),f!=null&&l.push(oo(n,f,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var _v=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(_v,`
`).replace(Ev,"")}function Yo(e,t,n){if(t=cc(t),cc(e)!==t&&n)throw Error(k(425))}function Mi(){}var Os=null,Bs=null;function Gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $s=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,fc=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof fc<"u"?function(e){return fc.resolve(null).then(e).catch(Tv)}:$s;function Tv(e){setTimeout(function(){throw e})}function bl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),eo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);eo(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),mt="__reactFiber$"+mr,io="__reactProps$"+mr,Rt="__reactContainer$"+mr,Hs="__reactEvents$"+mr,wv="__reactListeners$"+mr,xv="__reactHandles$"+mr;function hn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dc(e);e!==null;){if(n=e[mt])return n;e=dc(e)}return t}e=n,n=e.parentNode}return null}function Io(e){return e=e[mt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function ol(e){return e[io]||null}var qs=[],bn=-1;function sn(e){return{current:e}}function K(e){0>bn||(e.current=qs[bn],qs[bn]=null,bn--)}function W(e,t){bn++,qs[bn]=e.current,e.current=t}var on={},Ce=sn(on),Le=sn(!1),Cn=on;function ir(e,t){var n=e.type.contextTypes;if(!n)return on;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fe(e){return e=e.childContextTypes,e!=null}function Ni(){K(Le),K(Ce)}function pc(e,t,n){if(Ce.current!==on)throw Error(k(168));W(Ce,t),W(Le,n)}function qp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(k(108,uy(e)||"Unknown",o));return ne({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,Cn=Ce.current,W(Ce,e),W(Le,Le.current),!0}function hc(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=qp(e,t,Cn),r.__reactInternalMemoizedMergedChildContext=e,K(Le),K(Ce),W(Ce,e)):K(Le),W(Le,n)}var Tt=null,il=!1,Wl=!1;function bp(e){Tt===null?Tt=[e]:Tt.push(e)}function Iv(e){il=!0,bp(e)}function an(){if(!Wl&&Tt!==null){Wl=!0;var e=0,t=b;try{var n=Tt;for(b=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,il=!1}catch(o){throw Tt!==null&&(Tt=Tt.slice(e+1)),gp(za,an),o}finally{b=t,Wl=!1}}return null}var Wn=[],Yn=0,Li=null,Fi=0,Ye=[],Ke=0,Tn=null,It=1,At="";function dn(e,t){Wn[Yn++]=Fi,Wn[Yn++]=Li,Li=e,Fi=t}function Wp(e,t,n){Ye[Ke++]=It,Ye[Ke++]=At,Ye[Ke++]=Tn,Tn=e;var r=It;e=At;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,It=1<<32-at(t)+o|n<<o|r,At=i+e}else It=1<<i|n<<o|r,At=e}function Ya(e){e.return!==null&&(dn(e,1),Wp(e,1,0))}function Ka(e){for(;e===Li;)Li=Wn[--Yn],Wn[Yn]=null,Fi=Wn[--Yn],Wn[Yn]=null;for(;e===Tn;)Tn=Ye[--Ke],Ye[Ke]=null,At=Ye[--Ke],Ye[Ke]=null,It=Ye[--Ke],Ye[Ke]=null}var $e=null,Be=null,Q=!1,st=null;function Yp(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Be=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tn!==null?{id:It,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$e=e,Be=null,!0):!1;default:return!1}}function bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ws(e){if(Q){var t=Be;if(t){var n=t;if(!mc(e,t)){if(bs(e))throw Error(k(418));t=Jt(n.nextSibling);var r=$e;t&&mc(e,t)?Yp(r,n):(e.flags=e.flags&-4097|2,Q=!1,$e=e)}}else{if(bs(e))throw Error(k(418));e.flags=e.flags&-4097|2,Q=!1,$e=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function Ko(e){if(e!==$e)return!1;if(!Q)return gc(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gs(e.type,e.memoizedProps)),t&&(t=Be)){if(bs(e))throw Kp(),Error(k(418));for(;t;)Yp(e,t),t=Jt(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Be=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=$e?Jt(e.stateNode.nextSibling):null;return!0}function Kp(){for(var e=Be;e;)e=Jt(e.nextSibling)}function lr(){Be=$e=null,Q=!1}function Ja(e){st===null?st=[e]:st.push(e)}var Av=Dt.ReactCurrentBatchConfig;function Ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var s=o.refs;l===null?delete s[i]:s[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yc(e){var t=e._init;return t(e._payload)}function Jp(e){function t(_,y){if(e){var g=_.deletions;g===null?(_.deletions=[y],_.flags|=16):g.push(y)}}function n(_,y){if(!e)return null;for(;y!==null;)t(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function o(_,y){return _=jt(_,y),_.index=0,_.sibling=null,_}function i(_,y,g){return _.index=g,e?(g=_.alternate,g!==null?(g=g.index,g<y?(_.flags|=2,y):g):(_.flags|=2,y)):(_.flags|=1048576,y)}function l(_){return e&&_.alternate===null&&(_.flags|=2),_}function s(_,y,g,v){return y===null||y.tag!==6?(y=jl(g,_.mode,v),y.return=_,y):(y=o(y,g),y.return=_,y)}function f(_,y,g,v){var T=g.type;return T===Bn?d(_,y,g.props.children,v,g.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===zt&&yc(T)===y.type)?(v=o(y,g.props),v.ref=Ir(_,y,g),v.return=_,v):(v=_i(g.type,g.key,g.props,null,_.mode,v),v.ref=Ir(_,y,g),v.return=_,v)}function c(_,y,g,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=es(g,_.mode,v),y.return=_,y):(y=o(y,g.children||[]),y.return=_,y)}function d(_,y,g,v,T){return y===null||y.tag!==7?(y=Sn(g,_.mode,v,T),y.return=_,y):(y=o(y,g),y.return=_,y)}function p(_,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jl(""+y,_.mode,g),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zo:return g=_i(y.type,y.key,y.props,null,_.mode,g),g.ref=Ir(_,null,y),g.return=_,g;case On:return y=es(y,_.mode,g),y.return=_,y;case zt:var v=y._init;return p(_,v(y._payload),g)}if(Mr(y)||Sr(y))return y=Sn(y,_.mode,g,null),y.return=_,y;Jo(_,y)}return null}function h(_,y,g,v){var T=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:s(_,y,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zo:return g.key===T?f(_,y,g,v):null;case On:return g.key===T?c(_,y,g,v):null;case zt:return T=g._init,h(_,y,T(g._payload),v)}if(Mr(g)||Sr(g))return T!==null?null:d(_,y,g,v,null);Jo(_,g)}return null}function m(_,y,g,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return _=_.get(g)||null,s(y,_,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:return _=_.get(v.key===null?g:v.key)||null,f(y,_,v,T);case On:return _=_.get(v.key===null?g:v.key)||null,c(y,_,v,T);case zt:var x=v._init;return m(_,y,g,x(v._payload),T)}if(Mr(v)||Sr(v))return _=_.get(g)||null,d(y,_,v,T,null);Jo(y,v)}return null}function E(_,y,g,v){for(var T=null,x=null,C=y,P=y=0,N=null;C!==null&&P<g.length;P++){C.index>P?(N=C,C=null):N=C.sibling;var A=h(_,C,g[P],v);if(A===null){C===null&&(C=N);break}e&&C&&A.alternate===null&&t(_,C),y=i(A,y,P),x===null?T=A:x.sibling=A,x=A,C=N}if(P===g.length)return n(_,C),Q&&dn(_,P),T;if(C===null){for(;P<g.length;P++)C=p(_,g[P],v),C!==null&&(y=i(C,y,P),x===null?T=C:x.sibling=C,x=C);return Q&&dn(_,P),T}for(C=r(_,C);P<g.length;P++)N=m(C,_,P,g[P],v),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?P:N.key),y=i(N,y,P),x===null?T=N:x.sibling=N,x=N);return e&&C.forEach(function(L){return t(_,L)}),Q&&dn(_,P),T}function S(_,y,g,v){var T=Sr(g);if(typeof T!="function")throw Error(k(150));if(g=T.call(g),g==null)throw Error(k(151));for(var x=T=null,C=y,P=y=0,N=null,A=g.next();C!==null&&!A.done;P++,A=g.next()){C.index>P?(N=C,C=null):N=C.sibling;var L=h(_,C,A.value,v);if(L===null){C===null&&(C=N);break}e&&C&&L.alternate===null&&t(_,C),y=i(L,y,P),x===null?T=L:x.sibling=L,x=L,C=N}if(A.done)return n(_,C),Q&&dn(_,P),T;if(C===null){for(;!A.done;P++,A=g.next())A=p(_,A.value,v),A!==null&&(y=i(A,y,P),x===null?T=A:x.sibling=A,x=A);return Q&&dn(_,P),T}for(C=r(_,C);!A.done;P++,A=g.next())A=m(C,_,P,A.value,v),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),y=i(A,y,P),x===null?T=A:x.sibling=A,x=A);return e&&C.forEach(function(J){return t(_,J)}),Q&&dn(_,P),T}function w(_,y,g,v){if(typeof g=="object"&&g!==null&&g.type===Bn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case zo:e:{for(var T=g.key,x=y;x!==null;){if(x.key===T){if(T=g.type,T===Bn){if(x.tag===7){n(_,x.sibling),y=o(x,g.props.children),y.return=_,_=y;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===zt&&yc(T)===x.type){n(_,x.sibling),y=o(x,g.props),y.ref=Ir(_,x,g),y.return=_,_=y;break e}n(_,x);break}else t(_,x);x=x.sibling}g.type===Bn?(y=Sn(g.props.children,_.mode,v,g.key),y.return=_,_=y):(v=_i(g.type,g.key,g.props,null,_.mode,v),v.ref=Ir(_,y,g),v.return=_,_=v)}return l(_);case On:e:{for(x=g.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(_,y.sibling),y=o(y,g.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else t(_,y);y=y.sibling}y=es(g,_.mode,v),y.return=_,_=y}return l(_);case zt:return x=g._init,w(_,y,x(g._payload),v)}if(Mr(g))return E(_,y,g,v);if(Sr(g))return S(_,y,g,v);Jo(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(_,y.sibling),y=o(y,g),y.return=_,_=y):(n(_,y),y=jl(g,_.mode,v),y.return=_,_=y),l(_)):n(_,y)}return w}var sr=Jp(!0),Zp=Jp(!1),Ui=sn(null),Vi=null,Kn=null,Za=null;function Qa(){Za=Kn=Vi=null}function Xa(e){var t=Ui.current;K(Ui),e._currentValue=t}function Ys(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){Vi=e,Za=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(Za!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(Vi===null)throw Error(k(308));Kn=e,Vi.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var mn=null;function ja(e){mn===null?mn=[e]:mn.push(e)}function Qp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ja(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mt(e,n)}return o=r.interleaved,o===null?(t.next=t,ja(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mt(e,n)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oa(e,n)}}function vc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var o=e.updateQueue;Ot=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var f=s,c=f.next;f.next=null,l===null?i=c:l.next=c,l=f;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==l&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=f))}if(i!==null){var p=o.baseState;l=0,d=c=f=null,s=i;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=e,S=s;switch(h=t,m=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){p=E.call(m,p,h);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,h=typeof E=="function"?E.call(m,p,h):E,h==null)break e;p=ne({},p,h);break e;case 2:Ot=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,f=p):d=d.next=m,l|=h;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;h=s,s=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(f=p),o.baseState=f,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);xn|=l,e.lanes=l,e.memoizedState=p}}function _c(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(k(191,o));o.call(r)}}}var Ao={},vt=sn(Ao),lo=sn(Ao),so=sn(Ao);function gn(e){if(e===Ao)throw Error(k(174));return e}function tu(e,t){switch(W(so,t),W(lo,e),W(vt,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:As(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=As(t,e)}K(vt),W(vt,t)}function ar(){K(vt),K(lo),K(so)}function jp(e){gn(so.current);var t=gn(vt.current),n=As(t,e.type);t!==n&&(W(lo,e),W(vt,n))}function nu(e){lo.current===e&&(K(vt),K(lo))}var ee=sn(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function ru(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var hi=Dt.ReactCurrentDispatcher,Kl=Dt.ReactCurrentBatchConfig,wn=0,te=null,ue=null,de=null,Bi=!1,$r=!1,ao=0,kv=0;function ve(){throw Error(k(321))}function ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function iu(e,t,n,r,o,i){if(wn=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?Nv:Dv,e=n(r,o),$r){i=0;do{if($r=!1,ao=0,25<=i)throw Error(k(301));i+=1,de=ue=null,t.updateQueue=null,hi.current=Lv,e=n(r,o)}while($r)}if(hi.current=Gi,t=ue!==null&&ue.next!==null,wn=0,de=ue=te=null,Bi=!1,t)throw Error(k(300));return e}function lu(){var e=ao!==0;return ao=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?te.memoizedState=de=e:de=de.next=e,de}function je(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=de===null?te.memoizedState:de.next;if(t!==null)de=t,ue=e;else{if(e===null)throw Error(k(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},de===null?te.memoizedState=de=e:de=de.next=e}return de}function uo(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=je(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=ue,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=l=null,f=null,c=i;do{var d=c.lane;if((wn&d)===d)f!==null&&(f=f.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};f===null?(s=f=p,l=r):f=f.next=p,te.lanes|=d,xn|=d}c=c.next}while(c!==null&&c!==i);f===null?l=r:f.next=s,ct(r,t.memoizedState)||(Me=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,te.lanes|=i,xn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zl(e){var t=je(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);ct(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function eh(){}function th(e,t){var n=te,r=je(),o=t(),i=!ct(r.memoizedState,o);if(i&&(r.memoizedState=o,Me=!0),r=r.queue,su(oh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,co(9,rh.bind(null,n,r,o,t),void 0,null),pe===null)throw Error(k(349));wn&30||nh(n,t,o)}return o}function nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rh(e,t,n,r){t.value=n,t.getSnapshot=r,ih(t)&&lh(e)}function oh(e,t,n){return n(function(){ih(t)&&lh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function lh(e){var t=Mt(e,1);t!==null&&ut(t,e,1,-1)}function Ec(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},t.queue=e,e=e.dispatch=Mv.bind(null,te,e),[t.memoizedState,e]}function co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sh(){return je().memoizedState}function mi(e,t,n,r){var o=ht();te.flags|=e,o.memoizedState=co(1|t,n,void 0,r===void 0?null:r)}function ll(e,t,n,r){var o=je();r=r===void 0?null:r;var i=void 0;if(ue!==null){var l=ue.memoizedState;if(i=l.destroy,r!==null&&ou(r,l.deps)){o.memoizedState=co(t,n,i,r);return}}te.flags|=e,o.memoizedState=co(1|t,n,i,r)}function Sc(e,t){return mi(8390656,8,e,t)}function su(e,t){return ll(2048,8,e,t)}function ah(e,t){return ll(4,2,e,t)}function uh(e,t){return ll(4,4,e,t)}function ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fh(e,t,n){return n=n!=null?n.concat([e]):null,ll(4,4,ch.bind(null,t,e),n)}function au(){}function dh(e,t){var n=je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ou(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ph(e,t){var n=je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ou(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hh(e,t,n){return wn&21?(ct(n,t)||(n=_p(),te.lanes|=n,xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function Pv(e,t){var n=b;b=n!==0&&4>n?n:4,e(!0);var r=Kl.transition;Kl.transition={};try{e(!1),t()}finally{b=n,Kl.transition=r}}function mh(){return je().memoizedState}function Rv(e,t,n){var r=Xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gh(e))yh(t,n);else if(n=Qp(e,t,n,r),n!==null){var o=Ie();ut(n,e,r,o),vh(n,t,r)}}function Mv(e,t,n){var r=Xt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(e))yh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,ct(s,l)){var f=t.interleaved;f===null?(o.next=o,ja(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=Qp(e,t,o,r),n!==null&&(o=Ie(),ut(n,e,r,o),vh(n,t,r))}}function gh(e){var t=e.alternate;return e===te||t!==null&&t===te}function yh(e,t){$r=Bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oa(e,n)}}var Gi={readContext:Xe,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Nv={readContext:Xe,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:Sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mi(4194308,4,ch.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var n=ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rv.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:au,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=Pv.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,o=ht();if(Q){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),pe===null)throw Error(k(349));wn&30||nh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Sc(oh.bind(null,r,i,e),[e]),r.flags|=2048,co(9,rh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ht(),t=pe.identifierPrefix;if(Q){var n=At,r=It;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ao++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dv={readContext:Xe,useCallback:dh,useContext:Xe,useEffect:su,useImperativeHandle:fh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:ph,useReducer:Jl,useRef:sh,useState:function(){return Jl(uo)},useDebugValue:au,useDeferredValue:function(e){var t=je();return hh(t,ue.memoizedState,e)},useTransition:function(){var e=Jl(uo)[0],t=je().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1},Lv={readContext:Xe,useCallback:dh,useContext:Xe,useEffect:su,useImperativeHandle:fh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:ph,useReducer:Zl,useRef:sh,useState:function(){return Zl(uo)},useDebugValue:au,useDeferredValue:function(e){var t=je();return ue===null?t.memoizedState=e:hh(t,ue.memoizedState,e)},useTransition:function(){var e=Zl(uo)[0],t=je().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ks(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sl={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),o=Xt(e),i=kt(r,o);i.payload=t,n!=null&&(i.callback=n),t=Zt(e,i,o),t!==null&&(ut(t,e,o,r),pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),o=Xt(e),i=kt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Zt(e,i,o),t!==null&&(ut(t,e,o,r),pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Xt(e),o=kt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Zt(e,o,r),t!==null&&(ut(t,e,r,n),pi(t,e,r))}};function Cc(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!no(n,r)||!no(o,i):!0}function _h(e,t,n){var r=!1,o=on,i=t.contextType;return typeof i=="object"&&i!==null?i=Xe(i):(o=Fe(t)?Cn:Ce.current,r=t.contextTypes,i=(r=r!=null)?ir(e,o):on),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function Js(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},eu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Xe(i):(i=Fe(t)?Cn:Ce.current,o.context=ir(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ks(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sl.enqueueReplaceState(o,o.state,null),zi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do n+=ay(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fv=typeof WeakMap=="function"?WeakMap:Map;function Eh(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,la=r),Zs(e,t)},n}function Sh(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Zs(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zs(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function wc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Jv.bind(null,e,t,n),t.then(e,e))}function xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var Uv=Dt.ReactCurrentOwner,Me=!1;function we(e,t,n,r){t.child=e===null?Zp(t,null,n,r):sr(t,e.child,n,r)}function Ac(e,t,n,r,o){n=n.render;var i=t.ref;return tr(t,o),r=iu(e,t,n,r,i,o),n=lu(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nt(e,t,o)):(Q&&n&&Ya(t),t.flags|=1,we(e,t,r,o),t.child)}function kc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!gu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ch(e,t,i,r,o)):(e=_i(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(l,r)&&e.ref===t.ref)return Nt(e,t,o)}return t.flags|=1,e=jt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ch(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(no(i,r)&&e.ref===t.ref)if(Me=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Nt(e,t,o)}return Qs(e,t,n,r,o)}function Th(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Zn,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(Zn,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,W(Zn,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,W(Zn,Oe),Oe|=r;return we(e,t,o,n),t.child}function wh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qs(e,t,n,r,o){var i=Fe(n)?Cn:Ce.current;return i=ir(t,i),tr(t,o),n=iu(e,t,n,r,i,o),r=lu(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nt(e,t,o)):(Q&&r&&Ya(t),t.flags|=1,we(e,t,n,o),t.child)}function Pc(e,t,n,r,o){if(Fe(n)){var i=!0;Di(t)}else i=!1;if(tr(t,o),t.stateNode===null)gi(e,t),_h(t,n,r),Js(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var f=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xe(c):(c=Fe(n)?Cn:Ce.current,c=ir(t,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||f!==c)&&Tc(t,l,r,c),Ot=!1;var h=t.memoizedState;l.state=h,zi(t,r,l,o),f=t.memoizedState,s!==r||h!==f||Le.current||Ot?(typeof d=="function"&&(Ks(t,n,d,r),f=t.memoizedState),(s=Ot||Cc(t,n,s,r,h,f,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=c,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Xp(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:it(t.type,s),l.props=c,p=t.pendingProps,h=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=Xe(f):(f=Fe(n)?Cn:Ce.current,f=ir(t,f));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==f)&&Tc(t,l,r,f),Ot=!1,h=t.memoizedState,l.state=h,zi(t,r,l,o);var E=t.memoizedState;s!==p||h!==E||Le.current||Ot?(typeof m=="function"&&(Ks(t,n,m,r),E=t.memoizedState),(c=Ot||Cc(t,n,c,r,h,E,f)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,f)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=f,r=c):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Xs(e,t,n,r,i,o)}function Xs(e,t,n,r,o,i){wh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&hc(t,n,!1),Nt(e,t,i);r=t.stateNode,Uv.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=sr(t,e.child,null,i),t.child=sr(t,null,s,i)):we(e,t,s,i),t.memoizedState=r.state,o&&hc(t,n,!0),t.child}function xh(e){var t=e.stateNode;t.pendingContext?pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pc(e,t.context,!1),tu(e,t.containerInfo)}function Rc(e,t,n,r,o){return lr(),Ja(o),t.flags|=256,we(e,t,n,r),t.child}var js={dehydrated:null,treeContext:null,retryLane:0};function ea(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ih(e,t,n){var r=t.pendingProps,o=ee.current,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),W(ee,o&1),e===null)return Ws(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=cl(l,r,0,null),e=Sn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ea(n),t.memoizedState=js,e):uu(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Vv(e,t,l,r,s,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,s=o.sibling;var f={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=jt(o,f),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=jt(s,i):(i=Sn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?ea(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=js,r}return i=e.child,e=i.sibling,r=jt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uu(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zo(e,t,n,r){return r!==null&&Ja(r),sr(t,e.child,null,n),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vv(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Ql(Error(k(422))),Zo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=cl({mode:"visible",children:r.children},o,0,null),i=Sn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&sr(t,e.child,null,l),t.child.memoizedState=ea(l),t.memoizedState=js,i);if(!(t.mode&1))return Zo(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(k(419)),r=Ql(i,r,void 0),Zo(e,t,l,r)}if(s=(l&e.childLanes)!==0,Me||s){if(r=pe,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Mt(e,o),ut(r,e,o,-1))}return mu(),r=Ql(Error(k(421))),Zo(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Zv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Be=Jt(o.nextSibling),$e=t,Q=!0,st=null,e!==null&&(Ye[Ke++]=It,Ye[Ke++]=At,Ye[Ke++]=Tn,It=e.id,At=e.overflow,Tn=t),t=uu(t,r.children),t.flags|=4096,t)}function Mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ys(e.return,t,n)}function Xl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ah(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(we(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(W(ee,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Oi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Oi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xl(t,!0,n,null,i);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zv(e,t,n){switch(t.tag){case 3:xh(t),lr();break;case 5:jp(t);break;case 1:Fe(t.type)&&Di(t);break;case 4:tu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;W(Ui,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(W(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?Ih(e,t,n):(W(ee,ee.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);W(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ah(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Th(e,t,n)}return Nt(e,t,n)}var kh,ta,Ph,Rh;kh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ta=function(){};Ph=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,gn(vt.current);var i=null;switch(n){case"input":o=Ts(e,o),r=Ts(e,r),i=[];break;case"select":o=ne({},o,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":o=Is(e,o),r=Is(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mi)}ks(n,r);var l;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var s=o[c];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var f=r[c];if(s=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&f!==s&&(f!=null||s!=null))if(c==="style")if(s){for(l in s)!s.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&s[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(i||(i=[]),i.push(c,n)),n=f;else c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,s=s?s.__html:void 0,f!=null&&s!==f&&(i=i||[]).push(c,f)):c==="children"?typeof f!="string"&&typeof f!="number"||(i=i||[]).push(c,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jr.hasOwnProperty(c)?(f!=null&&c==="onScroll"&&Y("scroll",e),i||s===f||(i=[])):(i=i||[]).push(c,f))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Rh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ar(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ov(e,t,n){var r=t.pendingProps;switch(Ka(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Fe(t.type)&&Ni(),_e(t),null;case 3:return r=t.stateNode,ar(),K(Le),K(Ce),ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(ua(st),st=null))),ta(e,t),_e(t),null;case 5:nu(t);var o=gn(so.current);if(n=t.type,e!==null&&t.stateNode!=null)Ph(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return _e(t),null}if(e=gn(vt.current),Ko(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mt]=t,r[io]=i,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Y(Dr[o],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":Bu(r,i),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Y("invalid",r);break;case"textarea":$u(r,i),Y("invalid",r)}ks(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l];l==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Yo(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Yo(r.textContent,s,e),o=["children",""+s]):Jr.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Y("scroll",r)}switch(n){case"input":Oo(r),Gu(r,i,!0);break;case"textarea":Oo(r),Hu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=op(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[mt]=t,e[io]=r,kh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ps(n,r),n){case"dialog":Y("cancel",e),Y("close",e),o=r;break;case"iframe":case"object":case"embed":Y("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Y(Dr[o],e);o=r;break;case"source":Y("error",e),o=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),o=r;break;case"details":Y("toggle",e),o=r;break;case"input":Bu(e,r),o=Ts(e,r),Y("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ne({},r,{value:void 0}),Y("invalid",e);break;case"textarea":$u(e,r),o=Is(e,r),Y("invalid",e);break;default:o=r}ks(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var f=s[i];i==="style"?sp(e,f):i==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&ip(e,f)):i==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Zr(e,f):typeof f=="number"&&Zr(e,""+f):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jr.hasOwnProperty(i)?f!=null&&i==="onScroll"&&Y("scroll",e):f!=null&&Da(e,i,f,l))}switch(n){case"input":Oo(e),Gu(e,r,!1);break;case"textarea":Oo(e),Hu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Mi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Rh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=gn(so.current),gn(vt.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(i=r.nodeValue!==n)&&(e=$e,e!==null))switch(e.tag){case 3:Yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return _e(t),null;case 13:if(K(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Be!==null&&t.mode&1&&!(t.flags&128))Kp(),lr(),t.flags|=98560,i=!1;else if(i=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(k(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[mt]=t}else lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else st!==null&&(ua(st),st=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ce===0&&(ce=3):mu())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return ar(),ta(e,t),e===null&&ro(t.stateNode.containerInfo),_e(t),null;case 10:return Xa(t.type._context),_e(t),null;case 17:return Fe(t.type)&&Ni(),_e(t),null;case 19:if(K(ee),i=t.memoizedState,i===null)return _e(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Ar(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Oi(e),l!==null){for(t.flags|=128,Ar(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return W(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>cr&&(t.flags|=128,r=!0,Ar(i,!1),t.lanes=4194304)}else{if(!r)if(e=Oi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Q)return _e(t),null}else 2*le()-i.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,Ar(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,n=ee.current,W(ee,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return hu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Bv(e,t){switch(Ka(t),t.tag){case 1:return Fe(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),K(Le),K(Ce),ru(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nu(t),null;case 13:if(K(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(ee),null;case 4:return ar(),null;case 10:return Xa(t.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var Qo=!1,Se=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,M=null;function Jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function na(e,t,n){try{n()}catch(r){oe(e,t,r)}}var Nc=!1;function $v(e,t){if(Os=ki,e=Fp(),Wa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,f=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||o!==0&&p.nodeType!==3||(s=l+o),p!==i||r!==0&&p.nodeType!==3||(f=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++c===o&&(s=l),h===i&&++d===r&&(f=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=s===-1||f===-1?null:{start:s,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bs={focusedElem:e,selectionRange:n},ki=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,w=E.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?S:it(t.type,S),w);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(v){oe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return E=Nc,Nc=!1,E}function Hr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&na(t,n,i)}o=o.next}while(o!==r)}}function al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mh(e){var t=e.alternate;t!==null&&(e.alternate=null,Mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[io],delete t[Hs],delete t[wv],delete t[xv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nh(e){return e.tag===5||e.tag===3||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mi));else if(r!==4&&(e=e.child,e!==null))for(oa(e,t,n),e=e.sibling;e!==null;)oa(e,t,n),e=e.sibling}function ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ia(e,t,n),e=e.sibling;e!==null;)ia(e,t,n),e=e.sibling}var he=null,lt=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Dh(e,t,n),n=n.sibling}function Dh(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 5:Se||Jn(n,t);case 6:var r=he,o=lt;he=null,Vt(e,t,n),he=r,lt=o,he!==null&&(lt?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(lt?(e=he,n=n.stateNode,e.nodeType===8?bl(e.parentNode,n):e.nodeType===1&&bl(e,n),eo(e)):bl(he,n.stateNode));break;case 4:r=he,o=lt,he=n.stateNode.containerInfo,lt=!0,Vt(e,t,n),he=r,lt=o;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&na(n,t,l),o=o.next}while(o!==r)}Vt(e,t,n);break;case 1:if(!Se&&(Jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){oe(n,t,s)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,Vt(e,t,n),Se=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function Lc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gv),t.forEach(function(r){var o=Qv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:he=s.stateNode,lt=!1;break e;case 3:he=s.stateNode.containerInfo,lt=!0;break e;case 4:he=s.stateNode.containerInfo,lt=!0;break e}s=s.return}if(he===null)throw Error(k(160));Dh(i,l,o),he=null,lt=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(c){oe(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}function Lh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),dt(e),r&4){try{Hr(3,e,e.return),al(3,e)}catch(S){oe(e,e.return,S)}try{Hr(5,e,e.return)}catch(S){oe(e,e.return,S)}}break;case 1:ot(t,e),dt(e),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(ot(t,e),dt(e),r&512&&n!==null&&Jn(n,n.return),e.flags&32){var o=e.stateNode;try{Zr(o,"")}catch(S){oe(e,e.return,S)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,s=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&np(o,i),Ps(s,l);var c=Ps(s,i);for(l=0;l<f.length;l+=2){var d=f[l],p=f[l+1];d==="style"?sp(o,p):d==="dangerouslySetInnerHTML"?ip(o,p):d==="children"?Zr(o,p):Da(o,d,p,c)}switch(s){case"input":ws(o,i);break;case"textarea":rp(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qn(o,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qn(o,!!i.multiple,i.defaultValue,!0):Qn(o,!!i.multiple,i.multiple?[]:"",!1))}o[io]=i}catch(S){oe(e,e.return,S)}}break;case 6:if(ot(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(k(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(S){oe(e,e.return,S)}}break;case 3:if(ot(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(t.containerInfo)}catch(S){oe(e,e.return,S)}break;case 4:ot(t,e),dt(e);break;case 13:ot(t,e),dt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(du=le())),r&4&&Lc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Se=(c=Se)||d,ot(t,e),Se=c):ot(t,e),dt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(p=M=d;M!==null;){switch(h=M,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hr(4,h,h.return);break;case 1:Jn(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(S){oe(r,n,S)}}break;case 5:Jn(h,h.return);break;case 22:if(h.memoizedState!==null){Uc(p);continue}}m!==null?(m.return=h,M=m):Uc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{o=p.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=p.stateNode,f=p.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,s.style.display=lp("display",l))}catch(S){oe(e,e.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(S){oe(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ot(t,e),dt(e),r&4&&Lc(e);break;case 21:break;default:ot(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nh(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Zr(o,""),r.flags&=-33);var i=Dc(e);ia(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Dc(e);oa(e,s,l);break;default:throw Error(k(161))}}catch(f){oe(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hv(e,t,n){M=e,Fh(e)}function Fh(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var o=M,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Qo;if(!l){var s=o.alternate,f=s!==null&&s.memoizedState!==null||Se;s=Qo;var c=Se;if(Qo=l,(Se=f)&&!c)for(M=o;M!==null;)l=M,f=l.child,l.tag===22&&l.memoizedState!==null?Vc(o):f!==null?(f.return=l,M=f):Vc(o);for(;i!==null;)M=i,Fh(i),i=i.sibling;M=o,Qo=s,Se=c}Fc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,M=i):Fc(e)}}function Fc(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Se)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_c(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_c(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&eo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Se||t.flags&512&&ra(t)}catch(h){oe(t,t.return,h)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Uc(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Vc(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(f){oe(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(f){oe(t,o,f)}}var i=t.return;try{ra(t)}catch(f){oe(t,i,f)}break;case 5:var l=t.return;try{ra(t)}catch(f){oe(t,l,f)}}}catch(f){oe(t,t.return,f)}if(t===e){M=null;break}var s=t.sibling;if(s!==null){s.return=t.return,M=s;break}M=t.return}}var qv=Math.ceil,$i=Dt.ReactCurrentDispatcher,cu=Dt.ReactCurrentOwner,Qe=Dt.ReactCurrentBatchConfig,H=0,pe=null,se=null,ge=0,Oe=0,Zn=sn(0),ce=0,fo=null,xn=0,ul=0,fu=0,qr=null,Re=null,du=0,cr=1/0,Ct=null,Hi=!1,la=null,Qt=null,Xo=!1,qt=null,qi=0,br=0,sa=null,yi=-1,vi=0;function Ie(){return H&6?le():yi!==-1?yi:yi=le()}function Xt(e){return e.mode&1?H&2&&ge!==0?ge&-ge:Av.transition!==null?(vi===0&&(vi=_p()),vi):(e=b,e!==0||(e=window.event,e=e===void 0?16:Ip(e.type)),e):1}function ut(e,t,n,r){if(50<br)throw br=0,sa=null,Error(k(185));wo(e,n,r),(!(H&2)||e!==pe)&&(e===pe&&(!(H&2)&&(ul|=n),ce===4&&Gt(e,ge)),Ue(e,r),n===1&&H===0&&!(t.mode&1)&&(cr=le()+500,il&&an()))}function Ue(e,t){var n=e.callbackNode;Ay(e,t);var r=Ai(e,e===pe?ge:0);if(r===0)n!==null&&Wu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wu(n),t===1)e.tag===0?Iv(zc.bind(null,e)):bp(zc.bind(null,e)),Cv(function(){!(H&6)&&an()}),n=null;else{switch(Ep(r)){case 1:n=za;break;case 4:n=yp;break;case 16:n=Ii;break;case 536870912:n=vp;break;default:n=Ii}n=Hh(n,Uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uh(e,t){if(yi=-1,vi=0,H&6)throw Error(k(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var r=Ai(e,e===pe?ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bi(e,r);else{t=r;var o=H;H|=2;var i=zh();(pe!==e||ge!==t)&&(Ct=null,cr=le()+500,En(e,t));do try{Yv();break}catch(s){Vh(e,s)}while(!0);Qa(),$i.current=i,H=o,se!==null?t=0:(pe=null,ge=0,t=ce)}if(t!==0){if(t===2&&(o=Ls(e),o!==0&&(r=o,t=aa(e,o))),t===1)throw n=fo,En(e,0),Gt(e,r),Ue(e,le()),n;if(t===6)Gt(e,r);else{if(o=e.current.alternate,!(r&30)&&!bv(o)&&(t=bi(e,r),t===2&&(i=Ls(e),i!==0&&(r=i,t=aa(e,i))),t===1))throw n=fo,En(e,0),Gt(e,r),Ue(e,le()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:pn(e,Re,Ct);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=du+500-le(),10<t)){if(Ai(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=$s(pn.bind(null,e,Re,Ct),t);break}pn(e,Re,Ct);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-at(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qv(r/1960))-r,10<r){e.timeoutHandle=$s(pn.bind(null,e,Re,Ct),r);break}pn(e,Re,Ct);break;case 5:pn(e,Re,Ct);break;default:throw Error(k(329))}}}return Ue(e,le()),e.callbackNode===n?Uh.bind(null,e):null}function aa(e,t){var n=qr;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=bi(e,t),e!==2&&(t=Re,Re=n,t!==null&&ua(t)),e}function ua(e){Re===null?Re=e:Re.push.apply(Re,e)}function bv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ct(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~fu,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function zc(e){if(H&6)throw Error(k(327));nr();var t=Ai(e,0);if(!(t&1))return Ue(e,le()),null;var n=bi(e,t);if(e.tag!==0&&n===2){var r=Ls(e);r!==0&&(t=r,n=aa(e,r))}if(n===1)throw n=fo,En(e,0),Gt(e,t),Ue(e,le()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pn(e,Re,Ct),Ue(e,le()),null}function pu(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(cr=le()+500,il&&an())}}function In(e){qt!==null&&qt.tag===0&&!(H&6)&&nr();var t=H;H|=1;var n=Qe.transition,r=b;try{if(Qe.transition=null,b=1,e)return e()}finally{b=r,Qe.transition=n,H=t,!(H&6)&&an()}}function hu(){Oe=Zn.current,K(Zn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sv(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Ka(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ni();break;case 3:ar(),K(Le),K(Ce),ru();break;case 5:nu(r);break;case 4:ar();break;case 13:K(ee);break;case 19:K(ee);break;case 10:Xa(r.type._context);break;case 22:case 23:hu()}n=n.return}if(pe=e,se=e=jt(e.current,null),ge=Oe=t,ce=0,fo=null,fu=ul=xn=0,Re=qr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}mn=null}return e}function Vh(e,t){do{var n=se;try{if(Qa(),hi.current=Gi,Bi){for(var r=te.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Bi=!1}if(wn=0,de=ue=te=null,$r=!1,ao=0,cu.current=null,n===null||n.return===null){ce=1,fo=t,se=null;break}e:{var i=e,l=n.return,s=n,f=t;if(t=ge,s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var c=f,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=xc(l);if(m!==null){m.flags&=-257,Ic(m,l,s,i,t),m.mode&1&&wc(i,c,t),t=m,f=c;var E=t.updateQueue;if(E===null){var S=new Set;S.add(f),t.updateQueue=S}else E.add(f);break e}else{if(!(t&1)){wc(i,c,t),mu();break e}f=Error(k(426))}}else if(Q&&s.mode&1){var w=xc(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ic(w,l,s,i,t),Ja(ur(f,s));break e}}i=f=ur(f,s),ce!==4&&(ce=2),qr===null?qr=[i]:qr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var _=Eh(i,f,t);vc(i,_);break e;case 1:s=f;var y=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qt===null||!Qt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=Sh(i,s,t);vc(i,v);break e}}i=i.return}while(i!==null)}Bh(n)}catch(T){t=T,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function zh(){var e=$i.current;return $i.current=Gi,e===null?Gi:e}function mu(){(ce===0||ce===3||ce===2)&&(ce=4),pe===null||!(xn&268435455)&&!(ul&268435455)||Gt(pe,ge)}function bi(e,t){var n=H;H|=2;var r=zh();(pe!==e||ge!==t)&&(Ct=null,En(e,t));do try{Wv();break}catch(o){Vh(e,o)}while(!0);if(Qa(),H=n,$i.current=r,se!==null)throw Error(k(261));return pe=null,ge=0,ce}function Wv(){for(;se!==null;)Oh(se)}function Yv(){for(;se!==null&&!vy();)Oh(se)}function Oh(e){var t=$h(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Bh(e):se=t,cu.current=null}function Bh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bv(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,se=null;return}}else if(n=Ov(n,t,Oe),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ce===0&&(ce=5)}function pn(e,t,n){var r=b,o=Qe.transition;try{Qe.transition=null,b=1,Kv(e,t,n,r)}finally{Qe.transition=o,b=r}return null}function Kv(e,t,n,r){do nr();while(qt!==null);if(H&6)throw Error(k(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ky(e,i),e===pe&&(se=pe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xo||(Xo=!0,Hh(Ii,function(){return nr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var l=b;b=1;var s=H;H|=4,cu.current=null,$v(e,n),Lh(n,e),hv(Bs),ki=!!Os,Bs=Os=null,e.current=n,Hv(n),_y(),H=s,b=l,Qe.transition=i}else e.current=n;if(Xo&&(Xo=!1,qt=e,qi=o),i=e.pendingLanes,i===0&&(Qt=null),Cy(n.stateNode),Ue(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hi)throw Hi=!1,e=la,la=null,e;return qi&1&&e.tag!==0&&nr(),i=e.pendingLanes,i&1?e===sa?br++:(br=0,sa=e):br=0,an(),null}function nr(){if(qt!==null){var e=Ep(qi),t=Qe.transition,n=b;try{if(Qe.transition=null,b=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,qi=0,H&6)throw Error(k(331));var o=H;for(H|=4,M=e.current;M!==null;){var i=M,l=i.child;if(M.flags&16){var s=i.deletions;if(s!==null){for(var f=0;f<s.length;f++){var c=s[f];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Hr(8,d,i)}var p=d.child;if(p!==null)p.return=d,M=p;else for(;M!==null;){d=M;var h=d.sibling,m=d.return;if(Mh(d),d===c){M=null;break}if(h!==null){h.return=m,M=h;break}M=m}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var w=S.sibling;S.sibling=null,S=w}while(S!==null)}}M=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,M=l;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hr(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,M=_;break e}M=i.return}}var y=e.current;for(M=y;M!==null;){l=M;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,M=g;else e:for(l=y;M!==null;){if(s=M,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:al(9,s)}}catch(T){oe(s,s.return,T)}if(s===l){M=null;break e}var v=s.sibling;if(v!==null){v.return=s.return,M=v;break e}M=s.return}}if(H=o,an(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(el,e)}catch{}r=!0}return r}finally{b=n,Qe.transition=t}}return!1}function Oc(e,t,n){t=ur(n,t),t=Eh(e,t,1),e=Zt(e,t,1),t=Ie(),e!==null&&(wo(e,1,t),Ue(e,t))}function oe(e,t,n){if(e.tag===3)Oc(e,e,n);else for(;t!==null;){if(t.tag===3){Oc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=ur(n,e),e=Sh(t,e,1),t=Zt(t,e,1),e=Ie(),t!==null&&(wo(t,1,e),Ue(t,e));break}}t=t.return}}function Jv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(ge&n)===n&&(ce===4||ce===3&&(ge&130023424)===ge&&500>le()-du?En(e,0):fu|=n),Ue(e,t)}function Gh(e,t){t===0&&(e.mode&1?(t=$o,$o<<=1,!($o&130023424)&&($o=4194304)):t=1);var n=Ie();e=Mt(e,t),e!==null&&(wo(e,t,n),Ue(e,n))}function Zv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gh(e,n)}function Qv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),Gh(e,n)}var $h;$h=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,zv(e,t,n);Me=!!(e.flags&131072)}else Me=!1,Q&&t.flags&1048576&&Wp(t,Fi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gi(e,t),e=t.pendingProps;var o=ir(t,Ce.current);tr(t,n),o=iu(null,t,r,e,o,n);var i=lu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(i=!0,Di(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,eu(t),o.updater=sl,t.stateNode=o,o._reactInternals=t,Js(t,r,e,n),t=Xs(null,t,r,!0,i,n)):(t.tag=0,Q&&i&&Ya(t),we(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=jv(r),e=it(r,e),o){case 0:t=Qs(null,t,r,e,n);break e;case 1:t=Pc(null,t,r,e,n);break e;case 11:t=Ac(null,t,r,e,n);break e;case 14:t=kc(null,t,r,it(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),Qs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),Pc(e,t,r,o,n);case 3:e:{if(xh(t),e===null)throw Error(k(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Xp(e,t),zi(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ur(Error(k(423)),t),t=Rc(e,t,r,n,o);break e}else if(r!==o){o=ur(Error(k(424)),t),t=Rc(e,t,r,n,o);break e}else for(Be=Jt(t.stateNode.containerInfo.firstChild),$e=t,Q=!0,st=null,n=Zp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===o){t=Nt(e,t,n);break e}we(e,t,r,n)}t=t.child}return t;case 5:return jp(t),e===null&&Ws(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Gs(r,o)?l=null:i!==null&&Gs(r,i)&&(t.flags|=32),wh(e,t),we(e,t,l,n),t.child;case 6:return e===null&&Ws(t),null;case 13:return Ih(e,t,n);case 4:return tu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sr(t,null,r,n):we(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),Ac(e,t,r,o,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,W(Ui,r._currentValue),r._currentValue=l,i!==null)if(ct(i.value,l)){if(i.children===o.children&&!Le.current){t=Nt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){l=i.child;for(var f=s.firstContext;f!==null;){if(f.context===r){if(i.tag===1){f=kt(-1,n&-n),f.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?f.next=f:(f.next=d.next,d.next=f),c.pending=f}}i.lanes|=n,f=i.alternate,f!==null&&(f.lanes|=n),Ys(i.return,n,t),s.lanes|=n;break}f=f.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(k(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Ys(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}we(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,tr(t,n),o=Xe(o),r=r(o),t.flags|=1,we(e,t,r,n),t.child;case 14:return r=t.type,o=it(r,t.pendingProps),o=it(r.type,o),kc(e,t,r,o,n);case 15:return Ch(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),gi(e,t),t.tag=1,Fe(r)?(e=!0,Di(t)):e=!1,tr(t,n),_h(t,r,o),Js(t,r,o,n),Xs(null,t,r,!0,e,n);case 19:return Ah(e,t,n);case 22:return Th(e,t,n)}throw Error(k(156,t.tag))};function Hh(e,t){return gp(e,t)}function Xv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new Xv(e,t,n,r)}function gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jv(e){if(typeof e=="function")return gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fa)return 11;if(e===Ua)return 14}return 2}function jt(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _i(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")gu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Bn:return Sn(n.children,o,i,t);case La:l=8,o|=8;break;case _s:return e=Ze(12,n,t,o|2),e.elementType=_s,e.lanes=i,e;case Es:return e=Ze(13,n,t,o),e.elementType=Es,e.lanes=i,e;case Ss:return e=Ze(19,n,t,o),e.elementType=Ss,e.lanes=i,e;case jd:return cl(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qd:l=10;break e;case Xd:l=9;break e;case Fa:l=11;break e;case Ua:l=14;break e;case zt:l=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Ze(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Sn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function cl(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=jd,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function es(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e_(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yu(e,t,n,r,o,i,l,s,f){return e=new e_(e,t,n,s,f),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(i),e}function t_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qh(e){if(!e)return on;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Fe(n))return qp(e,n,t)}return t}function bh(e,t,n,r,o,i,l,s,f){return e=yu(n,r,!0,e,o,i,l,s,f),e.context=qh(null),n=e.current,r=Ie(),o=Xt(n),i=kt(r,o),i.callback=t??null,Zt(n,i,o),e.current.lanes=o,wo(e,o,r),Ue(e,r),e}function fl(e,t,n,r){var o=t.current,i=Ie(),l=Xt(o);return n=qh(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(o,t,l),e!==null&&(ut(e,o,l,i),pi(e,o,l)),l}function Wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vu(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}function n_(){return null}var Wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function _u(e){this._internalRoot=e}dl.prototype.render=_u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));fl(e,t,null,null)};dl.prototype.unmount=_u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){fl(null,e,null,null)}),t[Rt]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&xp(e)}};function Eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gc(){}function r_(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Wi(l);i.call(c)}}var l=bh(t,r,e,0,null,!1,!1,"",Gc);return e._reactRootContainer=l,e[Rt]=l.current,ro(e.nodeType===8?e.parentNode:e),In(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var c=Wi(f);s.call(c)}}var f=yu(e,0,!1,null,null,!1,!1,"",Gc);return e._reactRootContainer=f,e[Rt]=f.current,ro(e.nodeType===8?e.parentNode:e),In(function(){fl(t,f,n,r)}),f}function hl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var s=o;o=function(){var f=Wi(l);s.call(f)}}fl(t,l,e,o)}else l=r_(n,t,e,o,r);return Wi(l)}Sp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(Oa(t,n|1),Ue(t,le()),!(H&6)&&(cr=le()+500,an()))}break;case 13:In(function(){var r=Mt(e,1);if(r!==null){var o=Ie();ut(r,e,1,o)}}),vu(e,1)}};Ba=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Ie();ut(t,e,134217728,n)}vu(e,134217728)}};Cp=function(e){if(e.tag===13){var t=Xt(e),n=Mt(e,t);if(n!==null){var r=Ie();ut(n,e,t,r)}vu(e,t)}};Tp=function(){return b};wp=function(e,t){var n=b;try{return b=e,t()}finally{b=n}};Ms=function(e,t,n){switch(t){case"input":if(ws(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ol(r);if(!o)throw Error(k(90));tp(r),ws(r,o)}}}break;case"textarea":rp(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};cp=pu;fp=In;var o_={usingClientEntryPoint:!1,Events:[Io,qn,ol,ap,up,pu]},kr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i_={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hp(e),e===null?null:e.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||n_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{el=jo.inject(i_),yt=jo}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o_;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eu(t))throw Error(k(200));return t_(e,t,null,n)};qe.createRoot=function(e,t){if(!Eu(e))throw Error(k(299));var n=!1,r="",o=Wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=yu(e,1,!1,null,null,n,!1,r,o),e[Rt]=t.current,ro(e.nodeType===8?e.parentNode:e),new _u(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=hp(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return In(e)};qe.hydrate=function(e,t,n){if(!pl(t))throw Error(k(200));return hl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Eu(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=Wh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=bh(t,null,e,1,n??null,o,!1,i,l),e[Rt]=t.current,ro(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new dl(t)};qe.render=function(e,t,n){if(!pl(t))throw Error(k(200));return hl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!pl(e))throw Error(k(40));return e._reactRootContainer?(In(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};qe.unstable_batchedUpdates=pu;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pl(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return hl(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yh)}catch(e){console.error(e)}}Yh(),Yd.exports=qe;var l_=Yd.exports,$c=l_;ys.createRoot=$c.createRoot,ys.hydrateRoot=$c.hydrateRoot;const s_={message:null,type:null,isVisible:!1},a_=(e,t)=>{switch(t.type){case"SET_ERROR":return{...e,message:t.payload.message,type:t.payload.type||"error",isVisible:!0};case"CLEAR_ERROR":return{...e,message:null,type:null,isVisible:!1};default:return e}},Kh=I.createContext(void 0),u_=({children:e})=>{const[t,n]=I.useReducer(a_,s_),i={state:t,dispatch:n,showError:(l,s)=>{n({type:"SET_ERROR",payload:{message:l,type:s}})},clearError:()=>{n({type:"CLEAR_ERROR"})}};return U.jsx(Kh.Provider,{value:i,children:e})},c_=()=>{const e=I.useContext(Kh);if(e===void 0)throw new Error("useError must be used within an ErrorProvider");return e};class f_{constructor(){Pe(this,"logs",[]);Pe(this,"listeners",new Set);Pe(this,"visibilityListeners",new Set);Pe(this,"nextId",0);Pe(this,"isVisible",!1);Pe(this,"getLogs",()=>this.logs);Pe(this,"clearLogs",()=>{this.logs=[],this.notifyListeners()});Pe(this,"subscribe",t=>(this.listeners.add(t),()=>this.listeners.delete(t)));Pe(this,"notifyListeners",()=>{for(const t of this.listeners)t([...this.logs])});Pe(this,"toggleVisibility",()=>{this.isVisible=!this.isVisible,this.notifyVisibilityListeners()});Pe(this,"isConsoleVisible",()=>this.isVisible);Pe(this,"subscribeVisibility",t=>(this.visibilityListeners.add(t),()=>this.visibilityListeners.delete(t)));Pe(this,"notifyVisibilityListeners",()=>{for(const t of this.visibilityListeners)t(this.isVisible)})}addLog(t,n,r){const o={id:this.nextId++,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),level:t,message:n,payload:r};this.logs=[...this.logs,o].slice(-100),this.notifyListeners()}info(t,n){this.addLog("INFO",t,n)}error(t,n){this.addLog("ERROR",t,n)}debug(t,n){this.addLog("DEBUG",t,n)}}const F=new f_;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const d_=4,Hc=0,qc=1,p_=2;function gr(e){let t=e.length;for(;--t>=0;)e[t]=0}const h_=0,Jh=1,m_=2,g_=3,y_=258,Su=29,ko=256,po=ko+1+Su,rr=30,Cu=19,Zh=2*po+1,yn=15,ts=16,v_=7,Tu=256,Qh=16,Xh=17,jh=18,ca=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ei=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),__=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),em=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E_=512,wt=new Array((po+2)*2);gr(wt);const Wr=new Array(rr*2);gr(Wr);const ho=new Array(E_);gr(ho);const mo=new Array(y_-g_+1);gr(mo);const wu=new Array(Su);gr(wu);const Yi=new Array(rr);gr(Yi);function ns(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let tm,nm,rm;function rs(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const om=e=>e<256?ho[e]:ho[256+(e>>>7)],go=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ne=(e,t,n)=>{e.bi_valid>ts-n?(e.bi_buf|=t<<e.bi_valid&65535,go(e,e.bi_buf),e.bi_buf=t>>ts-e.bi_valid,e.bi_valid+=n-ts):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},gt=(e,t,n)=>{Ne(e,n[t*2],n[t*2+1])},im=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},S_=e=>{e.bi_valid===16?(go(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},C_=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,f=t.stat_desc.max_length;let c,d,p,h,m,E,S=0;for(h=0;h<=yn;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Zh;c++)d=e.heap[c],h=n[n[d*2+1]*2+1]+1,h>f&&(h=f,S++),n[d*2+1]=h,!(d>r)&&(e.bl_count[h]++,m=0,d>=s&&(m=l[d-s]),E=n[d*2],e.opt_len+=E*(h+m),i&&(e.static_len+=E*(o[d*2+1]+m)));if(S!==0){do{for(h=f-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[f]--,S-=2}while(S>0);for(h=f;h!==0;h--)for(d=e.bl_count[h];d!==0;)p=e.heap[--c],!(p>r)&&(n[p*2+1]!==h&&(e.opt_len+=(h-n[p*2+1])*n[p*2],n[p*2+1]=h),d--)}},lm=(e,t,n)=>{const r=new Array(yn+1);let o=0,i,l;for(i=1;i<=yn;i++)o=o+n[i-1]<<1,r[i]=o;for(l=0;l<=t;l++){let s=e[l*2+1];s!==0&&(e[l*2]=im(r[s]++,s))}},T_=()=>{let e,t,n,r,o;const i=new Array(yn+1);for(n=0,r=0;r<Su-1;r++)for(wu[r]=n,e=0;e<1<<ca[r];e++)mo[n++]=r;for(mo[n-1]=r,o=0,r=0;r<16;r++)for(Yi[r]=o,e=0;e<1<<Ei[r];e++)ho[o++]=r;for(o>>=7;r<rr;r++)for(Yi[r]=o<<7,e=0;e<1<<Ei[r]-7;e++)ho[256+o++]=r;for(t=0;t<=yn;t++)i[t]=0;for(e=0;e<=143;)wt[e*2+1]=8,e++,i[8]++;for(;e<=255;)wt[e*2+1]=9,e++,i[9]++;for(;e<=279;)wt[e*2+1]=7,e++,i[7]++;for(;e<=287;)wt[e*2+1]=8,e++,i[8]++;for(lm(wt,po+1,i),e=0;e<rr;e++)Wr[e*2+1]=5,Wr[e*2]=im(e,5);tm=new ns(wt,ca,ko+1,po,yn),nm=new ns(Wr,Ei,0,rr,yn),rm=new ns(new Array(0),__,0,Cu,v_)},sm=e=>{let t;for(t=0;t<po;t++)e.dyn_ltree[t*2]=0;for(t=0;t<rr;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Cu;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Tu*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},am=e=>{e.bi_valid>8?go(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},bc=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},os=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&bc(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!bc(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},Wc=(e,t,n)=>{let r,o,i=0,l,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?gt(e,o,t):(l=mo[o],gt(e,l+ko+1,t),s=ca[l],s!==0&&(o-=wu[l],Ne(e,o,s)),r--,l=om(r),gt(e,l,n),s=Ei[l],s!==0&&(r-=Yi[l],Ne(e,r,s)));while(i<e.sym_next);gt(e,Tu,t)},fa=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let l,s,f=-1,c;for(e.heap_len=0,e.heap_max=Zh,l=0;l<i;l++)n[l*2]!==0?(e.heap[++e.heap_len]=f=l,e.depth[l]=0):n[l*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=f<2?++f:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=r[c*2+1]);for(t.max_code=f,l=e.heap_len>>1;l>=1;l--)os(e,n,l);c=i;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],os(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=s,n[c*2]=n[l*2]+n[s*2],e.depth[c]=(e.depth[l]>=e.depth[s]?e.depth[l]:e.depth[s])+1,n[l*2+1]=n[s*2+1]=c,e.heap[1]=c++,os(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],C_(e,t),lm(n,f,e.bl_count)},Yc=(e,t,n)=>{let r,o=-1,i,l=t[0*2+1],s=0,f=7,c=4;for(l===0&&(f=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=l,l=t[(r+1)*2+1],!(++s<f&&i===l)&&(s<c?e.bl_tree[i*2]+=s:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[Qh*2]++):s<=10?e.bl_tree[Xh*2]++:e.bl_tree[jh*2]++,s=0,o=i,l===0?(f=138,c=3):i===l?(f=6,c=3):(f=7,c=4))},Kc=(e,t,n)=>{let r,o=-1,i,l=t[0*2+1],s=0,f=7,c=4;for(l===0&&(f=138,c=3),r=0;r<=n;r++)if(i=l,l=t[(r+1)*2+1],!(++s<f&&i===l)){if(s<c)do gt(e,i,e.bl_tree);while(--s!==0);else i!==0?(i!==o&&(gt(e,i,e.bl_tree),s--),gt(e,Qh,e.bl_tree),Ne(e,s-3,2)):s<=10?(gt(e,Xh,e.bl_tree),Ne(e,s-3,3)):(gt(e,jh,e.bl_tree),Ne(e,s-11,7));s=0,o=i,l===0?(f=138,c=3):i===l?(f=6,c=3):(f=7,c=4)}},w_=e=>{let t;for(Yc(e,e.dyn_ltree,e.l_desc.max_code),Yc(e,e.dyn_dtree,e.d_desc.max_code),fa(e,e.bl_desc),t=Cu-1;t>=3&&e.bl_tree[em[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},x_=(e,t,n,r)=>{let o;for(Ne(e,t-257,5),Ne(e,n-1,5),Ne(e,r-4,4),o=0;o<r;o++)Ne(e,e.bl_tree[em[o]*2+1],3);Kc(e,e.dyn_ltree,t-1),Kc(e,e.dyn_dtree,n-1)},I_=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Hc;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return qc;for(n=32;n<ko;n++)if(e.dyn_ltree[n*2]!==0)return qc;return Hc};let Jc=!1;const A_=e=>{Jc||(T_(),Jc=!0),e.l_desc=new rs(e.dyn_ltree,tm),e.d_desc=new rs(e.dyn_dtree,nm),e.bl_desc=new rs(e.bl_tree,rm),e.bi_buf=0,e.bi_valid=0,sm(e)},um=(e,t,n,r)=>{Ne(e,(h_<<1)+(r?1:0),3),am(e),go(e,n),go(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},k_=e=>{Ne(e,Jh<<1,3),gt(e,Tu,wt),S_(e)},P_=(e,t,n,r)=>{let o,i,l=0;e.level>0?(e.strm.data_type===p_&&(e.strm.data_type=I_(e)),fa(e,e.l_desc),fa(e,e.d_desc),l=w_(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?um(e,t,n,r):e.strategy===d_||i===o?(Ne(e,(Jh<<1)+(r?1:0),3),Wc(e,wt,Wr)):(Ne(e,(m_<<1)+(r?1:0),3),x_(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Wc(e,e.dyn_ltree,e.dyn_dtree)),sm(e),r&&am(e)},R_=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(mo[n]+ko+1)*2]++,e.dyn_dtree[om(t)*2]++),e.sym_next===e.sym_end);var M_=A_,N_=um,D_=P_,L_=R_,F_=k_,U_={_tr_init:M_,_tr_stored_block:N_,_tr_flush_block:D_,_tr_tally:L_,_tr_align:F_};const V_=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do o=o+t[r++]|0,i=i+o|0;while(--l);o%=65521,i%=65521}return o|i<<16|0};var yo=V_;const z_=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},O_=new Uint32Array(z_()),B_=(e,t,n,r)=>{const o=O_,i=r+n;e^=-1;for(let l=r;l<i;l++)e=e>>>8^o[(e^t[l])&255];return e^-1};var fe=B_,An={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Po={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:G_,_tr_stored_block:da,_tr_flush_block:$_,_tr_tally:en,_tr_align:H_}=U_,{Z_NO_FLUSH:tn,Z_PARTIAL_FLUSH:q_,Z_FULL_FLUSH:b_,Z_FINISH:Je,Z_BLOCK:Zc,Z_OK:me,Z_STREAM_END:Qc,Z_STREAM_ERROR:_t,Z_DATA_ERROR:W_,Z_BUF_ERROR:is,Z_DEFAULT_COMPRESSION:Y_,Z_FILTERED:K_,Z_HUFFMAN_ONLY:ei,Z_RLE:J_,Z_FIXED:Z_,Z_DEFAULT_STRATEGY:Q_,Z_UNKNOWN:X_,Z_DEFLATED:ml}=Po,j_=9,e0=15,t0=8,n0=29,r0=256,pa=r0+1+n0,o0=30,i0=19,l0=2*pa+1,s0=15,G=3,bt=258,Et=bt+G+1,a0=32,fr=42,xu=57,ha=69,ma=73,ga=91,ya=103,vn=113,Lr=666,xe=1,yr=2,kn=3,vr=4,u0=3,_n=(e,t)=>(e.msg=An[t],t),Xc=e=>e*2-(e>4?9:0),$t=e=>{let t=e.length;for(;--t>=0;)e[t]=0},c0=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let f0=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,nn=f0;const ze=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Ge=(e,t)=>{$_(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ze(e.strm)},q=(e,t)=>{e.pending_buf[e.pending++]=t},Pr=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},va=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=yo(e.adler,t,o,n):e.state.wrap===2&&(e.adler=fe(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},cm=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,l=e.prev_length,s=e.nice_match;const f=e.strstart>e.w_size-Et?e.strstart-(e.w_size-Et):0,c=e.window,d=e.w_mask,p=e.prev,h=e.strstart+bt;let m=c[r+l-1],E=c[r+l];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do if(o=t,!(c[o+l]!==E||c[o+l-1]!==m||c[o]!==c[r]||c[++o]!==c[r+1])){r+=2,o++;do;while(c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&r<h);if(i=bt-(h-r),r=h-bt,i>l){if(e.match_start=t,l=i,i>=s)break;m=c[r+l-1],E=c[r+l]}}while((t=p[t&d])>f&&--n!==0);return l<=e.lookahead?l:e.lookahead},dr=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Et)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),c0(e),r+=t),e.strm.avail_in===0)break;if(n=va(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=G)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=nn(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=nn(e,e.ins_h,e.window[o+G-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<G)););}while(e.lookahead<Et&&e.strm.avail_in!==0)},fm=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,l=0,s=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Je||t===tn||r!==o+e.strm.avail_in)))break;l=t===Je&&r===o+e.strm.avail_in?1:0,da(e,0,0,l),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ze(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(va(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(l===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?vr:t!==tn&&t!==Je&&e.strm.avail_in===0&&e.strstart===e.block_start?yr:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(va(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Je)&&t!==tn&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,l=t===Je&&e.strm.avail_in===0&&r===o?1:0,da(e,e.block_start,r,l),e.block_start+=r,ze(e.strm)),l?kn:xe)},ls=(e,t)=>{let n,r;for(;;){if(e.lookahead<Et){if(dr(e),e.lookahead<Et&&t===tn)return xe;if(e.lookahead===0)break}if(n=0,e.lookahead>=G&&(e.ins_h=nn(e,e.ins_h,e.window[e.strstart+G-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Et&&(e.match_length=cm(e,n)),e.match_length>=G)if(r=en(e,e.strstart-e.match_start,e.match_length-G),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=G){e.match_length--;do e.strstart++,e.ins_h=nn(e,e.ins_h,e.window[e.strstart+G-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=nn(e,e.ins_h,e.window[e.strstart+1]);else r=en(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ge(e,!1),e.strm.avail_out===0))return xe}return e.insert=e.strstart<G-1?e.strstart:G-1,t===Je?(Ge(e,!0),e.strm.avail_out===0?kn:vr):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:yr},Vn=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Et){if(dr(e),e.lookahead<Et&&t===tn)return xe;if(e.lookahead===0)break}if(n=0,e.lookahead>=G&&(e.ins_h=nn(e,e.ins_h,e.window[e.strstart+G-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=G-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Et&&(e.match_length=cm(e,n),e.match_length<=5&&(e.strategy===K_||e.match_length===G&&e.strstart-e.match_start>4096)&&(e.match_length=G-1)),e.prev_length>=G&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-G,r=en(e,e.strstart-1-e.prev_match,e.prev_length-G),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=nn(e,e.ins_h,e.window[e.strstart+G-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=G-1,e.strstart++,r&&(Ge(e,!1),e.strm.avail_out===0))return xe}else if(e.match_available){if(r=en(e,0,e.window[e.strstart-1]),r&&Ge(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return xe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=en(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<G-1?e.strstart:G-1,t===Je?(Ge(e,!0),e.strm.avail_out===0?kn:vr):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:yr},d0=(e,t)=>{let n,r,o,i;const l=e.window;for(;;){if(e.lookahead<=bt){if(dr(e),e.lookahead<=bt&&t===tn)return xe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=G&&e.strstart>0&&(o=e.strstart-1,r=l[o],r===l[++o]&&r===l[++o]&&r===l[++o])){i=e.strstart+bt;do;while(r===l[++o]&&r===l[++o]&&r===l[++o]&&r===l[++o]&&r===l[++o]&&r===l[++o]&&r===l[++o]&&r===l[++o]&&o<i);e.match_length=bt-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=G?(n=en(e,1,e.match_length-G),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=en(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ge(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,t===Je?(Ge(e,!0),e.strm.avail_out===0?kn:vr):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:yr},p0=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(dr(e),e.lookahead===0)){if(t===tn)return xe;break}if(e.match_length=0,n=en(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ge(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,t===Je?(Ge(e,!0),e.strm.avail_out===0?kn:vr):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:yr};function pt(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Fr=[new pt(0,0,0,0,fm),new pt(4,4,8,4,ls),new pt(4,5,16,8,ls),new pt(4,6,32,32,ls),new pt(4,4,16,16,Vn),new pt(8,16,32,32,Vn),new pt(8,16,128,128,Vn),new pt(8,32,128,256,Vn),new pt(32,128,258,1024,Vn),new pt(32,258,258,4096,Vn)],h0=e=>{e.window_size=2*e.w_size,$t(e.head),e.max_lazy_match=Fr[e.level].max_lazy,e.good_match=Fr[e.level].good_length,e.nice_match=Fr[e.level].nice_length,e.max_chain_length=Fr[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=G-1,e.match_available=0,e.ins_h=0};function m0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ml,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(l0*2),this.dyn_dtree=new Uint16Array((2*o0+1)*2),this.bl_tree=new Uint16Array((2*i0+1)*2),$t(this.dyn_ltree),$t(this.dyn_dtree),$t(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(s0+1),this.heap=new Uint16Array(2*pa+1),$t(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*pa+1),$t(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ro=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==fr&&t.status!==xu&&t.status!==ha&&t.status!==ma&&t.status!==ga&&t.status!==ya&&t.status!==vn&&t.status!==Lr?1:0},dm=e=>{if(Ro(e))return _n(e,_t);e.total_in=e.total_out=0,e.data_type=X_;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?xu:t.wrap?fr:vn,e.adler=t.wrap===2?0:1,t.last_flush=-2,G_(t),me},pm=e=>{const t=dm(e);return t===me&&h0(e.state),t},g0=(e,t)=>Ro(e)||e.state.wrap!==2?_t:(e.state.gzhead=t,me),hm=(e,t,n,r,o,i)=>{if(!e)return _t;let l=1;if(t===Y_&&(t=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),o<1||o>j_||n!==ml||r<8||r>15||t<0||t>9||i<0||i>Z_||r===8&&l!==1)return _n(e,_t);r===8&&(r=9);const s=new m0;return e.state=s,s.strm=e,s.status=fr,s.wrap=l,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+G-1)/G),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=i,s.method=n,pm(e)},y0=(e,t)=>hm(e,t,ml,e0,t0,Q_),v0=(e,t)=>{if(Ro(e)||t>Zc||t<0)return e?_n(e,_t):_t;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Lr&&t!==Je)return _n(e,e.avail_out===0?is:_t);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(ze(e),e.avail_out===0)return n.last_flush=-1,me}else if(e.avail_in===0&&Xc(t)<=Xc(r)&&t!==Je)return _n(e,is);if(n.status===Lr&&e.avail_in!==0)return _n(e,is);if(n.status===fr&&n.wrap===0&&(n.status=vn),n.status===fr){let o=ml+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=ei||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=a0),o+=31-o%31,Pr(n,o),n.strstart!==0&&(Pr(n,e.adler>>>16),Pr(n,e.adler&65535)),e.adler=1,n.status=vn,ze(e),n.pending!==0)return n.last_flush=-1,me}if(n.status===xu){if(e.adler=0,q(n,31),q(n,139),q(n,8),n.gzhead)q(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),q(n,n.gzhead.time&255),q(n,n.gzhead.time>>8&255),q(n,n.gzhead.time>>16&255),q(n,n.gzhead.time>>24&255),q(n,n.level===9?2:n.strategy>=ei||n.level<2?4:0),q(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(q(n,n.gzhead.extra.length&255),q(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=fe(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=ha;else if(q(n,0),q(n,0),q(n,0),q(n,0),q(n,0),q(n,n.level===9?2:n.strategy>=ei||n.level<2?4:0),q(n,u0),n.status=vn,ze(e),n.pending!==0)return n.last_flush=-1,me}if(n.status===ha){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=fe(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=s,ze(e),n.pending!==0)return n.last_flush=-1,me;o=0,i-=s}let l=new Uint8Array(n.gzhead.extra);n.pending_buf.set(l.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=fe(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=ma}if(n.status===ma){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=fe(e.adler,n.pending_buf,n.pending-o,o)),ze(e),n.pending!==0)return n.last_flush=-1,me;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,q(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=fe(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=ga}if(n.status===ga){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=fe(e.adler,n.pending_buf,n.pending-o,o)),ze(e),n.pending!==0)return n.last_flush=-1,me;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,q(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=fe(e.adler,n.pending_buf,n.pending-o,o))}n.status=ya}if(n.status===ya){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ze(e),n.pending!==0))return n.last_flush=-1,me;q(n,e.adler&255),q(n,e.adler>>8&255),e.adler=0}if(n.status=vn,ze(e),n.pending!==0)return n.last_flush=-1,me}if(e.avail_in!==0||n.lookahead!==0||t!==tn&&n.status!==Lr){let o=n.level===0?fm(n,t):n.strategy===ei?p0(n,t):n.strategy===J_?d0(n,t):Fr[n.level].func(n,t);if((o===kn||o===vr)&&(n.status=Lr),o===xe||o===kn)return e.avail_out===0&&(n.last_flush=-1),me;if(o===yr&&(t===q_?H_(n):t!==Zc&&(da(n,0,0,!1),t===b_&&($t(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ze(e),e.avail_out===0))return n.last_flush=-1,me}return t!==Je?me:n.wrap<=0?Qc:(n.wrap===2?(q(n,e.adler&255),q(n,e.adler>>8&255),q(n,e.adler>>16&255),q(n,e.adler>>24&255),q(n,e.total_in&255),q(n,e.total_in>>8&255),q(n,e.total_in>>16&255),q(n,e.total_in>>24&255)):(Pr(n,e.adler>>>16),Pr(n,e.adler&65535)),ze(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?me:Qc)},_0=e=>{if(Ro(e))return _t;const t=e.state.status;return e.state=null,t===vn?_n(e,W_):me},E0=(e,t)=>{let n=t.length;if(Ro(e))return _t;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==fr||r.lookahead)return _t;if(o===1&&(e.adler=yo(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&($t(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(n-r.w_size,n),0),t=f,n=r.w_size}const i=e.avail_in,l=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,dr(r);r.lookahead>=G;){let f=r.strstart,c=r.lookahead-(G-1);do r.ins_h=nn(r,r.ins_h,r.window[f+G-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--c);r.strstart=f,r.lookahead=G-1,dr(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=G-1,r.match_available=0,e.next_in=l,e.input=s,e.avail_in=i,r.wrap=o,me};var S0=y0,C0=hm,T0=pm,w0=dm,x0=g0,I0=v0,A0=_0,k0=E0,P0="pako deflate (from Nodeca project)",Yr={deflateInit:S0,deflateInit2:C0,deflateReset:T0,deflateResetKeep:w0,deflateSetHeader:x0,deflate:I0,deflateEnd:A0,deflateSetDictionary:k0,deflateInfo:P0};const R0=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var M0=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)R0(n,r)&&(e[r]=n[r])}}return e},N0=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let l=e[r];n.set(l,o),o+=l.length}return n},gl={assign:M0,flattenChunks:N0};let mm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{mm=!1}const vo=new Uint8Array(256);for(let e=0;e<256;e++)vo[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;vo[254]=vo[254]=1;var D0=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,l=e.length,s=0;for(o=0;o<l;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<l&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<l&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const L0=(e,t)=>{if(t<65534&&e.subarray&&mm)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var F0=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let l=e[r++];if(l<128){i[o++]=l;continue}let s=vo[l];if(s>4){i[o++]=65533,r+=s-1;continue}for(l&=s===2?31:s===3?15:7;s>1&&r<n;)l=l<<6|e[r++]&63,s--;if(s>1){i[o++]=65533;continue}l<65536?i[o++]=l:(l-=65536,i[o++]=55296|l>>10&1023,i[o++]=56320|l&1023)}return L0(i,o)},U0=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+vo[e[n]]>t?n:t},_o={string2buf:D0,buf2string:F0,utf8border:U0};function V0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gm=V0;const ym=Object.prototype.toString,{Z_NO_FLUSH:z0,Z_SYNC_FLUSH:O0,Z_FULL_FLUSH:B0,Z_FINISH:G0,Z_OK:Ki,Z_STREAM_END:$0,Z_DEFAULT_COMPRESSION:H0,Z_DEFAULT_STRATEGY:q0,Z_DEFLATED:b0}=Po;function Mo(e){this.options=gl.assign({level:H0,method:b0,chunkSize:16384,windowBits:15,memLevel:8,strategy:q0},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gm,this.strm.avail_out=0;let n=Yr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ki)throw new Error(An[n]);if(t.header&&Yr.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=_o.string2buf(t.dictionary):ym.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Yr.deflateSetDictionary(this.strm,r),n!==Ki)throw new Error(An[n]);this._dict_set=!0}}Mo.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?G0:z0,typeof e=="string"?n.input=_o.string2buf(e):ym.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===O0||i===B0)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Yr.deflate(n,i),o===$0)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Yr.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Ki;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Mo.prototype.onData=function(e){this.chunks.push(e)};Mo.prototype.onEnd=function(e){e===Ki&&(this.result=gl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Iu(e,t){const n=new Mo(t);if(n.push(e,!0),n.err)throw n.msg||An[n.err];return n.result}function W0(e,t){return t=t||{},t.raw=!0,Iu(e,t)}function Y0(e,t){return t=t||{},t.gzip=!0,Iu(e,t)}var K0=Mo,J0=Iu,Z0=W0,Q0=Y0,X0={Deflate:K0,deflate:J0,deflateRaw:Z0,gzip:Q0};const ti=16209,j0=16191;var eE=function(t,n){let r,o,i,l,s,f,c,d,p,h,m,E,S,w,_,y,g,v,T,x,C,P,N,A;const L=t.state;r=t.next_in,N=t.input,o=r+(t.avail_in-5),i=t.next_out,A=t.output,l=i-(n-t.avail_out),s=i+(t.avail_out-257),f=L.dmax,c=L.wsize,d=L.whave,p=L.wnext,h=L.window,m=L.hold,E=L.bits,S=L.lencode,w=L.distcode,_=(1<<L.lenbits)-1,y=(1<<L.distbits)-1;e:do{E<15&&(m+=N[r++]<<E,E+=8,m+=N[r++]<<E,E+=8),g=S[m&_];t:for(;;){if(v=g>>>24,m>>>=v,E-=v,v=g>>>16&255,v===0)A[i++]=g&65535;else if(v&16){T=g&65535,v&=15,v&&(E<v&&(m+=N[r++]<<E,E+=8),T+=m&(1<<v)-1,m>>>=v,E-=v),E<15&&(m+=N[r++]<<E,E+=8,m+=N[r++]<<E,E+=8),g=w[m&y];n:for(;;){if(v=g>>>24,m>>>=v,E-=v,v=g>>>16&255,v&16){if(x=g&65535,v&=15,E<v&&(m+=N[r++]<<E,E+=8,E<v&&(m+=N[r++]<<E,E+=8)),x+=m&(1<<v)-1,x>f){t.msg="invalid distance too far back",L.mode=ti;break e}if(m>>>=v,E-=v,v=i-l,x>v){if(v=x-v,v>d&&L.sane){t.msg="invalid distance too far back",L.mode=ti;break e}if(C=0,P=h,p===0){if(C+=c-v,v<T){T-=v;do A[i++]=h[C++];while(--v);C=i-x,P=A}}else if(p<v){if(C+=c+p-v,v-=p,v<T){T-=v;do A[i++]=h[C++];while(--v);if(C=0,p<T){v=p,T-=v;do A[i++]=h[C++];while(--v);C=i-x,P=A}}}else if(C+=p-v,v<T){T-=v;do A[i++]=h[C++];while(--v);C=i-x,P=A}for(;T>2;)A[i++]=P[C++],A[i++]=P[C++],A[i++]=P[C++],T-=3;T&&(A[i++]=P[C++],T>1&&(A[i++]=P[C++]))}else{C=i-x;do A[i++]=A[C++],A[i++]=A[C++],A[i++]=A[C++],T-=3;while(T>2);T&&(A[i++]=A[C++],T>1&&(A[i++]=A[C++]))}}else if(v&64){t.msg="invalid distance code",L.mode=ti;break e}else{g=w[(g&65535)+(m&(1<<v)-1)];continue n}break}}else if(v&64)if(v&32){L.mode=j0;break e}else{t.msg="invalid literal/length code",L.mode=ti;break e}else{g=S[(g&65535)+(m&(1<<v)-1)];continue t}break}}while(r<o&&i<s);T=E>>3,r-=T,E-=T<<3,m&=(1<<E)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<s?257+(s-i):257-(i-s),L.hold=m,L.bits=E};const zn=15,jc=852,ef=592,tf=0,ss=1,nf=2,tE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iE=(e,t,n,r,o,i,l,s)=>{const f=s.bits;let c=0,d=0,p=0,h=0,m=0,E=0,S=0,w=0,_=0,y=0,g,v,T,x,C,P=null,N;const A=new Uint16Array(zn+1),L=new Uint16Array(zn+1);let J=null,Ve,X,We;for(c=0;c<=zn;c++)A[c]=0;for(d=0;d<r;d++)A[t[n+d]]++;for(m=f,h=zn;h>=1&&A[h]===0;h--);if(m>h&&(m=h),h===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<h&&A[p]===0;p++);for(m<p&&(m=p),w=1,c=1;c<=zn;c++)if(w<<=1,w-=A[c],w<0)return-1;if(w>0&&(e===tf||h!==1))return-1;for(L[1]=0,c=1;c<zn;c++)L[c+1]=L[c]+A[c];for(d=0;d<r;d++)t[n+d]!==0&&(l[L[t[n+d]]++]=d);if(e===tf?(P=J=l,N=20):e===ss?(P=tE,J=nE,N=257):(P=rE,J=oE,N=0),y=0,d=0,c=p,C=i,E=m,S=0,T=-1,_=1<<m,x=_-1,e===ss&&_>jc||e===nf&&_>ef)return 1;for(;;){Ve=c-S,l[d]+1<N?(X=0,We=l[d]):l[d]>=N?(X=J[l[d]-N],We=P[l[d]-N]):(X=96,We=0),g=1<<c-S,v=1<<E,p=v;do v-=g,o[C+(y>>S)+v]=Ve<<24|X<<16|We|0;while(v!==0);for(g=1<<c-1;y&g;)g>>=1;if(g!==0?(y&=g-1,y+=g):y=0,d++,--A[c]===0){if(c===h)break;c=t[n+l[d]]}if(c>m&&(y&x)!==T){for(S===0&&(S=m),C+=p,E=c-S,w=1<<E;E+S<h&&(w-=A[E+S],!(w<=0));)E++,w<<=1;if(_+=1<<E,e===ss&&_>jc||e===nf&&_>ef)return 1;T=y&x,o[T]=m<<24|E<<16|C-i|0}}return y!==0&&(o[C+y]=c-S<<24|64<<16|0),s.bits=m,0};var Kr=iE;const lE=0,vm=1,_m=2,{Z_FINISH:rf,Z_BLOCK:sE,Z_TREES:ni,Z_OK:Pn,Z_STREAM_END:aE,Z_NEED_DICT:uE,Z_STREAM_ERROR:et,Z_DATA_ERROR:Em,Z_MEM_ERROR:Sm,Z_BUF_ERROR:cE,Z_DEFLATED:of}=Po,yl=16180,lf=16181,sf=16182,af=16183,uf=16184,cf=16185,ff=16186,df=16187,pf=16188,hf=16189,Ji=16190,St=16191,as=16192,mf=16193,us=16194,gf=16195,yf=16196,vf=16197,_f=16198,ri=16199,oi=16200,Ef=16201,Sf=16202,Cf=16203,Tf=16204,wf=16205,cs=16206,xf=16207,If=16208,Z=16209,Cm=16210,Tm=16211,fE=852,dE=592,pE=15,hE=pE,Af=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function mE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nn=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<yl||t.mode>Tm?1:0},wm=e=>{if(Nn(e))return et;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=yl,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(fE),t.distcode=t.distdyn=new Int32Array(dE),t.sane=1,t.back=-1,Pn},xm=e=>{if(Nn(e))return et;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,wm(e)},Im=(e,t)=>{let n;if(Nn(e))return et;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?et:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,xm(e))},Am=(e,t)=>{if(!e)return et;const n=new mE;e.state=n,n.strm=e,n.window=null,n.mode=yl;const r=Im(e,t);return r!==Pn&&(e.state=null),r},gE=e=>Am(e,hE);let kf=!0,fs,ds;const yE=e=>{if(kf){fs=new Int32Array(512),ds=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Kr(vm,e.lens,0,288,fs,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Kr(_m,e.lens,0,32,ds,0,e.work,{bits:5}),kf=!1}e.lencode=fs,e.lenbits=9,e.distcode=ds,e.distbits=5},km=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},vE=(e,t)=>{let n,r,o,i,l,s,f,c,d,p,h,m,E,S,w=0,_,y,g,v,T,x,C,P;const N=new Uint8Array(4);let A,L;const J=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nn(e)||!e.output||!e.input&&e.avail_in!==0)return et;n=e.state,n.mode===St&&(n.mode=as),l=e.next_out,o=e.output,f=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,d=n.bits,p=s,h=f,P=Pn;e:for(;;)switch(n.mode){case yl:if(n.wrap===0){n.mode=as;break}for(;d<16;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=c&255,N[1]=c>>>8&255,n.check=fe(n.check,N,2,0),c=0,d=0,n.mode=lf;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((c&15)!==of){e.msg="unknown compression method",n.mode=Z;break}if(c>>>=4,d-=4,C=(c&15)+8,n.wbits===0&&(n.wbits=C),C>15||C>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?hf:St,c=0,d=0;break;case lf:for(;d<16;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==of){e.msg="unknown compression method",n.mode=Z;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=fe(n.check,N,2,0)),c=0,d=0,n.mode=sf;case sf:for(;d<32;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,n.check=fe(n.check,N,4,0)),c=0,d=0,n.mode=af;case af:for(;d<16;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=fe(n.check,N,2,0)),c=0,d=0,n.mode=uf;case uf:if(n.flags&1024){for(;d<16;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=fe(n.check,N,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=cf;case cf:if(n.flags&1024&&(m=n.length,m>s&&(m=s),m&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),C)),n.flags&512&&n.wrap&4&&(n.check=fe(n.check,r,m,i)),s-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=ff;case ff:if(n.flags&2048){if(s===0)break e;m=0;do C=r[i+m++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C));while(C&&m<s);if(n.flags&512&&n.wrap&4&&(n.check=fe(n.check,r,m,i)),s-=m,i+=m,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=df;case df:if(n.flags&4096){if(s===0)break e;m=0;do C=r[i+m++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C));while(C&&m<s);if(n.flags&512&&n.wrap&4&&(n.check=fe(n.check,r,m,i)),s-=m,i+=m,C)break e}else n.head&&(n.head.comment=null);n.mode=pf;case pf:if(n.flags&512){for(;d<16;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Z;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=St;break;case hf:for(;d<32;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}e.adler=n.check=Af(c),c=0,d=0,n.mode=Ji;case Ji:if(n.havedict===0)return e.next_out=l,e.avail_out=f,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=d,uE;e.adler=n.check=1,n.mode=St;case St:if(t===sE||t===ni)break e;case as:if(n.last){c>>>=d&7,d-=d&7,n.mode=cs;break}for(;d<3;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=mf;break;case 1:if(yE(n),n.mode=ri,t===ni){c>>>=2,d-=2;break e}break;case 2:n.mode=yf;break;case 3:e.msg="invalid block type",n.mode=Z}c>>>=2,d-=2;break;case mf:for(c>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=c&65535,c=0,d=0,n.mode=us,t===ni)break e;case us:n.mode=gf;case gf:if(m=n.length,m){if(m>s&&(m=s),m>f&&(m=f),m===0)break e;o.set(r.subarray(i,i+m),l),s-=m,i+=m,f-=m,l+=m,n.length-=m;break}n.mode=St;break;case yf:for(;d<14;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=vf;case vf:for(;n.have<n.ncode;){for(;d<3;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}n.lens[J[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[J[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},P=Kr(lE,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,P){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=_f;case _f:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[c&(1<<n.lenbits)-1],_=w>>>24,y=w>>>16&255,g=w&65535,!(_<=d);){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(g<16)c>>>=_,d-=_,n.lens[n.have++]=g;else{if(g===16){for(L=_+2;d<L;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(c>>>=_,d-=_,n.have===0){e.msg="invalid bit length repeat",n.mode=Z;break}C=n.lens[n.have-1],m=3+(c&3),c>>>=2,d-=2}else if(g===17){for(L=_+3;d<L;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}c>>>=_,d-=_,C=0,m=3+(c&7),c>>>=3,d-=3}else{for(L=_+7;d<L;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}c>>>=_,d-=_,C=0,m=11+(c&127),c>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}for(;m--;)n.lens[n.have++]=C}}if(n.mode===Z)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,A={bits:n.lenbits},P=Kr(vm,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,P){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},P=Kr(_m,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,P){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=ri,t===ni)break e;case ri:n.mode=oi;case oi:if(s>=6&&f>=258){e.next_out=l,e.avail_out=f,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=d,eE(e,h),l=e.next_out,o=e.output,f=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,d=n.bits,n.mode===St&&(n.back=-1);break}for(n.back=0;w=n.lencode[c&(1<<n.lenbits)-1],_=w>>>24,y=w>>>16&255,g=w&65535,!(_<=d);){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(v=_,T=y,x=g;w=n.lencode[x+((c&(1<<v+T)-1)>>v)],_=w>>>24,y=w>>>16&255,g=w&65535,!(v+_<=d);){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,n.back+=v}if(c>>>=_,d-=_,n.back+=_,n.length=g,y===0){n.mode=wf;break}if(y&32){n.back=-1,n.mode=St;break}if(y&64){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=y&15,n.mode=Ef;case Ef:if(n.extra){for(L=n.extra;d<L;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Sf;case Sf:for(;w=n.distcode[c&(1<<n.distbits)-1],_=w>>>24,y=w>>>16&255,g=w&65535,!(_<=d);){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(!(y&240)){for(v=_,T=y,x=g;w=n.distcode[x+((c&(1<<v+T)-1)>>v)],_=w>>>24,y=w>>>16&255,g=w&65535,!(v+_<=d);){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,n.back+=v}if(c>>>=_,d-=_,n.back+=_,y&64){e.msg="invalid distance code",n.mode=Z;break}n.offset=g,n.extra=y&15,n.mode=Cf;case Cf:if(n.extra){for(L=n.extra;d<L;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=Tf;case Tf:if(f===0)break e;if(m=h-f,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}m>n.wnext?(m-=n.wnext,E=n.wsize-m):E=n.wnext-m,m>n.length&&(m=n.length),S=n.window}else S=o,E=l-n.offset,m=n.length;m>f&&(m=f),f-=m,n.length-=m;do o[l++]=S[E++];while(--m);n.length===0&&(n.mode=oi);break;case wf:if(f===0)break e;o[l++]=n.length,f--,n.mode=oi;break;case cs:if(n.wrap){for(;d<32;){if(s===0)break e;s--,c|=r[i++]<<d,d+=8}if(h-=f,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?fe(n.check,o,h,l-h):yo(n.check,o,h,l-h)),h=f,n.wrap&4&&(n.flags?c:Af(c))!==n.check){e.msg="incorrect data check",n.mode=Z;break}c=0,d=0}n.mode=xf;case xf:if(n.wrap&&n.flags){for(;d<32;){if(s===0)break e;s--,c+=r[i++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Z;break}c=0,d=0}n.mode=If;case If:P=aE;break e;case Z:P=Em;break e;case Cm:return Sm;case Tm:default:return et}return e.next_out=l,e.avail_out=f,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<Z&&(n.mode<cs||t!==rf))&&km(e,e.output,e.next_out,h-e.avail_out),p-=e.avail_in,h-=e.avail_out,e.total_in+=p,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?fe(n.check,o,h,e.next_out-h):yo(n.check,o,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===St?128:0)+(n.mode===ri||n.mode===us?256:0),(p===0&&h===0||t===rf)&&P===Pn&&(P=cE),P},_E=e=>{if(Nn(e))return et;let t=e.state;return t.window&&(t.window=null),e.state=null,Pn},EE=(e,t)=>{if(Nn(e))return et;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Pn):et},SE=(e,t)=>{const n=t.length;let r,o,i;return Nn(e)||(r=e.state,r.wrap!==0&&r.mode!==Ji)?et:r.mode===Ji&&(o=1,o=yo(o,t,n,0),o!==r.check)?Em:(i=km(e,t,n,n),i?(r.mode=Cm,Sm):(r.havedict=1,Pn))};var CE=xm,TE=Im,wE=wm,xE=gE,IE=Am,AE=vE,kE=_E,PE=EE,RE=SE,ME="pako inflate (from Nodeca project)",xt={inflateReset:CE,inflateReset2:TE,inflateResetKeep:wE,inflateInit:xE,inflateInit2:IE,inflate:AE,inflateEnd:kE,inflateGetHeader:PE,inflateSetDictionary:RE,inflateInfo:ME};function NE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DE=NE;const Pm=Object.prototype.toString,{Z_NO_FLUSH:LE,Z_FINISH:FE,Z_OK:Eo,Z_STREAM_END:ps,Z_NEED_DICT:hs,Z_STREAM_ERROR:UE,Z_DATA_ERROR:Pf,Z_MEM_ERROR:VE}=Po;function No(e){this.options=gl.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gm,this.strm.avail_out=0;let n=xt.inflateInit2(this.strm,t.windowBits);if(n!==Eo)throw new Error(An[n]);if(this.header=new DE,xt.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=_o.string2buf(t.dictionary):Pm.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xt.inflateSetDictionary(this.strm,t.dictionary),n!==Eo)))throw new Error(An[n])}No.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,l,s;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?FE:LE,Pm.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=xt.inflate(n,l),i===hs&&o&&(i=xt.inflateSetDictionary(n,o),i===Eo?i=xt.inflate(n,l):i===Pf&&(i=hs));n.avail_in>0&&i===ps&&n.state.wrap>0&&e[n.next_in]!==0;)xt.inflateReset(n),i=xt.inflate(n,l);switch(i){case UE:case Pf:case hs:case VE:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||i===ps))if(this.options.to==="string"){let f=_o.utf8border(n.output,n.next_out),c=n.next_out-f,d=_o.buf2string(n.output,f);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(f,f+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Eo&&s===0)){if(i===ps)return i=xt.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};No.prototype.onData=function(e){this.chunks.push(e)};No.prototype.onEnd=function(e){e===Eo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Au(e,t){const n=new No(t);if(n.push(e),n.err)throw n.msg||An[n.err];return n.result}function zE(e,t){return t=t||{},t.raw=!0,Au(e,t)}var OE=No,BE=Au,GE=zE,$E=Au,HE={Inflate:OE,inflate:BE,inflateRaw:GE,ungzip:$E};const{Deflate:qE,deflate:bE,deflateRaw:WE,gzip:YE}=X0,{Inflate:KE,inflate:JE,inflateRaw:ZE,ungzip:QE}=HE;var XE=qE,jE=bE,eS=WE,tS=YE,nS=KE,rS=JE,oS=ZE,iS=QE,lS=Po,sS={Deflate:XE,deflate:jE,deflateRaw:eS,gzip:tS,Inflate:nS,inflate:rS,inflateRaw:oS,ungzip:iS,constants:lS};const jx=e=>{const t=e.replace(/\s/g,"");return(t.startsWith("eJ")||t.startsWith("eN"))&&!t.startsWith("<")},aS=e=>{try{F.debug("Decoding PoB code...");let n=e.replace(/\s/g,"").replace(/-/g,"+").replace(/_/g,"/");for(;n.length%4;)n+="=";const o=atob(n).split("").map(s=>s.charCodeAt(0)),i=new Uint8Array(o),l=sS.inflate(i,{to:"string"});return F.debug("PoB code decoded successfully."),l}catch(t){throw F.error("Failed to decode PoB code.",{code:e,error:t}),new Error("Invalid or corrupted Path of Building code. Please ensure you copied the entire code correctly.")}},So=async e=>{const t=`/api/proxy?targetUrl=${encodeURIComponent(e)}`;F.debug(`[Client] Fetching via Vercel proxy: ${e}`);try{const n=await fetch(t);if(!n.ok){const r=await n.text();throw F.error(`[Client] Non-OK response from Vercel proxy for ${e}`,{status:n.status,body:r}),new Error(`Proxy request failed with status ${n.status}. This could be an issue with the Path of Exile servers or our proxy.`)}return F.debug(`[Client] Successfully fetched via Vercel proxy: ${e}`),n}catch(n){throw F.error(`[Client] Network error calling Vercel proxy for ${e}`,{error:n instanceof Error?{message:n.message,stack:n.stack}:String(n)}),new Error("A network error occurred while communicating with our backend proxy.")}},uS=async e=>{F.info("getAccountCharacters started",{accountName:e});const t=`https://www.pathofexile.com/character-window/get-characters?accountName=${encodeURIComponent(e)}`;try{const r=await(await So(t)).text();try{const o=JSON.parse(r);if(o.error){const i=o.error.message||(typeof o.error=="object"?JSON.stringify(o.error):o.error);throw i.toLowerCase().includes("private")?new Error(`Account "${e}" profile is private. Please set it to public on pathofexile.com.`):new Error(`API Error: ${i}`)}if(!Array.isArray(o))throw F.error("Received unexpected data from character API",{responseText:r}),new Error("Received unexpected data from character API.");return F.info("getAccountCharacters successful",{count:o.length}),o.map(i=>({name:i.name,class:i.class,level:i.level}))}catch(o){throw F.error("Failed to parse character data as JSON",{responseText:r,error:o}),r.includes("Account not found")?new Error(`Account "${e}" not found. Check the name and make sure your profile is public.`):new Error("The character API returned an invalid response. The PoE website might be having issues.")}}catch(n){F.error("Error in getAccountCharacters service call.",{error:n instanceof Error?{message:n.message,stack:n.stack}:String(n)});const r=n instanceof Error?n.message:String(n);throw new Error(r)}},cS=async(e,t)=>{F.info("Fallback: Fetching build data directly from PoE API",{accountName:e,characterName:t});const n=`https://www.pathofexile.com/character-window/get-items?character=${encodeURIComponent(t)}&accountName=${encodeURIComponent(e)}`,r=`https://www.pathofexile.com/character-window/get-passive-skills?character=${encodeURIComponent(t)}&accountName=${encodeURIComponent(e)}`;try{const[o,i]=await Promise.all([So(n),So(r)]),l=await o.json(),s=await i.json();return{items:l.items,passiveSkills:s}}catch(o){throw F.error("Error in getCharacterBuildDataFromPoeApi",{error:o instanceof Error?{message:o.message,stack:o.stack}:String(o)}),new Error("Failed to fetch character build data directly from the Path of Exile API as a fallback.")}},fS=async e=>{F.info("AI starting conversion from PoE API JSON to PoB XML");const t=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"convertPoeJsonToPobXml",data:{buildData:e}})}),n=await t.json();if(!t.ok)throw new Error(n.error||`XML Conversion failed with status ${t.status}`);return n},dS=async(e,t)=>{F.info("fetchPobFromAccount started with pobbin.com",{accountName:e,characterName:t});const n=`https://pobbin.com/api/import?poe_account_name=${encodeURIComponent(e)}&character_name=${encodeURIComponent(t)}`;let r="";try{const i=await(await So(n)).text();try{const d=JSON.parse(i);if(!d.url)throw F.error("Malformed response from pobbin.com/api/import",{importData:d}),new Error("pobbin.com did not return a valid URL.");r=d.url}catch(d){if(F.error("Failed to parse pobbin.com import response as JSON",{responseText:i,error:d}),i.includes("Private profile or invalid character name"))throw new Error("Could not import from pobbin.com. Please ensure your character tab is public on pathofexile.com and the character name is correct.");if(i.includes("was not found"))throw new Error(`Could not import from pobbin.com because account "${e}" was not found. Please check the spelling.`);if(i.trim().startsWith("<!doctype html>")){F.info("pobbin.com returned HTML. Initiating fallback to direct PoE API fetch.");try{const p=await cS(e,t);return{pobData:await fS(p),pobUrl:""}}catch(p){throw F.error("Fallback strategy failed",{error:p instanceof Error?{message:p.message,stack:p.stack}:String(p)}),new Error("The primary import service (pobbin.com) failed, and the direct API fallback also failed. This may be a temporary issue with the Path of Exile servers.")}}throw new Error("The PoB import service (pobbin.com) returned an invalid (non-JSON) response. The service might be temporarily down.")}F.info("Successfully got pobbin URL",{pobbinUrl:r});const l=`${r}/raw`,f=await(await So(l)).text();if(!f)throw new Error("pobbin.com returned an empty build code. The character might not have any skills or items equipped.");const c=aS(f);return F.info("fetchPobFromAccount successful using pobbin.com"),{pobData:c,pobUrl:r}}catch(o){F.error("Error in fetchPobFromAccount service call.",{error:o instanceof Error?{message:o.message,stack:o.stack}:String(o)});const i=o instanceof Error?o.message:String(o);throw new Error(i)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pS,hS;function mS(){return{geminiUrl:pS,vertexUrl:hS}}function gS(e,t,n){var r,o,i;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const l=mS();return e.vertexai?(o=l.vertexUrl)!==null&&o!==void 0?o:t:(i=l.geminiUrl)!==null&&i!==void 0?i:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{}function O(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const s=l.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[s])){const f=e[s];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];u(d,t.slice(i+1),n[c])}else for(const c of f)u(c,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const s=l.slice(0,-3);s in e||(e[s]=[{}]);const f=e[s];u(f[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function a(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const i=e[o];return Array.isArray(i)?i.map(l=>a(l,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ie(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Rm(e,t){const n=ie(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Mm(e,t){return Array.isArray(t)?t.map(n=>Zi(e,n)):[Zi(e,t)]}function Zi(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yS(e,t){const n=Zi(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function vS(e,t){const n=Zi(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Rf(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Nm(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Rf(e,n)):[Rf(e,t)]}function _a(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Mf(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Nf(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function De(e,t){if(t==null)throw new Error("ContentUnion is required");return _a(t)?t:{role:"user",parts:Nm(e,t)}}function Dm(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=De(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=De(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>De(e,n)):[De(e,t)]}function un(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Mf(t)||Nf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[De(e,t)]}const n=[],r=[],o=_a(t[0]);for(const i of t){const l=_a(i);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)n.push(i);else{if(Mf(i)||Nf(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return o||n.push({role:"user",parts:Nm(e,r)}),n}function Lm(e,t){return t}function Fm(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vl(e,t){return t}function _l(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function _S(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function cn(e,t){if(typeof t!="string")throw new Error("name must be a string");return _S(e,t,"cachedContents")}function Um(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fn(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Vm(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(e,t){const n={};if(a(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=a(t,["thought"]);r!=null&&u(n,["thought"],r);const o=a(t,["codeExecutionResult"]);o!=null&&u(n,["codeExecutionResult"],o);const i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);const l=a(t,["fileData"]);l!=null&&u(n,["fileData"],l);const s=a(t,["functionCall"]);s!=null&&u(n,["functionCall"],s);const f=a(t,["functionResponse"]);f!=null&&u(n,["functionResponse"],f);const c=a(t,["inlineData"]);c!=null&&u(n,["inlineData"],c);const d=a(t,["text"]);return d!=null&&u(n,["text"],d),n}function Df(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>ES(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function SS(){return{}}function CS(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["dynamicThreshold"]);return o!=null&&u(n,["dynamicThreshold"],o),n}function TS(e,t){const n={},r=a(t,["dynamicRetrievalConfig"]);return r!=null&&u(n,["dynamicRetrievalConfig"],CS(e,r)),n}function wS(e,t){const n={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");a(t,["googleSearch"])!=null&&u(n,["googleSearch"],SS());const o=a(t,["googleSearchRetrieval"]);o!=null&&u(n,["googleSearchRetrieval"],TS(e,o));const i=a(t,["codeExecution"]);i!=null&&u(n,["codeExecution"],i);const l=a(t,["functionDeclarations"]);return l!=null&&u(n,["functionDeclarations"],l),n}function xS(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["allowedFunctionNames"]);return o!=null&&u(n,["allowedFunctionNames"],o),n}function IS(e,t){const n={},r=a(t,["functionCallingConfig"]);return r!=null&&u(n,["functionCallingConfig"],xS(e,r)),n}function AS(e,t,n){const r={},o=a(t,["ttl"]);n!==void 0&&o!=null&&u(n,["ttl"],o);const i=a(t,["expireTime"]);n!==void 0&&i!=null&&u(n,["expireTime"],i);const l=a(t,["displayName"]);n!==void 0&&l!=null&&u(n,["displayName"],l);const s=a(t,["contents"]);if(n!==void 0&&s!=null){let p=un(e,s);Array.isArray(p)&&(p=p.map(h=>Df(e,h))),u(n,["contents"],p)}const f=a(t,["systemInstruction"]);n!==void 0&&f!=null&&u(n,["systemInstruction"],Df(e,De(e,f)));const c=a(t,["tools"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>wS(e,h))),u(n,["tools"],p)}const d=a(t,["toolConfig"]);return n!==void 0&&d!=null&&u(n,["toolConfig"],IS(e,d)),r}function kS(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["model"],Rm(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],AS(e,o,n)),n}function PS(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],cn(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function RS(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],cn(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function MS(e,t,n){const r={},o=a(t,["ttl"]);n!==void 0&&o!=null&&u(n,["ttl"],o);const i=a(t,["expireTime"]);return n!==void 0&&i!=null&&u(n,["expireTime"],i),r}function NS(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],cn(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],MS(e,o,n)),n}function DS(e,t,n){const r={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);return n!==void 0&&i!=null&&u(n,["_query","pageToken"],i),r}function LS(e,t){const n={},r=a(t,["config"]);return r!=null&&u(n,["config"],DS(e,r,n)),n}function FS(e,t){const n={},r=a(t,["videoMetadata"]);r!=null&&u(n,["videoMetadata"],r);const o=a(t,["thought"]);o!=null&&u(n,["thought"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(n,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(n,["executableCode"],l);const s=a(t,["fileData"]);s!=null&&u(n,["fileData"],s);const f=a(t,["functionCall"]);f!=null&&u(n,["functionCall"],f);const c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);const d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],d);const p=a(t,["text"]);return p!=null&&u(n,["text"],p),n}function Lf(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>FS(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function US(){return{}}function VS(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["dynamicThreshold"]);return o!=null&&u(n,["dynamicThreshold"],o),n}function zS(e,t){const n={},r=a(t,["dynamicRetrievalConfig"]);return r!=null&&u(n,["dynamicRetrievalConfig"],VS(e,r)),n}function OS(e,t){const n={},r=a(t,["retrieval"]);r!=null&&u(n,["retrieval"],r),a(t,["googleSearch"])!=null&&u(n,["googleSearch"],US());const i=a(t,["googleSearchRetrieval"]);i!=null&&u(n,["googleSearchRetrieval"],zS(e,i));const l=a(t,["codeExecution"]);l!=null&&u(n,["codeExecution"],l);const s=a(t,["functionDeclarations"]);return s!=null&&u(n,["functionDeclarations"],s),n}function BS(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["allowedFunctionNames"]);return o!=null&&u(n,["allowedFunctionNames"],o),n}function GS(e,t){const n={},r=a(t,["functionCallingConfig"]);return r!=null&&u(n,["functionCallingConfig"],BS(e,r)),n}function $S(e,t,n){const r={},o=a(t,["ttl"]);n!==void 0&&o!=null&&u(n,["ttl"],o);const i=a(t,["expireTime"]);n!==void 0&&i!=null&&u(n,["expireTime"],i);const l=a(t,["displayName"]);n!==void 0&&l!=null&&u(n,["displayName"],l);const s=a(t,["contents"]);if(n!==void 0&&s!=null){let p=un(e,s);Array.isArray(p)&&(p=p.map(h=>Lf(e,h))),u(n,["contents"],p)}const f=a(t,["systemInstruction"]);n!==void 0&&f!=null&&u(n,["systemInstruction"],Lf(e,De(e,f)));const c=a(t,["tools"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>OS(e,h))),u(n,["tools"],p)}const d=a(t,["toolConfig"]);return n!==void 0&&d!=null&&u(n,["toolConfig"],GS(e,d)),r}function HS(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["model"],Rm(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],$S(e,o,n)),n}function qS(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],cn(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function bS(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],cn(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function WS(e,t,n){const r={},o=a(t,["ttl"]);n!==void 0&&o!=null&&u(n,["ttl"],o);const i=a(t,["expireTime"]);return n!==void 0&&i!=null&&u(n,["expireTime"],i),r}function YS(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],cn(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],WS(e,o,n)),n}function KS(e,t,n){const r={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);return n!==void 0&&i!=null&&u(n,["_query","pageToken"],i),r}function JS(e,t){const n={},r=a(t,["config"]);return r!=null&&u(n,["config"],KS(e,r,n)),n}function Si(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["displayName"]);o!=null&&u(n,["displayName"],o);const i=a(t,["model"]);i!=null&&u(n,["model"],i);const l=a(t,["createTime"]);l!=null&&u(n,["createTime"],l);const s=a(t,["updateTime"]);s!=null&&u(n,["updateTime"],s);const f=a(t,["expireTime"]);f!=null&&u(n,["expireTime"],f);const c=a(t,["usageMetadata"]);return c!=null&&u(n,["usageMetadata"],c),n}function ZS(){return{}}function QS(e,t){const n={},r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const o=a(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Si(e,l))),u(n,["cachedContents"],i)}return n}function Ci(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["displayName"]);o!=null&&u(n,["displayName"],o);const i=a(t,["model"]);i!=null&&u(n,["model"],i);const l=a(t,["createTime"]);l!=null&&u(n,["createTime"],l);const s=a(t,["updateTime"]);s!=null&&u(n,["updateTime"],s);const f=a(t,["expireTime"]);f!=null&&u(n,["expireTime"],f);const c=a(t,["usageMetadata"]);return c!=null&&u(n,["usageMetadata"],c),n}function XS(){return{}}function jS(e,t){const n={},r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const o=a(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ci(e,l))),u(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Co;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Co||(Co={}));class ku{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};r?typeof r=="object"?l=Object.assign({},r):l=r:l={config:{}},l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ff;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ff||(Ff={}));var Uf;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Uf||(Uf={}));var Vf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Vf||(Vf={}));var zf;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(zf||(zf={}));var Of;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Of||(Of={}));var Bf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Bf||(Bf={}));var Gf;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Gf||(Gf={}));var $f;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})($f||($f={}));var Hf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Hf||(Hf={}));var qf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qf||(qf={}));var bf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(bf||(bf={}));var Wf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wf||(Wf={}));var Qi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Qi||(Qi={}));var Yf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yf||(Yf={}));var Ea;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ea||(Ea={}));var Kf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kf||(Kf={}));var Jf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Jf||(Jf={}));var Zf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Zf||(Zf={}));var Qf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Qf||(Qf={}));var Xf;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Xf||(Xf={}));var jf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(jf||(jf={}));var ed;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(ed||(ed={}));var td;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(td||(td={}));var nd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(nd||(nd={}));var rd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rd||(rd={}));var od;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(od||(od={}));var id;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(id||(id={}));var ld;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ld||(ld={}));var sd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sd||(sd={}));var ad;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ad||(ad={}));var ud;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ud||(ud={}));var cd;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(cd||(cd={}));class ii{get text(){var t,n,r,o,i,l,s,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const h of(f=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&f!==void 0?f:[]){for(const[m,E]of Object.entries(h))m!=="text"&&m!=="thought"&&(E!==null||E!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var t,n,r,o,i,l,s,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(f=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&f!==void 0?f:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,r,o,i,l,s,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,o,i,l,s,f,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,o,i,l,s,f,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class fd{}class dd{}class pd{}class hd{}class eC{}class md{}class gd{}class yd{}class tC{}class Sa{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class nC{}class rC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends Do{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ku(Co.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=HS(this.apiClient,t);return s=O("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Ci(this.apiClient,d))}else{const c=kS(this.apiClient,t);return s=O("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Si(this.apiClient,d))}}async get(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=qS(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Ci(this.apiClient,d))}else{const c=PS(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Si(this.apiClient,d))}}async delete(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=bS(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(()=>{const d=XS(),p=new gd;return Object.assign(p,d),p})}else{const c=RS(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(()=>{const d=ZS(),p=new gd;return Object.assign(p,d),p})}}async update(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=YS(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Ci(this.apiClient,d))}else{const c=NS(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Si(this.apiClient,d))}}async listInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=JS(this.apiClient,t);return s=O("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=jS(this.apiClient,d),h=new yd;return Object.assign(h,p),h})}else{const c=LS(this.apiClient,t);return s=O("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=QS(this.apiClient,d),h=new yd;return Object.assign(h,p),h})}}}function vd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(e){return this instanceof Ee?(this.v=e,this):new Ee(e)}function Xi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(m){return function(E){return Promise.resolve(E).then(m,p)}}function s(m,E){r[m]&&(o[m]=function(S){return new Promise(function(w,_){i.push([m,S,w,_])>1||f(m,S)})},E&&(o[m]=E(o[m])))}function f(m,E){try{c(r[m](E))}catch(S){h(i[0][3],S)}}function c(m){m.value instanceof Ee?Promise.resolve(m.value.v).then(d,p):h(i[0][2],m)}function d(m){f("next",m)}function p(m){f("throw",m)}function h(m,E){m(E),i.shift(),i.length&&f(i[0][0],i[0][1])}}function Ca(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof vd=="function"?vd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(l){return new Promise(function(s,f){l=e[i](l),o(s,f,l.done,l.value)})}}function o(i,l,s,f){Promise.resolve(f).then(function(c){i({value:c,done:s})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iC(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:zm(n)}function zm(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function lC(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function sC(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,o=e[0];for(;r<n;)if(e[r].role==="user")o=e[r],r++;else{const i=[];let l=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),l&&!zm(e[r])&&(l=!1),r++;l&&(t.push(o),t.push(...i))}return t}class aC{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new uC(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class uC{constructor(t,n,r,o={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),lC(i)}async sendMessage(t){var n;await this.sendPromise;const r=De(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l;const f=(l=(i=(await o).candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,c=f?[f]:[];this.recordHistory(r,c)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const r=De(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(t=!1){return t?sC(this.history):this.history}processStreamResponse(t,n){var r,o;return Xi(this,arguments,function*(){var l,s,f,c;const d=[];try{for(var p=!0,h=Ca(t),m;m=yield Ee(h.next()),l=m.done,!l;p=!0){c=m.value,p=!1;const E=c;if(iC(E)){const S=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;S!==void 0&&d.push(S)}yield yield Ee(E)}}catch(E){s={error:E}}finally{try{!p&&!l&&(f=h.return)&&(yield Ee(f.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(e,t,n){const r={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);return n!==void 0&&i!=null&&u(n,["_query","pageToken"],i),r}function fC(e,t){const n={},r=a(t,["config"]);return r!=null&&u(n,["config"],cC(e,r,n)),n}function dC(e,t){const n={},r=a(t,["details"]);r!=null&&u(n,["details"],r);const o=a(t,["message"]);o!=null&&u(n,["message"],o);const i=a(t,["code"]);return i!=null&&u(n,["code"],i),n}function pC(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["displayName"]);o!=null&&u(n,["displayName"],o);const i=a(t,["mimeType"]);i!=null&&u(n,["mimeType"],i);const l=a(t,["sizeBytes"]);l!=null&&u(n,["sizeBytes"],l);const s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);const f=a(t,["expirationTime"]);f!=null&&u(n,["expirationTime"],f);const c=a(t,["updateTime"]);c!=null&&u(n,["updateTime"],c);const d=a(t,["sha256Hash"]);d!=null&&u(n,["sha256Hash"],d);const p=a(t,["uri"]);p!=null&&u(n,["uri"],p);const h=a(t,["downloadUri"]);h!=null&&u(n,["downloadUri"],h);const m=a(t,["state"]);m!=null&&u(n,["state"],m);const E=a(t,["source"]);E!=null&&u(n,["source"],E);const S=a(t,["videoMetadata"]);S!=null&&u(n,["videoMetadata"],S);const w=a(t,["error"]);return w!=null&&u(n,["error"],dC(e,w)),n}function hC(e,t){const n={},r=a(t,["file"]);r!=null&&u(n,["file"],pC(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function mC(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","file"],Vm(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function gC(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","file"],Vm(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function yC(e,t){const n={},r=a(t,["details"]);r!=null&&u(n,["details"],r);const o=a(t,["message"]);o!=null&&u(n,["message"],o);const i=a(t,["code"]);return i!=null&&u(n,["code"],i),n}function Ta(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["displayName"]);o!=null&&u(n,["displayName"],o);const i=a(t,["mimeType"]);i!=null&&u(n,["mimeType"],i);const l=a(t,["sizeBytes"]);l!=null&&u(n,["sizeBytes"],l);const s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);const f=a(t,["expirationTime"]);f!=null&&u(n,["expirationTime"],f);const c=a(t,["updateTime"]);c!=null&&u(n,["updateTime"],c);const d=a(t,["sha256Hash"]);d!=null&&u(n,["sha256Hash"],d);const p=a(t,["uri"]);p!=null&&u(n,["uri"],p);const h=a(t,["downloadUri"]);h!=null&&u(n,["downloadUri"],h);const m=a(t,["state"]);m!=null&&u(n,["state"],m);const E=a(t,["source"]);E!=null&&u(n,["source"],E);const S=a(t,["videoMetadata"]);S!=null&&u(n,["videoMetadata"],S);const w=a(t,["error"]);return w!=null&&u(n,["error"],yC(e,w)),n}function vC(e,t){const n={},r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const o=a(t,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ta(e,l))),u(n,["files"],i)}return n}function _C(){return{}}function EC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC extends Do{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ku(Co.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Ta(this.apiClient,n))}async listInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fC(this.apiClient,t);return i=O("files",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const c=vC(this.apiClient,f),d=new tC;return Object.assign(d,c),d})}}async createInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hC(this.apiClient,t);return i=O("upload/v1beta/files",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=_C(),c=new nC;return Object.assign(c,f),c})}}async get(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mC(this.apiClient,t);return i=O("files/{file}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>Ta(this.apiClient,f))}}async delete(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=gC(this.apiClient,t);return i=O("files/{file}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=EC(),c=new rC;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(e,t){const n={};if(a(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=a(t,["thought"]);r!=null&&u(n,["thought"],r);const o=a(t,["codeExecutionResult"]);o!=null&&u(n,["codeExecutionResult"],o);const i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);const l=a(t,["fileData"]);l!=null&&u(n,["fileData"],l);const s=a(t,["functionCall"]);s!=null&&u(n,["functionCall"],s);const f=a(t,["functionResponse"]);f!=null&&u(n,["functionResponse"],f);const c=a(t,["inlineData"]);c!=null&&u(n,["inlineData"],c);const d=a(t,["text"]);return d!=null&&u(n,["text"],d),n}function TC(e,t){const n={},r=a(t,["videoMetadata"]);r!=null&&u(n,["videoMetadata"],r);const o=a(t,["thought"]);o!=null&&u(n,["thought"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(n,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(n,["executableCode"],l);const s=a(t,["fileData"]);s!=null&&u(n,["fileData"],s);const f=a(t,["functionCall"]);f!=null&&u(n,["functionCall"],f);const c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);const d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],d);const p=a(t,["text"]);return p!=null&&u(n,["text"],p),n}function wC(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>CC(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function xC(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>TC(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function IC(){return{}}function AC(){return{}}function kC(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["dynamicThreshold"]);return o!=null&&u(n,["dynamicThreshold"],o),n}function PC(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["dynamicThreshold"]);return o!=null&&u(n,["dynamicThreshold"],o),n}function RC(e,t){const n={},r=a(t,["dynamicRetrievalConfig"]);return r!=null&&u(n,["dynamicRetrievalConfig"],kC(e,r)),n}function MC(e,t){const n={},r=a(t,["dynamicRetrievalConfig"]);return r!=null&&u(n,["dynamicRetrievalConfig"],PC(e,r)),n}function NC(e,t){const n={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");a(t,["googleSearch"])!=null&&u(n,["googleSearch"],IC());const o=a(t,["googleSearchRetrieval"]);o!=null&&u(n,["googleSearchRetrieval"],RC(e,o));const i=a(t,["codeExecution"]);i!=null&&u(n,["codeExecution"],i);const l=a(t,["functionDeclarations"]);return l!=null&&u(n,["functionDeclarations"],l),n}function DC(e,t){const n={},r=a(t,["retrieval"]);r!=null&&u(n,["retrieval"],r),a(t,["googleSearch"])!=null&&u(n,["googleSearch"],AC());const i=a(t,["googleSearchRetrieval"]);i!=null&&u(n,["googleSearchRetrieval"],MC(e,i));const l=a(t,["codeExecution"]);l!=null&&u(n,["codeExecution"],l);const s=a(t,["functionDeclarations"]);return s!=null&&u(n,["functionDeclarations"],s),n}function LC(e,t){const n={},r=a(t,["handle"]);if(r!=null&&u(n,["handle"],r),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function FC(e,t){const n={},r=a(t,["handle"]);r!=null&&u(n,["handle"],r);const o=a(t,["transparent"]);return o!=null&&u(n,["transparent"],o),n}function UC(){return{}}function _d(){return{}}function VC(e,t){const n={},r=a(t,["disabled"]);r!=null&&u(n,["disabled"],r);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&u(n,["startOfSpeechSensitivity"],o);const i=a(t,["endOfSpeechSensitivity"]);i!=null&&u(n,["endOfSpeechSensitivity"],i);const l=a(t,["prefixPaddingMs"]);l!=null&&u(n,["prefixPaddingMs"],l);const s=a(t,["silenceDurationMs"]);return s!=null&&u(n,["silenceDurationMs"],s),n}function zC(e,t){const n={},r=a(t,["disabled"]);r!=null&&u(n,["disabled"],r);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&u(n,["startOfSpeechSensitivity"],o);const i=a(t,["endOfSpeechSensitivity"]);i!=null&&u(n,["endOfSpeechSensitivity"],i);const l=a(t,["prefixPaddingMs"]);l!=null&&u(n,["prefixPaddingMs"],l);const s=a(t,["silenceDurationMs"]);return s!=null&&u(n,["silenceDurationMs"],s),n}function OC(e,t){const n={},r=a(t,["automaticActivityDetection"]);r!=null&&u(n,["automaticActivityDetection"],VC(e,r));const o=a(t,["activityHandling"]);o!=null&&u(n,["activityHandling"],o);const i=a(t,["turnCoverage"]);return i!=null&&u(n,["turnCoverage"],i),n}function BC(e,t){const n={},r=a(t,["automaticActivityDetection"]);r!=null&&u(n,["automaticActivityDetection"],zC(e,r));const o=a(t,["activityHandling"]);o!=null&&u(n,["activityHandling"],o);const i=a(t,["turnCoverage"]);return i!=null&&u(n,["turnCoverage"],i),n}function GC(e,t){const n={},r=a(t,["targetTokens"]);return r!=null&&u(n,["targetTokens"],r),n}function $C(e,t){const n={},r=a(t,["targetTokens"]);return r!=null&&u(n,["targetTokens"],r),n}function HC(e,t){const n={},r=a(t,["triggerTokens"]);r!=null&&u(n,["triggerTokens"],r);const o=a(t,["slidingWindow"]);return o!=null&&u(n,["slidingWindow"],GC(e,o)),n}function qC(e,t){const n={},r=a(t,["triggerTokens"]);r!=null&&u(n,["triggerTokens"],r);const o=a(t,["slidingWindow"]);return o!=null&&u(n,["slidingWindow"],$C(e,o)),n}function bC(e,t,n){const r={},o=a(t,["generationConfig"]);n!==void 0&&o!=null&&u(n,["setup","generationConfig"],o);const i=a(t,["responseModalities"]);n!==void 0&&i!=null&&u(n,["setup","generationConfig","responseModalities"],i);const l=a(t,["temperature"]);n!==void 0&&l!=null&&u(n,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);n!==void 0&&s!=null&&u(n,["setup","generationConfig","topP"],s);const f=a(t,["topK"]);n!==void 0&&f!=null&&u(n,["setup","generationConfig","topK"],f);const c=a(t,["maxOutputTokens"]);n!==void 0&&c!=null&&u(n,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);n!==void 0&&d!=null&&u(n,["setup","generationConfig","mediaResolution"],d);const p=a(t,["seed"]);n!==void 0&&p!=null&&u(n,["setup","generationConfig","seed"],p);const h=a(t,["speechConfig"]);n!==void 0&&h!=null&&u(n,["setup","generationConfig","speechConfig"],h);const m=a(t,["systemInstruction"]);n!==void 0&&m!=null&&u(n,["setup","systemInstruction"],wC(e,De(e,m)));const E=a(t,["tools"]);if(n!==void 0&&E!=null){let g=_l(e,E);Array.isArray(g)&&(g=g.map(v=>NC(e,vl(e,v)))),u(n,["setup","tools"],g)}const S=a(t,["sessionResumption"]);if(n!==void 0&&S!=null&&u(n,["setup","sessionResumption"],LC(e,S)),a(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const w=a(t,["outputAudioTranscription"]);n!==void 0&&w!=null&&u(n,["setup","outputAudioTranscription"],UC());const _=a(t,["realtimeInputConfig"]);n!==void 0&&_!=null&&u(n,["setup","realtimeInputConfig"],OC(e,_));const y=a(t,["contextWindowCompression"]);return n!==void 0&&y!=null&&u(n,["setup","contextWindowCompression"],HC(e,y)),r}function WC(e,t,n){const r={},o=a(t,["generationConfig"]);n!==void 0&&o!=null&&u(n,["setup","generationConfig"],o);const i=a(t,["responseModalities"]);n!==void 0&&i!=null&&u(n,["setup","generationConfig","responseModalities"],i);const l=a(t,["temperature"]);n!==void 0&&l!=null&&u(n,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);n!==void 0&&s!=null&&u(n,["setup","generationConfig","topP"],s);const f=a(t,["topK"]);n!==void 0&&f!=null&&u(n,["setup","generationConfig","topK"],f);const c=a(t,["maxOutputTokens"]);n!==void 0&&c!=null&&u(n,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);n!==void 0&&d!=null&&u(n,["setup","generationConfig","mediaResolution"],d);const p=a(t,["seed"]);n!==void 0&&p!=null&&u(n,["setup","generationConfig","seed"],p);const h=a(t,["speechConfig"]);n!==void 0&&h!=null&&u(n,["setup","generationConfig","speechConfig"],h);const m=a(t,["systemInstruction"]);n!==void 0&&m!=null&&u(n,["setup","systemInstruction"],xC(e,De(e,m)));const E=a(t,["tools"]);if(n!==void 0&&E!=null){let v=_l(e,E);Array.isArray(v)&&(v=v.map(T=>DC(e,vl(e,T)))),u(n,["setup","tools"],v)}const S=a(t,["sessionResumption"]);n!==void 0&&S!=null&&u(n,["setup","sessionResumption"],FC(e,S));const w=a(t,["inputAudioTranscription"]);n!==void 0&&w!=null&&u(n,["setup","inputAudioTranscription"],_d());const _=a(t,["outputAudioTranscription"]);n!==void 0&&_!=null&&u(n,["setup","outputAudioTranscription"],_d());const y=a(t,["realtimeInputConfig"]);n!==void 0&&y!=null&&u(n,["setup","realtimeInputConfig"],BC(e,y));const g=a(t,["contextWindowCompression"]);return n!==void 0&&g!=null&&u(n,["setup","contextWindowCompression"],qC(e,g)),r}function YC(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["setup","model"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],bC(e,o,n)),n}function KC(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["setup","model"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],WC(e,o,n)),n}function JC(){return{}}function ZC(){return{}}function QC(){return{}}function XC(){return{}}function jC(e,t){const n={},r=a(t,["media"]);r!=null&&u(n,["mediaChunks"],Mm(e,r));const o=a(t,["audio"]);o!=null&&u(n,["audio"],vS(e,o));const i=a(t,["audioStreamEnd"]);i!=null&&u(n,["audioStreamEnd"],i);const l=a(t,["video"]);l!=null&&u(n,["video"],yS(e,l));const s=a(t,["text"]);return s!=null&&u(n,["text"],s),a(t,["activityStart"])!=null&&u(n,["activityStart"],JC()),a(t,["activityEnd"])!=null&&u(n,["activityEnd"],QC()),n}function eT(e,t){const n={},r=a(t,["media"]);if(r!=null&&u(n,["mediaChunks"],Mm(e,r)),a(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=a(t,["audioStreamEnd"]);if(o!=null&&u(n,["audioStreamEnd"],o),a(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(t,["activityStart"])!=null&&u(n,["activityStart"],ZC()),a(t,["activityEnd"])!=null&&u(n,["activityEnd"],XC()),n}function tT(){return{}}function nT(){return{}}function rT(e,t){const n={},r=a(t,["thought"]);r!=null&&u(n,["thought"],r);const o=a(t,["codeExecutionResult"]);o!=null&&u(n,["codeExecutionResult"],o);const i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);const l=a(t,["fileData"]);l!=null&&u(n,["fileData"],l);const s=a(t,["functionCall"]);s!=null&&u(n,["functionCall"],s);const f=a(t,["functionResponse"]);f!=null&&u(n,["functionResponse"],f);const c=a(t,["inlineData"]);c!=null&&u(n,["inlineData"],c);const d=a(t,["text"]);return d!=null&&u(n,["text"],d),n}function oT(e,t){const n={},r=a(t,["videoMetadata"]);r!=null&&u(n,["videoMetadata"],r);const o=a(t,["thought"]);o!=null&&u(n,["thought"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(n,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(n,["executableCode"],l);const s=a(t,["fileData"]);s!=null&&u(n,["fileData"],s);const f=a(t,["functionCall"]);f!=null&&u(n,["functionCall"],f);const c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);const d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],d);const p=a(t,["text"]);return p!=null&&u(n,["text"],p),n}function iT(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>rT(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function lT(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>oT(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function Ed(e,t){const n={},r=a(t,["text"]);r!=null&&u(n,["text"],r);const o=a(t,["finished"]);return o!=null&&u(n,["finished"],o),n}function Sd(e,t){const n={},r=a(t,["text"]);r!=null&&u(n,["text"],r);const o=a(t,["finished"]);return o!=null&&u(n,["finished"],o),n}function sT(e,t){const n={},r=a(t,["modelTurn"]);r!=null&&u(n,["modelTurn"],iT(e,r));const o=a(t,["turnComplete"]);o!=null&&u(n,["turnComplete"],o);const i=a(t,["interrupted"]);i!=null&&u(n,["interrupted"],i);const l=a(t,["generationComplete"]);l!=null&&u(n,["generationComplete"],l);const s=a(t,["inputTranscription"]);s!=null&&u(n,["inputTranscription"],Ed(e,s));const f=a(t,["outputTranscription"]);return f!=null&&u(n,["outputTranscription"],Ed(e,f)),n}function aT(e,t){const n={},r=a(t,["modelTurn"]);r!=null&&u(n,["modelTurn"],lT(e,r));const o=a(t,["turnComplete"]);o!=null&&u(n,["turnComplete"],o);const i=a(t,["interrupted"]);i!=null&&u(n,["interrupted"],i);const l=a(t,["generationComplete"]);l!=null&&u(n,["generationComplete"],l);const s=a(t,["inputTranscription"]);s!=null&&u(n,["inputTranscription"],Sd(e,s));const f=a(t,["outputTranscription"]);return f!=null&&u(n,["outputTranscription"],Sd(e,f)),n}function uT(e,t){const n={},r=a(t,["id"]);r!=null&&u(n,["id"],r);const o=a(t,["args"]);o!=null&&u(n,["args"],o);const i=a(t,["name"]);return i!=null&&u(n,["name"],i),n}function cT(e,t){const n={},r=a(t,["args"]);r!=null&&u(n,["args"],r);const o=a(t,["name"]);return o!=null&&u(n,["name"],o),n}function fT(e,t){const n={},r=a(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>uT(e,i))),u(n,["functionCalls"],o)}return n}function dT(e,t){const n={},r=a(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>cT(e,i))),u(n,["functionCalls"],o)}return n}function pT(e,t){const n={},r=a(t,["ids"]);return r!=null&&u(n,["ids"],r),n}function hT(e,t){const n={},r=a(t,["ids"]);return r!=null&&u(n,["ids"],r),n}function li(e,t){const n={},r=a(t,["modality"]);r!=null&&u(n,["modality"],r);const o=a(t,["tokenCount"]);return o!=null&&u(n,["tokenCount"],o),n}function si(e,t){const n={},r=a(t,["modality"]);r!=null&&u(n,["modality"],r);const o=a(t,["tokenCount"]);return o!=null&&u(n,["tokenCount"],o),n}function mT(e,t){const n={},r=a(t,["promptTokenCount"]);r!=null&&u(n,["promptTokenCount"],r);const o=a(t,["cachedContentTokenCount"]);o!=null&&u(n,["cachedContentTokenCount"],o);const i=a(t,["responseTokenCount"]);i!=null&&u(n,["responseTokenCount"],i);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&u(n,["toolUsePromptTokenCount"],l);const s=a(t,["thoughtsTokenCount"]);s!=null&&u(n,["thoughtsTokenCount"],s);const f=a(t,["totalTokenCount"]);f!=null&&u(n,["totalTokenCount"],f);const c=a(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(E=>li(e,E))),u(n,["promptTokensDetails"],m)}const d=a(t,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>li(e,E))),u(n,["cacheTokensDetails"],m)}const p=a(t,["responseTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(E=>li(e,E))),u(n,["responseTokensDetails"],m)}const h=a(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(E=>li(e,E))),u(n,["toolUsePromptTokensDetails"],m)}return n}function gT(e,t){const n={},r=a(t,["promptTokenCount"]);r!=null&&u(n,["promptTokenCount"],r);const o=a(t,["cachedContentTokenCount"]);o!=null&&u(n,["cachedContentTokenCount"],o);const i=a(t,["candidatesTokenCount"]);i!=null&&u(n,["responseTokenCount"],i);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&u(n,["toolUsePromptTokenCount"],l);const s=a(t,["thoughtsTokenCount"]);s!=null&&u(n,["thoughtsTokenCount"],s);const f=a(t,["totalTokenCount"]);f!=null&&u(n,["totalTokenCount"],f);const c=a(t,["promptTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(S=>si(e,S))),u(n,["promptTokensDetails"],E)}const d=a(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>si(e,S))),u(n,["cacheTokensDetails"],E)}const p=a(t,["candidatesTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(S=>si(e,S))),u(n,["responseTokensDetails"],E)}const h=a(t,["toolUsePromptTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>si(e,S))),u(n,["toolUsePromptTokensDetails"],E)}const m=a(t,["trafficType"]);return m!=null&&u(n,["trafficType"],m),n}function yT(e,t){const n={},r=a(t,["timeLeft"]);return r!=null&&u(n,["timeLeft"],r),n}function vT(e,t){const n={},r=a(t,["timeLeft"]);return r!=null&&u(n,["timeLeft"],r),n}function _T(e,t){const n={},r=a(t,["newHandle"]);r!=null&&u(n,["newHandle"],r);const o=a(t,["resumable"]);o!=null&&u(n,["resumable"],o);const i=a(t,["lastConsumedClientMessageIndex"]);return i!=null&&u(n,["lastConsumedClientMessageIndex"],i),n}function ET(e,t){const n={},r=a(t,["newHandle"]);r!=null&&u(n,["newHandle"],r);const o=a(t,["resumable"]);o!=null&&u(n,["resumable"],o);const i=a(t,["lastConsumedClientMessageIndex"]);return i!=null&&u(n,["lastConsumedClientMessageIndex"],i),n}function ST(e,t){const n={};a(t,["setupComplete"])!=null&&u(n,["setupComplete"],tT());const o=a(t,["serverContent"]);o!=null&&u(n,["serverContent"],sT(e,o));const i=a(t,["toolCall"]);i!=null&&u(n,["toolCall"],fT(e,i));const l=a(t,["toolCallCancellation"]);l!=null&&u(n,["toolCallCancellation"],pT(e,l));const s=a(t,["usageMetadata"]);s!=null&&u(n,["usageMetadata"],mT(e,s));const f=a(t,["goAway"]);f!=null&&u(n,["goAway"],yT(e,f));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&u(n,["sessionResumptionUpdate"],_T(e,c)),n}function CT(e,t){const n={};a(t,["setupComplete"])!=null&&u(n,["setupComplete"],nT());const o=a(t,["serverContent"]);o!=null&&u(n,["serverContent"],aT(e,o));const i=a(t,["toolCall"]);i!=null&&u(n,["toolCall"],dT(e,i));const l=a(t,["toolCallCancellation"]);l!=null&&u(n,["toolCallCancellation"],hT(e,l));const s=a(t,["usageMetadata"]);s!=null&&u(n,["usageMetadata"],gT(e,s));const f=a(t,["goAway"]);f!=null&&u(n,["goAway"],vT(e,f));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&u(n,["sessionResumptionUpdate"],ET(e,c)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(e,t){const n={};if(a(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=a(t,["thought"]);r!=null&&u(n,["thought"],r);const o=a(t,["codeExecutionResult"]);o!=null&&u(n,["codeExecutionResult"],o);const i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);const l=a(t,["fileData"]);l!=null&&u(n,["fileData"],l);const s=a(t,["functionCall"]);s!=null&&u(n,["functionCall"],s);const f=a(t,["functionResponse"]);f!=null&&u(n,["functionResponse"],f);const c=a(t,["inlineData"]);c!=null&&u(n,["inlineData"],c);const d=a(t,["text"]);return d!=null&&u(n,["text"],d),n}function El(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>TT(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function wT(e,t){const n={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=a(t,["category"]);r!=null&&u(n,["category"],r);const o=a(t,["threshold"]);return o!=null&&u(n,["threshold"],o),n}function xT(){return{}}function IT(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["dynamicThreshold"]);return o!=null&&u(n,["dynamicThreshold"],o),n}function AT(e,t){const n={},r=a(t,["dynamicRetrievalConfig"]);return r!=null&&u(n,["dynamicRetrievalConfig"],IT(e,r)),n}function kT(e,t){const n={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");a(t,["googleSearch"])!=null&&u(n,["googleSearch"],xT());const o=a(t,["googleSearchRetrieval"]);o!=null&&u(n,["googleSearchRetrieval"],AT(e,o));const i=a(t,["codeExecution"]);i!=null&&u(n,["codeExecution"],i);const l=a(t,["functionDeclarations"]);return l!=null&&u(n,["functionDeclarations"],l),n}function PT(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["allowedFunctionNames"]);return o!=null&&u(n,["allowedFunctionNames"],o),n}function RT(e,t){const n={},r=a(t,["functionCallingConfig"]);return r!=null&&u(n,["functionCallingConfig"],PT(e,r)),n}function MT(e,t){const n={},r=a(t,["voiceName"]);return r!=null&&u(n,["voiceName"],r),n}function NT(e,t){const n={},r=a(t,["prebuiltVoiceConfig"]);return r!=null&&u(n,["prebuiltVoiceConfig"],MT(e,r)),n}function DT(e,t){const n={},r=a(t,["voiceConfig"]);r!=null&&u(n,["voiceConfig"],NT(e,r));const o=a(t,["languageCode"]);return o!=null&&u(n,["languageCode"],o),n}function LT(e,t){const n={},r=a(t,["includeThoughts"]);r!=null&&u(n,["includeThoughts"],r);const o=a(t,["thinkingBudget"]);return o!=null&&u(n,["thinkingBudget"],o),n}function FT(e,t,n){const r={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],El(e,De(e,o)));const i=a(t,["temperature"]);i!=null&&u(r,["temperature"],i);const l=a(t,["topP"]);l!=null&&u(r,["topP"],l);const s=a(t,["topK"]);s!=null&&u(r,["topK"],s);const f=a(t,["candidateCount"]);f!=null&&u(r,["candidateCount"],f);const c=a(t,["maxOutputTokens"]);c!=null&&u(r,["maxOutputTokens"],c);const d=a(t,["stopSequences"]);d!=null&&u(r,["stopSequences"],d);const p=a(t,["responseLogprobs"]);p!=null&&u(r,["responseLogprobs"],p);const h=a(t,["logprobs"]);h!=null&&u(r,["logprobs"],h);const m=a(t,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);const E=a(t,["frequencyPenalty"]);E!=null&&u(r,["frequencyPenalty"],E);const S=a(t,["seed"]);S!=null&&u(r,["seed"],S);const w=a(t,["responseMimeType"]);w!=null&&u(r,["responseMimeType"],w);const _=a(t,["responseSchema"]);if(_!=null&&u(r,["responseSchema"],Lm(e,_)),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=a(t,["safetySettings"]);if(n!==void 0&&y!=null){let A=y;Array.isArray(A)&&(A=A.map(L=>wT(e,L))),u(n,["safetySettings"],A)}const g=a(t,["tools"]);if(n!==void 0&&g!=null){let A=_l(e,g);Array.isArray(A)&&(A=A.map(L=>kT(e,vl(e,L)))),u(n,["tools"],A)}const v=a(t,["toolConfig"]);if(n!==void 0&&v!=null&&u(n,["toolConfig"],RT(e,v)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=a(t,["cachedContent"]);n!==void 0&&T!=null&&u(n,["cachedContent"],cn(e,T));const x=a(t,["responseModalities"]);x!=null&&u(r,["responseModalities"],x);const C=a(t,["mediaResolution"]);C!=null&&u(r,["mediaResolution"],C);const P=a(t,["speechConfig"]);if(P!=null&&u(r,["speechConfig"],DT(e,Fm(e,P))),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=a(t,["thinkingConfig"]);return N!=null&&u(r,["thinkingConfig"],LT(e,N)),r}function Cd(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);if(o!=null){let l=un(e,o);Array.isArray(l)&&(l=l.map(s=>El(e,s))),u(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&u(n,["generationConfig"],FT(e,i,n)),n}function UT(e,t,n){const r={},o=a(t,["taskType"]);n!==void 0&&o!=null&&u(n,["requests[]","taskType"],o);const i=a(t,["title"]);n!==void 0&&i!=null&&u(n,["requests[]","title"],i);const l=a(t,["outputDimensionality"]);if(n!==void 0&&l!=null&&u(n,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function VT(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);o!=null&&u(n,["requests[]","content"],Dm(e,o));const i=a(t,["config"]);i!=null&&u(n,["config"],UT(e,i,n));const l=a(t,["model"]);return l!==void 0&&u(n,["requests[]","model"],ie(e,l)),n}function zT(e,t,n){const r={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=a(t,["numberOfImages"]);n!==void 0&&o!=null&&u(n,["parameters","sampleCount"],o);const i=a(t,["aspectRatio"]);n!==void 0&&i!=null&&u(n,["parameters","aspectRatio"],i);const l=a(t,["guidanceScale"]);if(n!==void 0&&l!=null&&u(n,["parameters","guidanceScale"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["safetyFilterLevel"]);n!==void 0&&s!=null&&u(n,["parameters","safetySetting"],s);const f=a(t,["personGeneration"]);n!==void 0&&f!=null&&u(n,["parameters","personGeneration"],f);const c=a(t,["includeSafetyAttributes"]);n!==void 0&&c!=null&&u(n,["parameters","includeSafetyAttributes"],c);const d=a(t,["includeRaiReason"]);n!==void 0&&d!=null&&u(n,["parameters","includeRaiReason"],d);const p=a(t,["language"]);n!==void 0&&p!=null&&u(n,["parameters","language"],p);const h=a(t,["outputMimeType"]);n!==void 0&&h!=null&&u(n,["parameters","outputOptions","mimeType"],h);const m=a(t,["outputCompressionQuality"]);if(n!==void 0&&m!=null&&u(n,["parameters","outputOptions","compressionQuality"],m),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function OT(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=a(t,["config"]);return i!=null&&u(n,["config"],zT(e,i,n)),n}function BT(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","name"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function GT(e,t,n){const r={},o=a(t,["displayName"]);n!==void 0&&o!=null&&u(n,["displayName"],o);const i=a(t,["description"]);return n!==void 0&&i!=null&&u(n,["description"],i),r}function $T(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","name"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],GT(e,o,n)),n}function HT(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","name"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function qT(e,t){const n={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function bT(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);if(o!=null){let l=un(e,o);Array.isArray(l)&&(l=l.map(s=>El(e,s))),u(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&u(n,["config"],qT(e,i)),n}function WT(e,t){const n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=a(t,["imageBytes"]);r!=null&&u(n,["bytesBase64Encoded"],fn(e,r));const o=a(t,["mimeType"]);return o!=null&&u(n,["mimeType"],o),n}function YT(e,t,n){const r={},o=a(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&u(n,["parameters","sampleCount"],o),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=a(t,["durationSeconds"]);if(n!==void 0&&i!=null&&u(n,["parameters","durationSeconds"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(t,["aspectRatio"]);if(n!==void 0&&l!=null&&u(n,["parameters","aspectRatio"],l),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=a(t,["personGeneration"]);if(n!==void 0&&s!=null&&u(n,["parameters","personGeneration"],s),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=a(t,["negativePrompt"]);if(n!==void 0&&f!=null&&u(n,["parameters","negativePrompt"],f),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function KT(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=a(t,["image"]);i!=null&&u(n,["instances[0]","image"],WT(e,i));const l=a(t,["config"]);return l!=null&&u(n,["config"],YT(e,l,n)),n}function JT(e,t){const n={},r=a(t,["videoMetadata"]);r!=null&&u(n,["videoMetadata"],r);const o=a(t,["thought"]);o!=null&&u(n,["thought"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(n,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(n,["executableCode"],l);const s=a(t,["fileData"]);s!=null&&u(n,["fileData"],s);const f=a(t,["functionCall"]);f!=null&&u(n,["functionCall"],f);const c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);const d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],d);const p=a(t,["text"]);return p!=null&&u(n,["text"],p),n}function _r(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>JT(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function ZT(e,t){const n={},r=a(t,["featureSelectionPreference"]);return r!=null&&u(n,["featureSelectionPreference"],r),n}function QT(e,t){const n={},r=a(t,["method"]);r!=null&&u(n,["method"],r);const o=a(t,["category"]);o!=null&&u(n,["category"],o);const i=a(t,["threshold"]);return i!=null&&u(n,["threshold"],i),n}function XT(){return{}}function jT(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["dynamicThreshold"]);return o!=null&&u(n,["dynamicThreshold"],o),n}function ew(e,t){const n={},r=a(t,["dynamicRetrievalConfig"]);return r!=null&&u(n,["dynamicRetrievalConfig"],jT(e,r)),n}function Om(e,t){const n={},r=a(t,["retrieval"]);r!=null&&u(n,["retrieval"],r),a(t,["googleSearch"])!=null&&u(n,["googleSearch"],XT());const i=a(t,["googleSearchRetrieval"]);i!=null&&u(n,["googleSearchRetrieval"],ew(e,i));const l=a(t,["codeExecution"]);l!=null&&u(n,["codeExecution"],l);const s=a(t,["functionDeclarations"]);return s!=null&&u(n,["functionDeclarations"],s),n}function tw(e,t){const n={},r=a(t,["mode"]);r!=null&&u(n,["mode"],r);const o=a(t,["allowedFunctionNames"]);return o!=null&&u(n,["allowedFunctionNames"],o),n}function nw(e,t){const n={},r=a(t,["functionCallingConfig"]);return r!=null&&u(n,["functionCallingConfig"],tw(e,r)),n}function rw(e,t){const n={},r=a(t,["voiceName"]);return r!=null&&u(n,["voiceName"],r),n}function ow(e,t){const n={},r=a(t,["prebuiltVoiceConfig"]);return r!=null&&u(n,["prebuiltVoiceConfig"],rw(e,r)),n}function iw(e,t){const n={},r=a(t,["voiceConfig"]);r!=null&&u(n,["voiceConfig"],ow(e,r));const o=a(t,["languageCode"]);return o!=null&&u(n,["languageCode"],o),n}function lw(e,t){const n={},r=a(t,["includeThoughts"]);r!=null&&u(n,["includeThoughts"],r);const o=a(t,["thinkingBudget"]);return o!=null&&u(n,["thinkingBudget"],o),n}function sw(e,t,n){const r={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],_r(e,De(e,o)));const i=a(t,["temperature"]);i!=null&&u(r,["temperature"],i);const l=a(t,["topP"]);l!=null&&u(r,["topP"],l);const s=a(t,["topK"]);s!=null&&u(r,["topK"],s);const f=a(t,["candidateCount"]);f!=null&&u(r,["candidateCount"],f);const c=a(t,["maxOutputTokens"]);c!=null&&u(r,["maxOutputTokens"],c);const d=a(t,["stopSequences"]);d!=null&&u(r,["stopSequences"],d);const p=a(t,["responseLogprobs"]);p!=null&&u(r,["responseLogprobs"],p);const h=a(t,["logprobs"]);h!=null&&u(r,["logprobs"],h);const m=a(t,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);const E=a(t,["frequencyPenalty"]);E!=null&&u(r,["frequencyPenalty"],E);const S=a(t,["seed"]);S!=null&&u(r,["seed"],S);const w=a(t,["responseMimeType"]);w!=null&&u(r,["responseMimeType"],w);const _=a(t,["responseSchema"]);_!=null&&u(r,["responseSchema"],Lm(e,_));const y=a(t,["routingConfig"]);y!=null&&u(r,["routingConfig"],y);const g=a(t,["modelSelectionConfig"]);g!=null&&u(r,["modelConfig"],ZT(e,g));const v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let X=v;Array.isArray(X)&&(X=X.map(We=>QT(e,We))),u(n,["safetySettings"],X)}const T=a(t,["tools"]);if(n!==void 0&&T!=null){let X=_l(e,T);Array.isArray(X)&&(X=X.map(We=>Om(e,vl(e,We)))),u(n,["tools"],X)}const x=a(t,["toolConfig"]);n!==void 0&&x!=null&&u(n,["toolConfig"],nw(e,x));const C=a(t,["labels"]);n!==void 0&&C!=null&&u(n,["labels"],C);const P=a(t,["cachedContent"]);n!==void 0&&P!=null&&u(n,["cachedContent"],cn(e,P));const N=a(t,["responseModalities"]);N!=null&&u(r,["responseModalities"],N);const A=a(t,["mediaResolution"]);A!=null&&u(r,["mediaResolution"],A);const L=a(t,["speechConfig"]);L!=null&&u(r,["speechConfig"],iw(e,Fm(e,L)));const J=a(t,["audioTimestamp"]);J!=null&&u(r,["audioTimestamp"],J);const Ve=a(t,["thinkingConfig"]);return Ve!=null&&u(r,["thinkingConfig"],lw(e,Ve)),r}function Td(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);if(o!=null){let l=un(e,o);Array.isArray(l)&&(l=l.map(s=>_r(e,s))),u(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&u(n,["generationConfig"],sw(e,i,n)),n}function aw(e,t,n){const r={},o=a(t,["taskType"]);n!==void 0&&o!=null&&u(n,["instances[]","task_type"],o);const i=a(t,["title"]);n!==void 0&&i!=null&&u(n,["instances[]","title"],i);const l=a(t,["outputDimensionality"]);n!==void 0&&l!=null&&u(n,["parameters","outputDimensionality"],l);const s=a(t,["mimeType"]);n!==void 0&&s!=null&&u(n,["instances[]","mimeType"],s);const f=a(t,["autoTruncate"]);return n!==void 0&&f!=null&&u(n,["parameters","autoTruncate"],f),r}function uw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);o!=null&&u(n,["instances[]","content"],Dm(e,o));const i=a(t,["config"]);return i!=null&&u(n,["config"],aw(e,i,n)),n}function cw(e,t,n){const r={},o=a(t,["outputGcsUri"]);n!==void 0&&o!=null&&u(n,["parameters","storageUri"],o);const i=a(t,["negativePrompt"]);n!==void 0&&i!=null&&u(n,["parameters","negativePrompt"],i);const l=a(t,["numberOfImages"]);n!==void 0&&l!=null&&u(n,["parameters","sampleCount"],l);const s=a(t,["aspectRatio"]);n!==void 0&&s!=null&&u(n,["parameters","aspectRatio"],s);const f=a(t,["guidanceScale"]);n!==void 0&&f!=null&&u(n,["parameters","guidanceScale"],f);const c=a(t,["seed"]);n!==void 0&&c!=null&&u(n,["parameters","seed"],c);const d=a(t,["safetyFilterLevel"]);n!==void 0&&d!=null&&u(n,["parameters","safetySetting"],d);const p=a(t,["personGeneration"]);n!==void 0&&p!=null&&u(n,["parameters","personGeneration"],p);const h=a(t,["includeSafetyAttributes"]);n!==void 0&&h!=null&&u(n,["parameters","includeSafetyAttributes"],h);const m=a(t,["includeRaiReason"]);n!==void 0&&m!=null&&u(n,["parameters","includeRaiReason"],m);const E=a(t,["language"]);n!==void 0&&E!=null&&u(n,["parameters","language"],E);const S=a(t,["outputMimeType"]);n!==void 0&&S!=null&&u(n,["parameters","outputOptions","mimeType"],S);const w=a(t,["outputCompressionQuality"]);n!==void 0&&w!=null&&u(n,["parameters","outputOptions","compressionQuality"],w);const _=a(t,["addWatermark"]);n!==void 0&&_!=null&&u(n,["parameters","addWatermark"],_);const y=a(t,["enhancePrompt"]);return n!==void 0&&y!=null&&u(n,["parameters","enhancePrompt"],y),r}function fw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=a(t,["config"]);return i!=null&&u(n,["config"],cw(e,i,n)),n}function dw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","name"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function pw(e,t,n){const r={},o=a(t,["displayName"]);n!==void 0&&o!=null&&u(n,["displayName"],o);const i=a(t,["description"]);return n!==void 0&&i!=null&&u(n,["description"],i),r}function hw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],pw(e,o,n)),n}function mw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","name"],ie(e,r));const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function gw(e,t,n){const r={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],_r(e,De(e,o)));const i=a(t,["tools"]);if(n!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(f=>Om(e,f))),u(n,["tools"],s)}const l=a(t,["generationConfig"]);return n!==void 0&&l!=null&&u(n,["generationConfig"],l),r}function yw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);if(o!=null){let l=un(e,o);Array.isArray(l)&&(l=l.map(s=>_r(e,s))),u(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&u(n,["config"],gw(e,i,n)),n}function vw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["contents"]);if(o!=null){let l=un(e,o);Array.isArray(l)&&(l=l.map(s=>_r(e,s))),u(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&u(n,["config"],i),n}function _w(e,t){const n={},r=a(t,["gcsUri"]);r!=null&&u(n,["gcsUri"],r);const o=a(t,["imageBytes"]);o!=null&&u(n,["bytesBase64Encoded"],fn(e,o));const i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function Ew(e,t,n){const r={},o=a(t,["numberOfVideos"]);n!==void 0&&o!=null&&u(n,["parameters","sampleCount"],o);const i=a(t,["outputGcsUri"]);n!==void 0&&i!=null&&u(n,["parameters","storageUri"],i);const l=a(t,["fps"]);n!==void 0&&l!=null&&u(n,["parameters","fps"],l);const s=a(t,["durationSeconds"]);n!==void 0&&s!=null&&u(n,["parameters","durationSeconds"],s);const f=a(t,["seed"]);n!==void 0&&f!=null&&u(n,["parameters","seed"],f);const c=a(t,["aspectRatio"]);n!==void 0&&c!=null&&u(n,["parameters","aspectRatio"],c);const d=a(t,["resolution"]);n!==void 0&&d!=null&&u(n,["parameters","resolution"],d);const p=a(t,["personGeneration"]);n!==void 0&&p!=null&&u(n,["parameters","personGeneration"],p);const h=a(t,["pubsubTopic"]);n!==void 0&&h!=null&&u(n,["parameters","pubsubTopic"],h);const m=a(t,["negativePrompt"]);n!==void 0&&m!=null&&u(n,["parameters","negativePrompt"],m);const E=a(t,["enhancePrompt"]);return n!==void 0&&E!=null&&u(n,["parameters","enhancePrompt"],E),r}function Sw(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["_url","model"],ie(e,r));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=a(t,["image"]);i!=null&&u(n,["instances[0]","image"],_w(e,i));const l=a(t,["config"]);return l!=null&&u(n,["config"],Ew(e,l,n)),n}function Cw(e,t){const n={},r=a(t,["thought"]);r!=null&&u(n,["thought"],r);const o=a(t,["codeExecutionResult"]);o!=null&&u(n,["codeExecutionResult"],o);const i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);const l=a(t,["fileData"]);l!=null&&u(n,["fileData"],l);const s=a(t,["functionCall"]);s!=null&&u(n,["functionCall"],s);const f=a(t,["functionResponse"]);f!=null&&u(n,["functionResponse"],f);const c=a(t,["inlineData"]);c!=null&&u(n,["inlineData"],c);const d=a(t,["text"]);return d!=null&&u(n,["text"],d),n}function Tw(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Cw(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function ww(e,t){const n={},r=a(t,["citationSources"]);return r!=null&&u(n,["citations"],r),n}function xw(e,t){const n={},r=a(t,["content"]);r!=null&&u(n,["content"],Tw(e,r));const o=a(t,["citationMetadata"]);o!=null&&u(n,["citationMetadata"],ww(e,o));const i=a(t,["tokenCount"]);i!=null&&u(n,["tokenCount"],i);const l=a(t,["finishReason"]);l!=null&&u(n,["finishReason"],l);const s=a(t,["avgLogprobs"]);s!=null&&u(n,["avgLogprobs"],s);const f=a(t,["groundingMetadata"]);f!=null&&u(n,["groundingMetadata"],f);const c=a(t,["index"]);c!=null&&u(n,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&u(n,["logprobsResult"],d);const p=a(t,["safetyRatings"]);return p!=null&&u(n,["safetyRatings"],p),n}function wd(e,t){const n={},r=a(t,["candidates"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(f=>xw(e,f))),u(n,["candidates"],s)}const o=a(t,["modelVersion"]);o!=null&&u(n,["modelVersion"],o);const i=a(t,["promptFeedback"]);i!=null&&u(n,["promptFeedback"],i);const l=a(t,["usageMetadata"]);return l!=null&&u(n,["usageMetadata"],l),n}function Iw(e,t){const n={},r=a(t,["values"]);return r!=null&&u(n,["values"],r),n}function Aw(){return{}}function kw(e,t){const n={},r=a(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Iw(e,l))),u(n,["embeddings"],i)}return a(t,["metadata"])!=null&&u(n,["metadata"],Aw()),n}function Pw(e,t){const n={},r=a(t,["bytesBase64Encoded"]);r!=null&&u(n,["imageBytes"],fn(e,r));const o=a(t,["mimeType"]);return o!=null&&u(n,["mimeType"],o),n}function Bm(e,t){const n={},r=a(t,["safetyAttributes","categories"]);r!=null&&u(n,["categories"],r);const o=a(t,["safetyAttributes","scores"]);o!=null&&u(n,["scores"],o);const i=a(t,["contentType"]);return i!=null&&u(n,["contentType"],i),n}function Rw(e,t){const n={},r=a(t,["_self"]);r!=null&&u(n,["image"],Pw(e,r));const o=a(t,["raiFilteredReason"]);o!=null&&u(n,["raiFilteredReason"],o);const i=a(t,["_self"]);return i!=null&&u(n,["safetyAttributes"],Bm(e,i)),n}function Mw(e,t){const n={},r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Rw(e,l))),u(n,["generatedImages"],i)}const o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(n,["positivePromptSafetyAttributes"],Bm(e,o)),n}function Nw(e,t){const n={},r=a(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);const o=a(t,["createTime"]);o!=null&&u(n,["createTime"],o);const i=a(t,["updateTime"]);return i!=null&&u(n,["updateTime"],i),n}function xd(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["displayName"]);o!=null&&u(n,["displayName"],o);const i=a(t,["description"]);i!=null&&u(n,["description"],i);const l=a(t,["version"]);l!=null&&u(n,["version"],l);const s=a(t,["_self"]);s!=null&&u(n,["tunedModelInfo"],Nw(e,s));const f=a(t,["inputTokenLimit"]);f!=null&&u(n,["inputTokenLimit"],f);const c=a(t,["outputTokenLimit"]);c!=null&&u(n,["outputTokenLimit"],c);const d=a(t,["supportedGenerationMethods"]);return d!=null&&u(n,["supportedActions"],d),n}function Dw(){return{}}function Lw(e,t){const n={},r=a(t,["totalTokens"]);r!=null&&u(n,["totalTokens"],r);const o=a(t,["cachedContentTokenCount"]);return o!=null&&u(n,["cachedContentTokenCount"],o),n}function Fw(e,t){const n={},r=a(t,["video","uri"]);r!=null&&u(n,["uri"],r);const o=a(t,["video","encodedVideo"]);o!=null&&u(n,["videoBytes"],fn(e,o));const i=a(t,["encoding"]);return i!=null&&u(n,["mimeType"],i),n}function Uw(e,t){const n={},r=a(t,["_self"]);return r!=null&&u(n,["video"],Fw(e,r)),n}function Vw(e,t){const n={},r=a(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>Uw(e,s))),u(n,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&u(n,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function zw(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["metadata"]);o!=null&&u(n,["metadata"],o);const i=a(t,["done"]);i!=null&&u(n,["done"],i);const l=a(t,["error"]);l!=null&&u(n,["error"],l);const s=a(t,["response","generateVideoResponse"]);return s!=null&&u(n,["response"],Vw(e,s)),n}function Ow(e,t){const n={},r=a(t,["videoMetadata"]);r!=null&&u(n,["videoMetadata"],r);const o=a(t,["thought"]);o!=null&&u(n,["thought"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(n,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(n,["executableCode"],l);const s=a(t,["fileData"]);s!=null&&u(n,["fileData"],s);const f=a(t,["functionCall"]);f!=null&&u(n,["functionCall"],f);const c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);const d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],d);const p=a(t,["text"]);return p!=null&&u(n,["text"],p),n}function Bw(e,t){const n={},r=a(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ow(e,l))),u(n,["parts"],i)}const o=a(t,["role"]);return o!=null&&u(n,["role"],o),n}function Gw(e,t){const n={},r=a(t,["citations"]);return r!=null&&u(n,["citations"],r),n}function $w(e,t){const n={},r=a(t,["content"]);r!=null&&u(n,["content"],Bw(e,r));const o=a(t,["citationMetadata"]);o!=null&&u(n,["citationMetadata"],Gw(e,o));const i=a(t,["finishMessage"]);i!=null&&u(n,["finishMessage"],i);const l=a(t,["finishReason"]);l!=null&&u(n,["finishReason"],l);const s=a(t,["avgLogprobs"]);s!=null&&u(n,["avgLogprobs"],s);const f=a(t,["groundingMetadata"]);f!=null&&u(n,["groundingMetadata"],f);const c=a(t,["index"]);c!=null&&u(n,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&u(n,["logprobsResult"],d);const p=a(t,["safetyRatings"]);return p!=null&&u(n,["safetyRatings"],p),n}function Id(e,t){const n={},r=a(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>$w(e,d))),u(n,["candidates"],c)}const o=a(t,["createTime"]);o!=null&&u(n,["createTime"],o);const i=a(t,["responseId"]);i!=null&&u(n,["responseId"],i);const l=a(t,["modelVersion"]);l!=null&&u(n,["modelVersion"],l);const s=a(t,["promptFeedback"]);s!=null&&u(n,["promptFeedback"],s);const f=a(t,["usageMetadata"]);return f!=null&&u(n,["usageMetadata"],f),n}function Hw(e,t){const n={},r=a(t,["truncated"]);r!=null&&u(n,["truncated"],r);const o=a(t,["token_count"]);return o!=null&&u(n,["tokenCount"],o),n}function qw(e,t){const n={},r=a(t,["values"]);r!=null&&u(n,["values"],r);const o=a(t,["statistics"]);return o!=null&&u(n,["statistics"],Hw(e,o)),n}function bw(e,t){const n={},r=a(t,["billableCharacterCount"]);return r!=null&&u(n,["billableCharacterCount"],r),n}function Ww(e,t){const n={},r=a(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>qw(e,l))),u(n,["embeddings"],i)}const o=a(t,["metadata"]);return o!=null&&u(n,["metadata"],bw(e,o)),n}function Yw(e,t){const n={},r=a(t,["gcsUri"]);r!=null&&u(n,["gcsUri"],r);const o=a(t,["bytesBase64Encoded"]);o!=null&&u(n,["imageBytes"],fn(e,o));const i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function Gm(e,t){const n={},r=a(t,["safetyAttributes","categories"]);r!=null&&u(n,["categories"],r);const o=a(t,["safetyAttributes","scores"]);o!=null&&u(n,["scores"],o);const i=a(t,["contentType"]);return i!=null&&u(n,["contentType"],i),n}function Kw(e,t){const n={},r=a(t,["_self"]);r!=null&&u(n,["image"],Yw(e,r));const o=a(t,["raiFilteredReason"]);o!=null&&u(n,["raiFilteredReason"],o);const i=a(t,["_self"]);i!=null&&u(n,["safetyAttributes"],Gm(e,i));const l=a(t,["prompt"]);return l!=null&&u(n,["enhancedPrompt"],l),n}function Jw(e,t){const n={},r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Kw(e,l))),u(n,["generatedImages"],i)}const o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(n,["positivePromptSafetyAttributes"],Gm(e,o)),n}function Zw(e,t){const n={},r=a(t,["endpoint"]);r!=null&&u(n,["name"],r);const o=a(t,["deployedModelId"]);return o!=null&&u(n,["deployedModelId"],o),n}function Qw(e,t){const n={},r=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(n,["baseModel"],r);const o=a(t,["createTime"]);o!=null&&u(n,["createTime"],o);const i=a(t,["updateTime"]);return i!=null&&u(n,["updateTime"],i),n}function Ad(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["displayName"]);o!=null&&u(n,["displayName"],o);const i=a(t,["description"]);i!=null&&u(n,["description"],i);const l=a(t,["versionId"]);l!=null&&u(n,["version"],l);const s=a(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Zw(e,p))),u(n,["endpoints"],d)}const f=a(t,["labels"]);f!=null&&u(n,["labels"],f);const c=a(t,["_self"]);return c!=null&&u(n,["tunedModelInfo"],Qw(e,c)),n}function Xw(){return{}}function jw(e,t){const n={},r=a(t,["totalTokens"]);return r!=null&&u(n,["totalTokens"],r),n}function e1(e,t){const n={},r=a(t,["tokensInfo"]);return r!=null&&u(n,["tokensInfo"],r),n}function t1(e,t){const n={},r=a(t,["gcsUri"]);r!=null&&u(n,["uri"],r);const o=a(t,["bytesBase64Encoded"]);o!=null&&u(n,["videoBytes"],fn(e,o));const i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function n1(e,t){const n={},r=a(t,["_self"]);return r!=null&&u(n,["video"],t1(e,r)),n}function r1(e,t){const n={},r=a(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>n1(e,s))),u(n,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&u(n,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function o1(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["metadata"]);o!=null&&u(n,["metadata"],o);const i=a(t,["done"]);i!=null&&u(n,["done"],i);const l=a(t,["error"]);l!=null&&u(n,["error"],l);const s=a(t,["response"]);return s!=null&&u(n,["response"],r1(e,s)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function l1(e,t,n){let r,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?r=CT(e,o):r=ST(e,o),t(r)}class s1{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,o,i;const l=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let f;const c=f1(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())f=`${l}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(c);else{const v=this.apiClient.getApiKey();f=`${l}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateContent?key=${v}`}let d=()=>{};const p=new Promise(v=>{d=v}),h=t.callbacks,m=function(){var v;(v=h==null?void 0:h.onopen)===null||v===void 0||v.call(h),d({})},E=this.apiClient,S={onopen:m,onmessage:v=>{l1(E,h.onmessage,v)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(v){}},w=this.webSocketFactory.create(f,c1(c),S);w.connect(),await p;let _=ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const v=this.apiClient.getProject(),T=this.apiClient.getLocation();_=`projects/${v}/locations/${T}/`+_}let y={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Qi.AUDIO]}:t.config.responseModalities=[Qi.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const g={model:_,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?y=KC(this.apiClient,g):y=YC(this.apiClient,g),delete y.config,w.send(JSON.stringify(y)),new u1(w,this.apiClient)}}const a1={turnComplete:!0};class u1{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=un(t,n.turns),t.isVertexAI()?r=r.map(o=>_r(t,o)):r=r.map(o=>El(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(i1)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},a1),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eT(this.apiClient,t)}:n={realtimeInput:jC(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function c1(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function f1(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d1 extends Do{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:l.push(f);let s;return i?s={generatedImages:l,positivePromptSafetyAttributes:i}:s={generatedImages:l},s})}async generateContentInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=Td(this.apiClient,t);return s=O("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Id(this.apiClient,d),h=new ii;return Object.assign(h,p),h})}else{const c=Cd(this.apiClient,t);return s=O("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=wd(this.apiClient,d),h=new ii;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=Td(this.apiClient,t);s=O("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const d=this.apiClient;return l=d.requestStream({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return Xi(this,arguments,function*(){var h,m,E,S;try{for(var w=!0,_=Ca(p),y;y=yield Ee(_.next()),h=y.done,!h;w=!0){S=y.value,w=!1;const v=Id(d,yield Ee(S.json())),T=new ii;Object.assign(T,v),yield yield Ee(T)}}catch(g){m={error:g}}finally{try{!w&&!h&&(E=_.return)&&(yield Ee(E.call(_)))}finally{if(m)throw m.error}}})})}else{const c=Cd(this.apiClient,t);s=O("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const d=this.apiClient;return l=d.requestStream({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Xi(this,arguments,function*(){var h,m,E,S;try{for(var w=!0,_=Ca(p),y;y=yield Ee(_.next()),h=y.done,!h;w=!0){S=y.value,w=!1;const v=wd(d,yield Ee(S.json())),T=new ii;Object.assign(T,v),yield yield Ee(T)}}catch(g){m={error:g}}finally{try{!w&&!h&&(E=_.return)&&(yield Ee(E.call(_)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=uw(this.apiClient,t);return s=O("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Ww(this.apiClient,d),h=new fd;return Object.assign(h,p),h})}else{const c=VT(this.apiClient,t);return s=O("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=kw(this.apiClient,d),h=new fd;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=fw(this.apiClient,t);return s=O("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Jw(this.apiClient,d),h=new dd;return Object.assign(h,p),h})}else{const c=OT(this.apiClient,t);return s=O("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Mw(this.apiClient,d),h=new dd;return Object.assign(h,p),h})}}async get(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=dw(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Ad(this.apiClient,d))}else{const c=BT(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>xd(this.apiClient,d))}}async update(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=hw(this.apiClient,t);return s=O("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Ad(this.apiClient,d))}else{const c=$T(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>xd(this.apiClient,d))}}async delete(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=mw(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(()=>{const d=Xw(),p=new pd;return Object.assign(p,d),p})}else{const c=HT(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(()=>{const d=Dw(),p=new pd;return Object.assign(p,d),p})}}async countTokens(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=yw(this.apiClient,t);return s=O("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=jw(this.apiClient,d),h=new hd;return Object.assign(h,p),h})}else{const c=bT(this.apiClient,t);return s=O("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Lw(this.apiClient,d),h=new hd;return Object.assign(h,p),h})}}async computeTokens(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const s=vw(this.apiClient,t);return i=O("{model}:computeTokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const c=e1(this.apiClient,f),d=new eC;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=Sw(this.apiClient,t);return s=O("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>o1(this.apiClient,d))}else{const c=KT(this.apiClient,t);return s=O("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>zw(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p1(e,t){const n={},r=a(t,["operationName"]);r!=null&&u(n,["_url","operationName"],r);const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function h1(e,t){const n={},r=a(t,["operationName"]);r!=null&&u(n,["_url","operationName"],r);const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function m1(e,t){const n={},r=a(t,["operationName"]);r!=null&&u(n,["operationName"],r);const o=a(t,["resourceName"]);o!=null&&u(n,["_url","resourceName"],o);const i=a(t,["config"]);return i!=null&&u(n,["config"],i),n}function g1(e,t){const n={},r=a(t,["video","uri"]);r!=null&&u(n,["uri"],r);const o=a(t,["video","encodedVideo"]);o!=null&&u(n,["videoBytes"],fn(e,o));const i=a(t,["encoding"]);return i!=null&&u(n,["mimeType"],i),n}function y1(e,t){const n={},r=a(t,["_self"]);return r!=null&&u(n,["video"],g1(e,r)),n}function v1(e,t){const n={},r=a(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>y1(e,s))),u(n,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&u(n,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function _1(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["metadata"]);o!=null&&u(n,["metadata"],o);const i=a(t,["done"]);i!=null&&u(n,["done"],i);const l=a(t,["error"]);l!=null&&u(n,["error"],l);const s=a(t,["response","generateVideoResponse"]);return s!=null&&u(n,["response"],v1(e,s)),n}function E1(e,t){const n={},r=a(t,["gcsUri"]);r!=null&&u(n,["uri"],r);const o=a(t,["bytesBase64Encoded"]);o!=null&&u(n,["videoBytes"],fn(e,o));const i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function S1(e,t){const n={},r=a(t,["_self"]);return r!=null&&u(n,["video"],E1(e,r)),n}function C1(e,t){const n={},r=a(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>S1(e,s))),u(n,["generatedVideos"],l)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&u(n,["raiMediaFilteredCount"],o);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function kd(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["metadata"]);o!=null&&u(n,["metadata"],o);const i=a(t,["done"]);i!=null&&u(n,["done"],i);const l=a(t,["error"]);l!=null&&u(n,["error"],l);const s=a(t,["response"]);return s!=null&&u(n,["response"],C1(e,s)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T1 extends Do{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=h1(this.apiClient,t);return s=O("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>kd(this.apiClient,d))}else{const c=p1(this.apiClient,t);return s=O("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>_1(this.apiClient,d))}}async fetchPredictVideosOperationInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const s=m1(this.apiClient,t);return i=O("{resourceName}:fetchPredictOperation",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>kd(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w1="Content-Type",x1="X-Server-Timeout",I1="User-Agent",A1="x-goog-api-client",k1="0.11.0",P1=`google-genai-sdk/${k1}`,R1="v1beta1",M1="v1beta",Pd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $m extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class wa extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class N1{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:R1,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:M1,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,s]of Object.entries(t.queryParams))o.searchParams.append(l,String(s));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,t.abortSignal),this.unaryApiCall(o,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,t.abortSignal),this.streamApiCall(o,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const o=new AbortController,i=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Rd(o),new Sa(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Rd(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Xi(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:s,value:f}=yield Ee(o.read());if(s){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(f);try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,E=h.code,S=`got status: ${m}. ${JSON.stringify(p)}`;if(E>=400&&E<500)throw new $m(S);if(E>=500&&E<600)throw new wa(S)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}l+=c;let d=l.match(Pd);for(;d;){const p=d[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ee(new Sa(h)),l=l.slice(d[0].length),d=l.match(Pd)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=P1+" "+this.clientOptions.userAgentExtra;return t[I1]=n,t[A1]=n,t[w1]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))n.append(r,o);t.timeout&&t.timeout>0&&n.append(x1,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);o.sizeBytes=String(l.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=s;const f=await this.fetchUploadUrl(o,n);return i.upload(t,f,this)}async fetchUploadUrl(t,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const i={file:t},l=await this.request({path:O("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=l==null?void 0:l.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function Rd(e){var t;if(e===void 0)throw new wa("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new $m(i):n>=500&&n<600?new wa(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D1(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],r);const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function L1(e,t,n){const r={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);const l=a(t,["filter"]);return n!==void 0&&l!=null&&u(n,["_query","filter"],l),r}function F1(e,t){const n={},r=a(t,["config"]);return r!=null&&u(n,["config"],L1(e,r,n)),n}function U1(e,t){const n={},r=a(t,["textInput"]);r!=null&&u(n,["textInput"],r);const o=a(t,["output"]);return o!=null&&u(n,["output"],o),n}function V1(e,t){const n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=a(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>U1(e,i))),u(n,["examples","examples"],o)}return n}function z1(e,t,n){const r={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&u(n,["displayName"],o),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=a(t,["epochCount"]);n!==void 0&&i!=null&&u(n,["tuningTask","hyperparameters","epochCount"],i);const l=a(t,["learningRateMultiplier"]);if(l!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=a(t,["batchSize"]);n!==void 0&&s!=null&&u(n,["tuningTask","hyperparameters","batchSize"],s);const f=a(t,["learningRate"]);return n!==void 0&&f!=null&&u(n,["tuningTask","hyperparameters","learningRate"],f),r}function O1(e,t){const n={},r=a(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);const o=a(t,["trainingDataset"]);o!=null&&u(n,["tuningTask","trainingData"],V1(e,o));const i=a(t,["config"]);return i!=null&&u(n,["config"],z1(e,i,n)),n}function B1(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["_url","name"],r);const o=a(t,["config"]);return o!=null&&u(n,["config"],o),n}function G1(e,t,n){const r={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);const l=a(t,["filter"]);return n!==void 0&&l!=null&&u(n,["_query","filter"],l),r}function $1(e,t){const n={},r=a(t,["config"]);return r!=null&&u(n,["config"],G1(e,r,n)),n}function H1(e,t,n){const r={},o=a(t,["gcsUri"]);if(n!==void 0&&o!=null&&u(n,["supervisedTuningSpec","trainingDatasetUri"],o),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function q1(e,t){const n={},r=a(t,["gcsUri"]);return r!=null&&u(n,["validationDatasetUri"],r),n}function b1(e,t,n){const r={},o=a(t,["validationDataset"]);n!==void 0&&o!=null&&u(n,["supervisedTuningSpec"],q1(e,o));const i=a(t,["tunedModelDisplayName"]);n!==void 0&&i!=null&&u(n,["tunedModelDisplayName"],i);const l=a(t,["description"]);n!==void 0&&l!=null&&u(n,["description"],l);const s=a(t,["epochCount"]);n!==void 0&&s!=null&&u(n,["supervisedTuningSpec","hyperParameters","epochCount"],s);const f=a(t,["learningRateMultiplier"]);n!==void 0&&f!=null&&u(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=a(t,["adapterSize"]);if(n!==void 0&&c!=null&&u(n,["supervisedTuningSpec","hyperParameters","adapterSize"],c),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function W1(e,t){const n={},r=a(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);const o=a(t,["trainingDataset"]);o!=null&&u(n,["supervisedTuningSpec","trainingDatasetUri"],H1(e,o,n));const i=a(t,["config"]);return i!=null&&u(n,["config"],b1(e,i,n)),n}function Y1(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["model"],r);const o=a(t,["name"]);return o!=null&&u(n,["endpoint"],o),n}function Hm(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["state"]);o!=null&&u(n,["state"],Um(e,o));const i=a(t,["createTime"]);i!=null&&u(n,["createTime"],i);const l=a(t,["tuningTask","startTime"]);l!=null&&u(n,["startTime"],l);const s=a(t,["tuningTask","completeTime"]);s!=null&&u(n,["endTime"],s);const f=a(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const c=a(t,["description"]);c!=null&&u(n,["description"],c);const d=a(t,["baseModel"]);d!=null&&u(n,["baseModel"],d);const p=a(t,["_self"]);p!=null&&u(n,["tunedModel"],Y1(e,p));const h=a(t,["distillationSpec"]);h!=null&&u(n,["distillationSpec"],h);const m=a(t,["experiment"]);m!=null&&u(n,["experiment"],m);const E=a(t,["labels"]);E!=null&&u(n,["labels"],E);const S=a(t,["pipelineJob"]);S!=null&&u(n,["pipelineJob"],S);const w=a(t,["tunedModelDisplayName"]);return w!=null&&u(n,["tunedModelDisplayName"],w),n}function K1(e,t){const n={},r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const o=a(t,["tunedModels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Hm(e,l))),u(n,["tuningJobs"],i)}return n}function J1(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["metadata"]);o!=null&&u(n,["metadata"],o);const i=a(t,["done"]);i!=null&&u(n,["done"],i);const l=a(t,["error"]);return l!=null&&u(n,["error"],l),n}function Z1(e,t){const n={},r=a(t,["model"]);r!=null&&u(n,["model"],r);const o=a(t,["endpoint"]);return o!=null&&u(n,["endpoint"],o),n}function xa(e,t){const n={},r=a(t,["name"]);r!=null&&u(n,["name"],r);const o=a(t,["state"]);o!=null&&u(n,["state"],Um(e,o));const i=a(t,["createTime"]);i!=null&&u(n,["createTime"],i);const l=a(t,["startTime"]);l!=null&&u(n,["startTime"],l);const s=a(t,["endTime"]);s!=null&&u(n,["endTime"],s);const f=a(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const c=a(t,["error"]);c!=null&&u(n,["error"],c);const d=a(t,["description"]);d!=null&&u(n,["description"],d);const p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);const h=a(t,["tunedModel"]);h!=null&&u(n,["tunedModel"],Z1(e,h));const m=a(t,["supervisedTuningSpec"]);m!=null&&u(n,["supervisedTuningSpec"],m);const E=a(t,["tuningDataStats"]);E!=null&&u(n,["tuningDataStats"],E);const S=a(t,["encryptionSpec"]);S!=null&&u(n,["encryptionSpec"],S);const w=a(t,["partnerModelTuningSpec"]);w!=null&&u(n,["partnerModelTuningSpec"],w);const _=a(t,["distillationSpec"]);_!=null&&u(n,["distillationSpec"],_);const y=a(t,["experiment"]);y!=null&&u(n,["experiment"],y);const g=a(t,["labels"]);g!=null&&u(n,["labels"],g);const v=a(t,["pipelineJob"]);v!=null&&u(n,["pipelineJob"],v);const T=a(t,["tunedModelDisplayName"]);return T!=null&&u(n,["tunedModelDisplayName"],T),n}function Q1(e,t){const n={},r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const o=a(t,["tuningJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>xa(e,l))),u(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X1 extends Do{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ku(Co.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Ea.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=B1(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>xa(this.apiClient,d))}else{const c=D1(this.apiClient,t);return s=O("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Hm(this.apiClient,d))}}async listInternal(t){var n,r,o,i;let l,s="",f={};if(this.apiClient.isVertexAI()){const c=$1(this.apiClient,t);return s=O("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Q1(this.apiClient,d),h=new md;return Object.assign(h,p),h})}else{const c=F1(this.apiClient,t);return s=O("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:s,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=K1(this.apiClient,d),h=new md;return Object.assign(h,p),h})}}async tuneInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const s=W1(this.apiClient,t);return i=O("tuningJobs",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>xa(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=O1(this.apiClient,t);return i=O("tunedModels",s._url),l=s._query,delete s.config,delete s._url,delete s._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>J1(this.apiClient,f))}}}const j1=1024*1024*8;async function ex(e,t,n){var r,o;let i=0,l=0,s=new Sa(new Response),f="upload";for(i=e.size;l<i;){const d=Math.min(j1,i-l),p=e.slice(l,l+d);if(l+d>=i&&(f+=", finalize"),s=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),l+=d,((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(s==null?void 0:s.json());if(((o=s==null?void 0:s.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function tx(e){return{size:e.size,type:e.type}}class nx{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ex(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await tx(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rx{create(t,n,r){return new ox(t,n,r)}}class ox{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Md="x-goog-api-key";class ix{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(Md)===null&&t.append(Md,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lx="gl-node/";class sx{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=gS(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new ix(this.apiKey);this.apiClient=new N1({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:lx+"web",uploader:new nx}),this.models=new d1(this.apiClient),this.live=new s1(this.apiClient,o,new rx),this.chats=new aC(this.models,this.apiClient),this.caches=new oC(this.apiClient),this.files=new SC(this.apiClient),this.operations=new T1(this.apiClient),this.tunings=new X1(this.apiClient)}}const ms={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Ur={};const Ia=typeof window<"u",Nd=e=>{try{return Ia?(ms==null?void 0:ms[e])??"":Ur[e]??""}catch{return""}},qm={GEMINI_API_KEY:Ia?Nd("VITE_GEMINI_API_KEY"):Ur.GEMINI_API_KEY||Ur.API_KEY||"",API_BASE_URL:Ia?Nd("VITE_API_BASE_URL")||"http://localhost:3000":Ur.API_BASE_URL||Ur.VITE_API_BASE_URL||"http://localhost:3000"};qm.GEMINI_API_KEY||console.warn("GEMINI_API_KEY is not configured for this runtime. Server uses process.env.GEMINI_API_KEY; client uses VITE_GEMINI_API_KEY.");const ax={get:e=>qm[e]};let gs=null;const ux=()=>{if(!gs){const e=ax.get("GEMINI_API_KEY");if(!e)throw new Error("GEMINI_API_KEY is not configured. For serverless functions, set it in Vercel Project Settings. For client-only chat, set VITE_GEMINI_API_KEY.");gs=new sx({apiKey:e})}return gs},cx=e=>{F.info("Creating new chat session.");const t=`
You are a world-class Path of Exile expert continuing a conversation with a player about their build.
You have already provided them with an initial analysis. Your task is to answer their follow-up questions.
Be helpful, concise, and friendly. Use your knowledge of game mechanics to elaborate on your previous points or suggest alternatives.
The original build analysis you provided is below, use it as the primary context for all your answers.
Do not refer to it as "the analysis"; just use the information within it as your established knowledge of their character.
For example, if they ask "why is my helmet bad?", you should look at the helmet's 'badMods' and 'suggestions' in the JSON and explain it in a conversational way.

**NEW CAPABILITY**: If the user asks a "what if" question (e.g., "what if I equip item X?" or "what if I change this skill gem?"), use your deep game knowledge and the provided build context to provide an *estimated* impact on their key stats (like DPS or survivability). You MUST preface your answer by stating that it is an estimation, as you cannot run a full new simulation. For example: "That's an interesting idea! Based on my analysis, swapping to a Farrul's Fur would likely be a significant boost to your DPS... However, you would lose some spell suppression...".

Initial Analysis Context:
${JSON.stringify(e,null,2)}
    `;return ux().chats.create({model:"gemini-2.5-flash",config:{systemInstruction:t}})},fx=async e=>uS(e),dx=async(e,t)=>dS(e,t);async function tt(e,t){const n=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})}),r=await n.json();if(!n.ok){const o=await n.text();throw new Error(`API call failed: ${n.status} ${n.statusText} - ${o}`)}return r}const bm=e=>tt("preflightCheckPob",{pobData:e}),px=(e,t,n,r)=>tt("analyzePob",{pobData:e,pobUrl:t,leagueContext:n,analysisGoal:r}),hx=(e,t,n,r)=>tt("findUpgrade",{pobData:e,slot:t,budget:n,leagueContext:r}),mx=(e,t)=>tt("generateLootFilter",{analysis:e,leagueContext:t}),gx=(e,t,n)=>tt("runSimulation",{pobData:e,pobUrl:t,leagueContext:n}),yx=(e,t,n)=>tt("generateCraftingPlan",{pobData:e,slot:t,leagueContext:n}),vx=(e,t,n)=>tt("generateFarmingStrategy",{pobData:e,craftingCost:t,leagueContext:n}),_x=e=>tt("getMetagamePulse",{leagueContext:e}),Ex=async(e,t)=>{const n=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"compareAnalyses",data:{analysisA:e,analysisB:t}})}),r=await n.json();if(!n.ok)throw new Error(r.error||`Request failed with status ${n.status}`);return r},Sx=async e=>{const t=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"generateBuildGuide",data:{analysis:e}})}),n=await t.json();if(!t.ok)throw new Error(n.error||`Request failed with status ${t.status}`);return n},Cx=(e,t)=>tt("generateLevelingPlan",{pobData:e,leagueContext:t}),Tx=(e,t,n)=>tt("tuneBuildForContent",{analysis:e,goal:t,leagueContext:n}),wx=e=>tt("generateBossingStrategy",{analysis:e}),xx=e=>tt("scoreBuildForLibrary",{analysis:e}),Wm="poe-ai-public-library",Ym=async()=>{try{const e=localStorage.getItem(Wm);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load public builds from localStorage",e)}return[]},Ix=async e=>{try{const t=await Ym(),n=[e,...t.filter(r=>r.id!==e.id)].slice(0,50);localStorage.setItem(Wm,JSON.stringify(n))}catch(t){throw console.error("Failed to save public build to localStorage",t),new Error("Could not save build to the public library.")}},Ax={history:[],simulationResult:null,isSimulating:!1,simulationError:null,craftingPlans:{},isCrafting:{},craftingError:{},metagamePulseResult:null,isFetchingMetagame:!1,metagameError:null,comparisonSelection:{slotA:null,slotB:null},isComparing:!1,comparisonResult:null,comparisonError:null,publicBuilds:[],isFetchingPublicBuilds:!1,isPublishing:!1},kx=(e,t)=>{switch(t.type){case"LOAD_HISTORY":return{...e,history:t.payload};case"ADD_SNAPSHOT":const n=[t.payload,...e.history].slice(0,20);return{...e,history:n};case"DELETE_SNAPSHOT":return{...e,history:e.history.filter(r=>r.id!==t.payload)};case"SET_SIMULATION_STATE":return{...e,...t.payload};case"SET_CRAFTING_STATE":return{...e,isCrafting:{...e.isCrafting,[t.payload.slot]:t.payload.isCrafting},craftingPlans:t.payload.craftingPlan?{...e.craftingPlans,[t.payload.slot]:t.payload.craftingPlan}:e.craftingPlans,craftingError:t.payload.craftingError!==void 0?{...e.craftingError,[t.payload.slot]:t.payload.craftingError}:e.craftingError};case"SET_METAGAME_STATE":return{...e,...t.payload};case"SET_COMPARISON_SELECTION":return{...e,comparisonSelection:t.payload};case"SET_COMPARISON_STATE":return{...e,isComparing:t.payload.isComparing,comparisonResult:t.payload.comparisonResult,comparisonError:t.payload.comparisonError};case"SET_PUBLIC_BUILDS":return{...e,publicBuilds:t.payload};case"SET_FETCHING_PUBLIC_BUILDS":return{...e,isFetchingPublicBuilds:t.payload};case"SET_PUBLISHING":return{...e,isPublishing:t.payload};default:return e}},Km=I.createContext(void 0),Px=({children:e})=>{const[t,n]=I.useReducer(kx,Ax),{showError:r}=c_();I.useEffect(()=>{o()},[]);const o=()=>{try{const g=localStorage.getItem("poe-ai-optimizer-history");g&&n({type:"LOAD_HISTORY",payload:JSON.parse(g)})}catch(g){F.error("Failed to load history",{error:g}),r("Failed to load history.","error")}},i=(g,v,T)=>{const x=T||(v?`${v.ascendancy}-${v.mainSkill}`:g.buildTitle),C={id:new Date().toISOString(),timestamp:Date.now(),buildTitle:g.buildTitle,characterName:x,result:g};n({type:"ADD_SNAPSHOT",payload:C});try{localStorage.setItem("poe-ai-optimizer-history",JSON.stringify([C,...t.history].slice(0,20)))}catch(P){F.error("Failed to save history",{error:P}),r("Failed to save analysis.","error")}},l=g=>{F.info("Loading analysis from history",{snapshotId:g.id})},s=g=>{n({type:"DELETE_SNAPSHOT",payload:g});try{localStorage.setItem("poe-ai-optimizer-history",JSON.stringify(t.history.filter(v=>v.id!==g)))}catch(v){F.error("Failed to update history in localStorage",{error:v}),r("Failed to delete analysis from history.","error")}},f=I.useCallback(async(g,v,T)=>{if(!g.trim()||!v.trim()){r("Original build data is missing for simulation.","warning"),n({type:"SET_SIMULATION_STATE",payload:{isSimulating:!1,simulationError:"Original build data is missing."}});return}n({type:"SET_SIMULATION_STATE",payload:{isSimulating:!0,simulationError:null,simulationResult:null}});try{const x=await gx(g,v,T);n({type:"SET_SIMULATION_STATE",payload:{isSimulating:!1,simulationResult:x}})}catch(x){F.error("handleRunSimulation failed.",{error:x}),r(`Simulation failed. ${x.message}`,"error"),n({type:"SET_SIMULATION_STATE",payload:{isSimulating:!1,simulationError:`Simulation failed. ${x.message}`}})}},[r]),c=I.useCallback(async(g,v,T)=>{if(!g){r("Original build data is missing for crafting plan generation.","warning"),n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!1,craftingError:"Original build data is missing."}});return}n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!0,craftingError:null}});try{const x=await yx(g,v,T);n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!1,craftingPlan:x}})}catch(x){F.error("handleGenerateCraftingPlan failed",{slot:v,error:x}),r(`Crafting plan generation for ${v} failed. ${x.message}`,"error"),n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!1,craftingError:x.message}})}},[r]),d=I.useCallback(async(g,v,T)=>{const x=t.craftingPlans[v];if(!g||!x){r("Crafting plan or original build data is missing for farming strategy generation.","warning"),n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!1,craftingError:"Missing data for farming strategy."}});return}n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!0}});try{const C=await vx(g,x.estimatedTotalCost,T);n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!1,craftingPlan:{...x,farmingStrategies:C}}})}catch(C){F.error("handleGenerateFarmingStrategy failed",{slot:v,error:C}),r(`Farming strategy generation for ${v} failed. ${C.message}`,"error"),n({type:"SET_CRAFTING_STATE",payload:{slot:v,isCrafting:!1,craftingError:`Farming strategy generation failed. ${C.message}`}})}},[t.craftingPlans,r]),p=I.useCallback(async g=>{n({type:"SET_METAGAME_STATE",payload:{isFetchingMetagame:!0,metagameError:null,metagamePulseResult:null}});try{const v=await _x(g);n({type:"SET_METAGAME_STATE",payload:{isFetchingMetagame:!1,metagamePulseResult:v}})}catch(v){F.error("handleGetMetagamePulse failed.",{error:v}),r(`Failed to fetch metagame data. ${v.message}`,"error"),n({type:"SET_METAGAME_STATE",payload:{isFetchingMetagame:!1,metagameError:`Failed to fetch metagame data. ${v.message}`}})}},[r]),h=I.useCallback((g,v)=>{n({type:"SET_COMPARISON_SELECTION",payload:{...t.comparisonSelection,[g]:v}}),n({type:"SET_COMPARISON_STATE",payload:{isComparing:!1,comparisonResult:null,comparisonError:null}})},[t.comparisonSelection]),m=I.useCallback(()=>{n({type:"SET_COMPARISON_SELECTION",payload:{slotA:null,slotB:null}}),n({type:"SET_COMPARISON_STATE",payload:{isComparing:!1,comparisonResult:null,comparisonError:null}})},[]),E=I.useCallback(async()=>{if(!t.comparisonSelection.slotA||!t.comparisonSelection.slotB){r("Please select two analyses to compare.","warning"),n({type:"SET_COMPARISON_STATE",payload:{isComparing:!1,comparisonResult:null,comparisonError:"Please select two analyses to compare."}});return}n({type:"SET_COMPARISON_STATE",payload:{isComparing:!0,comparisonResult:null,comparisonError:null}});try{const g=await Ex(t.comparisonSelection.slotA.result,t.comparisonSelection.slotB.result);n({type:"SET_COMPARISON_STATE",payload:{isComparing:!1,comparisonResult:{summary:g,snapshotA:t.comparisonSelection.slotA,snapshotB:t.comparisonSelection.slotB},comparisonError:null}})}catch(g){F.error("handleRunComparison failed.",{error:g}),r(`Comparison failed. ${g.message}`,"error"),n({type:"SET_COMPARISON_STATE",payload:{isComparing:!1,comparisonResult:null,comparisonError:`Comparison failed. ${g.message}`}})}},[t.comparisonSelection,r]),S=async()=>{n({type:"SET_FETCHING_PUBLIC_BUILDS",payload:!0});try{const g=await Ym();n({type:"SET_PUBLIC_BUILDS",payload:g})}catch(g){F.error("Failed to fetch public builds",g),r("Failed to fetch public builds.","error")}finally{n({type:"SET_FETCHING_PUBLIC_BUILDS",payload:!1})}},w=async g=>{n({type:"SET_PUBLISHING",payload:!0});try{const v=await xx(g.result),T=await bm(g.result.gearAnalysis.map(C=>C.itemName).join(", ")),x={id:g.id,publishedAt:Date.now(),buildTitle:g.buildTitle,characterName:g.characterName,mainSkill:T.mainSkill,ascendancy:T.ascendancy,aiScores:v,snapshot:g};await Ix(x),r("Build published successfully!","info")}catch(v){F.error("Failed to publish build",v),r("Failed to publish build.","error")}finally{n({type:"SET_PUBLISHING",payload:!1})}},_=I.useCallback(()=>{n({type:"LOAD_HISTORY",payload:[]}),n({type:"SET_SIMULATION_STATE",payload:{isSimulating:!1,simulationResult:null,simulationError:null}}),n({type:"SET_CRAFTING_STATE",payload:{slot:"",isCrafting:!1,craftingPlan:null,craftingError:null}}),n({type:"SET_METAGAME_STATE",payload:{isFetchingMetagame:!1,metagamePulseResult:null,metagameError:null}}),n({type:"SET_COMPARISON_SELECTION",payload:{slotA:null,slotB:null}}),n({type:"SET_COMPARISON_STATE",payload:{isComparing:!1,comparisonResult:null,comparisonError:null}}),n({type:"SET_PUBLIC_BUILDS",payload:[]}),n({type:"SET_FETCHING_PUBLIC_BUILDS",payload:!1}),n({type:"SET_PUBLISHING",payload:!1}),localStorage.removeItem("poe-ai-optimizer-history")},[]),y={state:t,dispatch:n,saveCurrentAnalysis:i,loadAnalysisFromHistory:l,deleteAnalysisFromHistory:s,handleRunSimulation:f,handleGenerateCraftingPlan:c,handleGenerateFarmingStrategy:d,handleGetMetagamePulse:p,handleSelectForComparison:h,handleRunComparison:E,clearComparison:m,fetchPublicBuilds:S,handlePublishBuild:w,resetHistory:_};return U.jsx(Km.Provider,{value:y,children:e})},Rx={hasCompletedWelcomeTour:!1,currentWelcomeTourStep:0,isWelcomeTourActive:!1,hasDismissedPobInputHint:!1},Dd="poe-ai-optimizer-onboarding",Mx=(e,t)=>{switch(t.type){case"SET_WELCOME_TOUR_ACTIVE":return{...e,isWelcomeTourActive:t.payload};case"NEXT_WELCOME_TOUR_STEP":return{...e,currentWelcomeTourStep:e.currentWelcomeTourStep+1};case"COMPLETE_WELCOME_TOUR":return{...e,hasCompletedWelcomeTour:!0,isWelcomeTourActive:!1,currentWelcomeTourStep:0};case"DISMISS_POB_INPUT_HINT":return{...e,hasDismissedPobInputHint:!0};case"LOAD_ONBOARDING_STATE":return{...e,...t.payload};default:return e}},Jm=I.createContext(void 0),Nx=({children:e})=>{const[t,n]=I.useReducer(Mx,Rx);I.useEffect(()=>{try{const f=localStorage.getItem(Dd);f&&n({type:"LOAD_ONBOARDING_STATE",payload:JSON.parse(f)})}catch(f){console.error("Failed to load onboarding state from localStorage",f)}},[]),I.useEffect(()=>{try{localStorage.setItem(Dd,JSON.stringify(t))}catch(f){console.error("Failed to save onboarding state to localStorage",f)}},[t]);const r=I.useCallback(()=>{t.hasCompletedWelcomeTour||(n({type:"SET_WELCOME_TOUR_ACTIVE",payload:!0}),n({type:"NEXT_WELCOME_TOUR_STEP"}))},[t.hasCompletedWelcomeTour]),o=I.useCallback(()=>{n({type:"NEXT_WELCOME_TOUR_STEP"})},[]),i=I.useCallback(()=>{n({type:"COMPLETE_WELCOME_TOUR"})},[]),l=I.useCallback(()=>{n({type:"DISMISS_POB_INPUT_HINT"})},[]),s={state:t,dispatch:n,startWelcomeTour:r,advanceWelcomeTour:o,completeWelcomeTour:i,dismissPobInputHint:l};return U.jsx(Jm.Provider,{value:s,children:e})},Dx=()=>{const e=I.useContext(Jm);if(e===void 0)throw new Error("useOnboarding must be used within an OnboardingProvider");return e},Zm="poe-ai-optimizer-theme",Lx=()=>{const e=localStorage.getItem(Zm);return e==="light"||e==="dark"?e:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")},Fx={currentTheme:Lx()},Ux=(e,t)=>{switch(t.type){case"SET_THEME":return{...e,currentTheme:t.payload};case"LOAD_THEME":return{...e,currentTheme:t.payload};default:return e}},Vx=I.createContext(void 0),zx=({children:e})=>{const[t,n]=I.useReducer(Ux,Fx);I.useEffect(()=>{document.body.classList.remove("theme-light","theme-dark"),document.body.classList.add(`theme-${t.currentTheme}`);try{localStorage.setItem(Zm,t.currentTheme)}catch(l){console.error("Failed to save theme to localStorage",l)}},[t.currentTheme]);const r=I.useCallback(l=>{n({type:"SET_THEME",payload:l})},[]),o=I.useCallback(()=>{n({type:"SET_THEME",payload:t.currentTheme==="light"?"dark":"light"})},[t.currentTheme]),i={state:t,dispatch:n,setTheme:r,toggleTheme:o};return U.jsx(Vx.Provider,{value:i,children:e})},Qm=I.createContext(null),Ox=({children:e})=>{const[t,n]=I.useState(!1),[r,o]=I.useState(!1),[i,l]=I.useState(!1),[s,f]=I.useState(!1),[c,d]=I.useState(0),p={isHistoryVisible:t,isGuidedReviewVisible:r,isGuideModalVisible:i,isPublicLibraryVisible:s,currentReviewStep:c,showHistory:()=>n(!0),hideHistory:()=>n(!1),showGuidedReview:()=>{d(0),o(!0)},hideGuidedReview:()=>o(!1),showGuideModal:()=>l(!0),hideGuideModal:()=>l(!1),showPublicLibrary:()=>f(!0),hidePublicLibrary:()=>f(!1),setReviewStep:d,resetUI:()=>{n(!1),o(!1),l(!1),f(!1),d(0)}};return U.jsx(Qm.Provider,{value:p,children:e})},Xm=I.createContext(null),Bx=({children:e})=>{const[t,n]=I.useState(null),[r,o]=I.useState([]),[i,l]=I.useState(!1),[s,f]=I.useState([]),[c,d]=I.useState(new Set),p=()=>{n(null),o([]),f([]),d(new Set)},h=w=>{var g;p();const _=cx(w);n(_);const y=[];w.passiveTreeAnalysis.nodesToRespec.length>0&&y.push("Explain the passive tree changes."),w.gearAnalysis.some(v=>v.suggestions.length>0)&&y.push(`Suggest a cheaper alternative for my ${(g=w.gearAnalysis.find(v=>v.suggestions.length>0))==null?void 0:g.slot}.`),y.push("Best upgrade for survivability?"),y.push("Best value damage upgrade?"),f(y),setTimeout(()=>m("welcome"),500)},m=I.useCallback(w=>{if(c.has(w)||i)return;const y={welcome:"I've finished analyzing your build! You can see the results on the left. Feel free to ask me any questions you have about the suggestions.",gear:"I see you're looking at your gear. Is there a specific piece you'd like to discuss upgrading?",tree:"The passive tree can be complex. Would you like me to explain the reasoning behind any of the nodes I suggested changing?",gems:"Gem links are crucial. Let me know if you want to explore alternative support gems for any of your skills.",flasks:"Your flasks provide a huge amount of power and utility. Do you have any questions about my suggestions for them?",synergy:"This section highlights non-obvious interactions in your build. Let me know if any of them are unclear.",defenses:"This chart visualizes your defensive layers. Ask me 'how can I improve my spell suppression?' to get specific advice.",improvements:"This is your prioritized to-do list. Let me know if you'd like a more detailed breakdown of any of these points.",leveling:"A good leveling plan can make starting a new character much smoother. Any questions about the strategy?",lootFilter:"This custom loot filter should help you find upgrades faster. Ask me if you want to know how to add your own custom rules to it.",crafting:"Crafting can be intimidating, but it's the best way to get perfect gear. Curious about any of the steps I've outlined?",simulations:"These simulations look for more advanced optimization paths. Happy to explain the theory behind any of these suggestions.",metagame:"The meta is always shifting! Understanding these trends can help you make more currency and find powerful new strategies."}[w];y&&(o(g=>[...g,{role:"model",content:y}]),d(g=>new Set(g).add(w)))},[c,i]),E=I.useCallback(async w=>{if(!t)return;s.length>0&&f([]),l(!0);const _={role:"user",content:w};o(y=>[...y,_,{role:"model",content:""}]);try{const y=await t.sendMessageStream({message:w});let g="";for await(const v of y)g+=v.text,o(T=>{const x=[...T];return x[x.length-1].content=g,x})}catch(y){F.error("Failed to send chat message.",{error:y}),o(g=>{const v=[...g];return v[v.length-1].content="Sorry, I encountered an error.",v})}finally{l(!1)}},[t,s]),S={chat:t,chatMessages:r,isChatLoading:i,promptSuggestions:s,proactiveMessagesSent:c,initializeChat:h,handleSendMessage:E,sendProactiveChatMessage:m,resetChat:p};return U.jsx(Xm.Provider,{value:S,children:e})},jm=()=>{const e=I.useContext(Xm);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},Pu=()=>{const e=I.useContext(Qm);if(!e)throw new Error("useUI must be used within a UIProvider");return e},eg=I.createContext(null),Gx=({children:e})=>{const[t,n]=I.useState("welcome"),[r,o]=I.useState(""),[i,l]=I.useState(""),[s,f]=I.useState(()=>localStorage.getItem("poe-ai-league-context")||"League Start"),[c,d]=I.useState("All-Rounder"),[p,h]=I.useState(null),[m,E]=I.useState(null),[S,w]=I.useState(0),[_,y]=I.useState(!1),[g,v]=I.useState([]),[T,x]=I.useState(null),[C,P]=I.useState(()=>localStorage.getItem("poe-ai-account-name")||""),[N,A]=I.useState(!1),[L,J]=I.useState(null),[Ve,X]=I.useState(!1),[We,nt]=I.useState(null),[Dn,R]=I.useState(new Set),[V,z]=I.useState({}),[j,re]=I.useState(null),[Ln,ft]=I.useState(!1),[Er,rt]=I.useState(null),[Fn,Sl]=I.useState(null),[og,Ru]=I.useState(!1),[ig,Cl]=I.useState(null),[lg,Tl]=I.useState(null),[sg,Mu]=I.useState(!1),[ag,wl]=I.useState(null),[ug,xl]=I.useState(null),[cg,Il]=I.useState(!1),[fg,Nu]=I.useState(null),[dg,Du]=I.useState(!1),[pg,Al]=I.useState(null),[hg,Lo]=I.useState(null),Fo=jm(),Uo=Pu();I.useEffect(()=>{localStorage.setItem("poe-ai-league-context",s)},[s]),I.useEffect(()=>{localStorage.setItem("poe-ai-account-name",C)},[C]),I.useEffect(()=>{if(t!=="loading")return;w(0);const D=setInterval(()=>{w($=>$>=7?(clearInterval(D),$):$+1)},1500);return()=>clearInterval(D)},[t]),I.useEffect(()=>{if(p!=null&&p.buildTitle){const D=`poe-ai-checked-${p.buildTitle}`,$=localStorage.getItem(D);R($?new Set(JSON.parse($)):new Set)}},[p==null?void 0:p.buildTitle]);const mg=D=>{if(!(p!=null&&p.buildTitle))return;const $=new Set(Dn);$.has(D)?$.delete(D):$.add(D),R($);const ae=`poe-ai-checked-${p.buildTitle}`;localStorage.setItem(ae,JSON.stringify(Array.from($)))},gg=()=>{n("welcome"),o(""),l(""),h(null),E(null),y(!1),v([]),x(null),A(!1),J(null),X(!1),nt(null),z({}),re(null),rt(null),Sl(null),Cl(null),Tl(null),wl(null),xl(null),Il(!1),Nu(null),Al(null)},yg=()=>{gg()},vg=()=>{P(""),v([]),x(null),o(""),l(""),E(null),J(null),X(!1),nt(null)},_g=I.useCallback(async()=>{if(!C.trim()){E("Please enter an account name.");return}y(!0),E(null),v([]),x(null),J(null),nt(null);try{const D=await fx(C);D.length===0&&E(`No characters found for account "${C}". The profile might be empty or private.`),v(D)}catch(D){F.error("Failed to fetch characters.",{error:D}),E(D.message||"An unknown error occurred while fetching characters.")}finally{y(!1)}},[C]),Eg=I.useCallback(D=>{x(D),o(""),l(""),J(null),X(!1),nt(null),E(null)},[]),kl=I.useCallback(async D=>{const $=D||r;if($.trim()){X(!0),nt(null),J(null);try{const ae=await bm($);J(ae)}catch(ae){F.error("handlePreflightCheck failed",{error:ae}),nt("AI could not read this build data. It might be invalid or malformed.")}finally{X(!1)}}},[r]),Sg=I.useCallback(async(D,$)=>{A(!0),E(null),nt(null),J(null),F.info("Fetching PoB data for character",{account:D,character:$});try{const{pobData:ae,pobUrl:Lt}=await dx(D,$);o(ae),l(Lt),await kl(ae)}catch(ae){F.error("Failed to fetch PoB data.",{error:ae}),E(ae.message||"An unknown error occurred while importing the character.")}finally{A(!1)}},[kl]),Cg=I.useCallback(async D=>{if(!r.trim()||!i.trim()){E("PoB data and URL are required.");return}n("loading"),E(null),h(null);try{const $=await px(r,i,s,c);h($),n("dashboard"),D($)}catch($){F.error("handleAnalysis failed.",{error:$}),E("Failed to analyze the build. The AI may be experiencing high traffic or the build data is unusual."),n("error")}},[s,r,i,c]),Tg=I.useCallback(async(D,$)=>{if(r){z(ae=>({...ae,[D]:{result:null,isLoading:!0,error:null}}));try{const ae=await hx(r,D,$,s);z(Lt=>({...Lt,[D]:{result:ae,isLoading:!1,error:null}}))}catch(ae){F.error("handleFindUpgrade failed",{slot:D,budget:$,error:ae});const Lt=`Upgrade search failed. ${ae.message}`;z(Te=>({...Te,[D]:{result:null,isLoading:!1,error:Lt}}))}}},[r,s]),wg=I.useCallback(async()=>{if(p){ft(!0),rt(null),re(null);try{const D=await mx(p,s);re(D)}catch(D){F.error("handleGenerateLootFilter failed",{error:D}),rt(`Failed to generate loot filter. ${D.message}`)}finally{ft(!1)}}},[p,s]),xg=I.useCallback(async()=>{if(r){Ru(!0),Cl(null),Sl(null);try{const D=await Cx(r,s);Sl(D)}catch(D){F.error("handleGenerateLevelingPlan failed",{error:D}),Cl(`Failed to generate leveling plan. ${D.message}`)}finally{Ru(!1)}}},[r,s]),Ig=I.useCallback(async D=>{if(p){Mu(!0),wl(null),Tl(null);try{const $=await Tx(p,D,s);Tl($)}catch($){F.error("handleTuneBuild failed",{error:$}),wl(`Failed to tune build. ${$.message}`)}finally{Mu(!1)}}},[p,s]),Ag=I.useCallback(async()=>{if(p){Il(!0);try{const D=await Sx(p);xl(D)}catch(D){F.error("handleGenerateGuide failed",{error:D}),xl("Sorry, there was an error generating the build guide.")}finally{Il(!1)}}},[p]),kg=I.useCallback(async()=>{if(p){Du(!0),Al(null);try{const D=await wx(p);Nu(D)}catch(D){F.error("handleGenerateBossingStrategy failed",{error:D}),Al(`Failed to generate bossing strategy. ${D.message}`)}finally{Du(!1)}}},[p]),Pg=()=>{Lo(null)},Rg=I.useCallback((D,$)=>{const Lt=$.filter(Te=>Te.id!==D.id).filter(Te=>Te.characterName===D.characterName&&Te.timestamp<D.timestamp).sort((Te,Ft)=>Ft.timestamp-Te.timestamp)[0];if(Lt){const Te=D.result.keyStats,Ft=Lt.result.keyStats,Ut={offenseChange:Te.offenseScore-Ft.offenseScore,defenseChange:Te.defenseScore-Ft.defenseScore,speedChange:Te.speedScore-Ft.speedScore,milestones:[]};Ft.defenseScore<75&&Te.defenseScore>=75&&Ut.milestones.push("Milestone Unlocked: Defensive Fortress! (Defense Score > 75)"),Ft.offenseScore<75&&Te.offenseScore>=75&&Ut.milestones.push("Milestone Unlocked: Offensive Powerhouse! (Offense Score > 75)"),Ft.speedScore<75&&Te.speedScore>=75&&Ut.milestones.push("Milestone Unlocked: Clear Speed Champion! (Speed Score > 75)"),Ut.offenseChange>0||Ut.defenseChange>0||Ut.speedChange>0||Ut.milestones.length>0?Lo(Ut):Lo(null)}else Lo(null);h(D.result),Fo==null||Fo.initializeChat(D.result),n("dashboard"),Uo==null||Uo.hideHistory()},[Fo,Uo]),Mg={view:t,pobInput:r,pobUrl:i,leagueContext:s,analysisGoal:c,analysisResult:p,error:m,currentStepIndex:S,isAnalyzing:t==="loading",isFetchingCharacters:_,characters:g,selectedCharacter:T,accountName:C,isFetchingPobData:N,preflightResult:L,isPreflighting:Ve,preflightError:We,checkedImprovements:Dn,upgrades:V,lootFilter:j,isGeneratingFilter:Ln,filterError:Er,levelingPlan:Fn,isGeneratingPlan:og,planError:ig,tuningResult:lg,isTuning:sg,tuningError:ag,guideContent:ug,isGeneratingGuide:cg,bossingStrategy:fg,isGeneratingBossingStrategy:dg,bossingStrategyError:pg,progressionAlert:hg,setPobInput:o,setPobUrl:l,setLeagueContext:f,setAnalysisGoal:d,setAccountName:P,setAnalysisResult:h,setView:n,handleFetchCharacters:_g,handleCharacterAnalysis:Sg,handleSelectCharacter:Eg,resetImport:vg,handleAnalysis:Cg,handlePreflightCheck:kl,handleToggleImprovement:mg,handleFindUpgrade:Tg,handleGenerateLootFilter:wg,handleGenerateLevelingPlan:xg,handleTuneBuild:Ig,handleGenerateGuide:Ag,handleGenerateBossingStrategy:kg,loadSnapshotAndCheckProgression:Rg,clearProgressionAlert:Pg,resetAnalysis:yg};return U.jsx(eg.Provider,{value:Mg,children:e})},tg=()=>{const e=I.useContext(eg);if(!e)throw new Error("useAnalysis must be used within an AnalysisProvider");return e},$x=()=>{const e=I.useContext(Km);if(!e)throw new Error("useHistory must be used within a HistoryProvider");return e},Hx=I.createContext(void 0),qx=({children:e})=>{const{resetAnalysis:t}=tg(),{resetChat:n}=jm(),{resetUI:r}=Pu(),{resetHistory:o}=$x(),i=I.useCallback(()=>{t(),n(),r(),o()},[t,n,r,o]);return U.jsx(Hx.Provider,{value:{resetAllAppStates:i},children:e})},bx="modulepreload",Wx=function(e){return"/"+e},Ld={},ng=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(n.map(f=>{if(f=Wx(f),f in Ld)return;Ld[f]=!0;const c=f.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":bx,c||(p.as="script"),p.crossOrigin="",p.href=f,s&&p.setAttribute("nonce",s),document.head.appendChild(p),c)return new Promise((h,m)=>{p.addEventListener("load",h),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l}return o.then(l=>{for(const s of l||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Yx=I.lazy(()=>ng(()=>import("./AnalysisDashboard-4A5tJyTB.js"),[])),Kx=I.lazy(()=>ng(()=>import("./PobInput-DWu2oaDR.js"),[]).then(e=>({default:e.default}))),Jx=()=>{const[e,t]=I.useState(F.isConsoleVisible()),[n,r]=I.useState([]);I.useEffect(()=>{F.subscribeVisibility(()=>{t(F.isConsoleVisible())});const s=F.subscribe(f=>r(f));return()=>{s()}},[]);const{view:o,error:i,resetAnalysis:l}=tg();return Pu(),Dx(),U.jsxs("div",{className:"app-container",children:[U.jsx("header",{className:"app-header",children:U.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[U.jsx("h1",{className:"text-2xl font-bold text-yellow",children:"CRT Futurism Build Analyzer"}),U.jsx("button",{onClick:F.toggleVisibility,className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors","aria-expanded":e,children:"Debug Console"})]})}),U.jsx("main",{className:"flex-1 p-6 overflow-auto",children:U.jsxs(I.Suspense,{fallback:U.jsx("div",{children:"Loading..."}),children:[o==="welcome"&&U.jsx("div",{className:"max-w-4xl mx-auto",children:U.jsx(Kx,{})}),o==="loading"&&U.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:U.jsx("p",{children:"AI is theorycrafting..."})}),o==="dashboard"&&U.jsx("div",{className:"max-w-5xl mx-auto animate-fade-in flex flex-col gap-6",children:U.jsx(Yx,{})}),o==="error"&&i&&U.jsxs("div",{className:"error-container text-center",children:[U.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"An Error Occurred"}),U.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:i}),U.jsx("button",{onClick:l,className:"button button-secondary mt-4",children:"Start Over"})]})]})}),U.jsx("footer",{className:"text-center p-6 opacity-50 text-sm",role:"contentinfo",children:U.jsxs("p",{children:["© ",new Date().getFullYear()," CRT Futurism. All rights reserved."]})}),e&&U.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"240px",background:"rgba(0,0,0,0.85)",borderTop:"1px solid var(--color-glow-secondary)",zIndex:60,display:"flex",flexDirection:"column"},children:[U.jsxs("div",{className:"flex-row justify-between items-center p-4",style:{borderBottom:"1px solid var(--color-divider-default)"},children:[U.jsx("strong",{children:"Debug Console"}),U.jsx("button",{onClick:F.toggleVisibility,className:"button button-secondary",style:{padding:"0.25rem 0.75rem",fontSize:"0.75rem"},children:"Close"})]}),U.jsx("div",{className:"p-4",style:{overflowY:"auto",fontSize:"0.875rem"},children:n.length===0?U.jsx("div",{className:"opacity-50",children:"No logs yet."}):n.map(s=>U.jsxs("div",{style:{marginBottom:"0.25rem"},children:[U.jsxs("span",{style:{opacity:.7},children:["[",s.timestamp,"]"]})," ",U.jsx("span",{style:{fontWeight:700,color:"var(--color-status-warning)"},children:s.level})," ",U.jsx("span",{children:s.message})]},s.id))})]})]})},Zx=()=>(bd.useEffect(()=>{F.info("Application initialized.")},[]),U.jsx(u_,{children:U.jsx(Ox,{children:U.jsx(Px,{children:U.jsx(Bx,{children:U.jsx(Gx,{children:U.jsx(Nx,{children:U.jsxs(zx,{children:[" ",U.jsx(qx,{children:U.jsx(Jx,{})})]})})})})})})})),rg=document.getElementById("root");if(!rg)throw new Error("Could not find root element to mount to");const Qx=ys.createRoot(rg);Qx.render(U.jsx(bd.StrictMode,{children:U.jsx(Zx,{})}));export{bd as R,$x as a,c_ as b,jm as c,Pu as d,aS as e,jx as i,U as j,F as l,I as r,tg as u};
